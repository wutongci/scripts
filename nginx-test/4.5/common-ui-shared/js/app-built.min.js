/*! common-ui-shared - 0.3.0 @ 2018-01-30 16:19:31 */define("common-ui-shared/utils/browser-check",[],function(){var a,b=navigator.userAgent.toLowerCase(),c=window.devicePixelRatio||1,d=/(chrome)[ \/]([\w.]+)/.exec(b)||/(webkit)[ \/]([\w.]+)/.exec(b)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(b)||/(msie) ([\w.]+)[\S\s]*trident\/([\w.]+)/.exec(b)||/(msie) ([\w.]+)/.exec(b)||b.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(b)||[];if("msie"===d[1]){var e=parseInt(d[2],10);switch(e){case 7:a=!!d[3]}}var f=/(ipad)[\S\s]*os (\d+)_(\d+)/.exec(b)||/(iphone)[\S\s]*os (\d+)_(\d+)/.exec(b)||/(android)[\S\s]*(mobile)/.exec(b)||/(android)[\S\s]*(?!mobile)/.exec(b)||/(kfjwi) /.exec(b)||/(kftt) /.exec(b)||/(kfot) /.exec(b)||[],g=f[1],h="pc";if("android"===g||"kfjwi"===g||"kftt"===g||"kfot"===g){var i=window.screen,j=i.width,k=i.height,l=Math.min(j,k);h=l/c>=300?"tablet":"mobile",g="android"}else"ipad"===g?(h="tablet",g="ios"):"iphone"===g&&(h="mobile",g="ios");return{browser:d[1]||"",version:d[2]||"0",os:g,device:h,compatibilityMode:a}}),define("troopjs-requirejs/template!common-ui-shared/widget/tablet-notification/tablet-notification.html",[],function(){return function(a){var b='<div class="com-tablet-download com-tablet-'+a.version+'">\n    <div class="com-tablet-cover">\n        <div class="com-tablet-logo"></div>\n        <div class="com-tablet-links">\n            <span class="com-tablet-available" '+a.weaveAttr+"='troopjs-ef/blurb/widget' data-blurb-id='511879' data-text-en='APP AVAILABLE ON'></span>\n            ";return"ios"===a.os&&a.ipadLink&&(b+='\n            <a href="'+a.ipadLink+'" target="_blank" class="com-tablet-app-store" data-action="iosClick"></a>\n            '),b+="\n            ","android"===a.os&&a.androidLink&&(b+='\n            <a href="'+a.androidLink+'" target="_blank" class="com-tablet-google-play" data-action="androidClick"></a>\n            '),b+='\n        </div>\n\n        <ul class="com-tablet-point">\n            <li class="com-tablet-levels">\n                <span class="com-tablet-circle">\n                    16\n                </span>\n                <p class="com-tablet-disc">\n                    <span class="com-tablet-disc-title" '+a.weaveAttr+"='troopjs-ef/blurb/widget' data-blurb-id='511880' data-text-en='16 levels'></span>\n                    <br />\n                    <span "+a.weaveAttr+'=\'troopjs-ef/blurb/widget\' data-blurb-id=\'511881\' data-text-en=\'of interactive course lessons\'></span> \n                </p>\n            </li>\n            <li class="com-tablet-levels">\n                <span class="com-tablet-circle com-tablet-circle-s">\n                    24/7\n                </span>\n                <p class="com-tablet-disc">\n                    <span class="com-tablet-disc-title" '+a.weaveAttr+"='troopjs-ef/blurb/widget' data-blurb-id='511882' data-text-en='24/7 Access'></span>\n                    <br />\n                    <span "+a.weaveAttr+'=\'troopjs-ef/blurb/widget\' data-blurb-id=\'511883\' data-text-en=\'to skilled English teachers\'></span> \n                </p>\n            </li>\n            <li class="com-tablet-levels">\n                <span class="com-tablet-circle com-tablet-circle-s">\n                    100 <span class="com-tablet-s">%</span>\n                </span>\n                <p class="com-tablet-disc">\n                    <span class="com-tablet-disc-title" '+a.weaveAttr+"='troopjs-ef/blurb/widget' data-blurb-id='511884' data-text-en='100% Portable learning'></span>\n                    <br />\n                    <span "+a.weaveAttr+"='troopjs-ef/blurb/widget' data-blurb-id='511885' data-text-en='online or offline'></span> \n                </p>\n            </li>\n        </ul>\n        <button class=\"com-tablet-not-now\" data-action=\"close\" "+a.weaveAttr+"='troopjs-ef/blurb/widget' data-blurb-id='511886' data-text-en='NOT NOW, TAKE ME TO THE WEBSITE'>\n        </button>\n    </div>\n</div>"}}),define("common-ui-shared/widget/tablet-notification/main",["troopjs-ef/component/widget","troopjs-browser/loom/config","template!./tablet-notification.html","common-ui-shared/utils/browser-check","Cookies"],function(a,b,c,d,e){var f="$element",g="ccl!'school.tablet.appsdownload.enable'",h="ccl!'school.ipad.product'",i="ccl!'school.android.product'",j="ccl!'school.ipad.product.appstore.url'",k="ccl!'school.android.product.appstore.url'",l="Tablet_Notification";return a.extend(function(a,b,c){this[f]=a,this._render=!1,this._version=c||"englishtown"},{"sig/start":function(){var a=this;return a.query(g,h,i,j,k).spread(function(b,c,d,e,f){return a._enable=!!b&&"true"===b.value,a._ipad=!!c&&"englishtown"===c.value,a._android=!!d&&"englishtown"===d.value,a._ipadLink=e&&e.value,a._androidLink=f&&f.value,[a.publish("tablet-notification/show")]})},"hub/tablet-notification/show":function(a){var g=this,h=e.get(l);return g._enable&&(g._ipad&&g._ipadLink||g._android&&g._androidLink)&&"tablet"===d.device&&"false"!==h?g._render?g[f].fadeIn().promise():g.html(c,{weaveAttr:b.weave,os:d.os,ipadLink:g._ipadLink,androidLink:g._androidLink,version:g._version}).spread(function(){return[g[f].fadeIn().promise()]}):void 0},"hub/tablet-notification/hide":function(){this[f].fadeOut()},"dom:[data-action='close']/click":function(){this.publish("tablet-notification/hide"),e.set(l,"false")}})});
