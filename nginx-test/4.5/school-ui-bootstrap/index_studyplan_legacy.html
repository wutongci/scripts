<!doctype html>
<html class="ets-dark">
	<head>
		<!-- Latest IE, Enable Chrome frame, and require ActiveX(flash) in Windows UI mode IE10 -->
		<meta http-equiv="X-UA-Compatible" content="IE=edge, requiresActiveX=true, chrome=1"/>
		<meta name="viewport" content="width=device-width,initial-scale=1.0,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no">
		<meta name="format-detection" content="telephone=no" />
		<meta name="referrer" content="unsafe-url" />
		<meta name="referrer" content="always" />
		<meta charset="utf-8"/>
		<title>EF</title>
		<!-- gudstrap -->
		<link rel="stylesheet" type="text/css" href="{CONTEXT:cache.server}/_shared/gudstrap/1.1.1-ef.1/css/gudstrap.css"/>

		<link rel="stylesheet" type="text/css" href="{CONTEXT:cache.server}/_shared/school-ui-shared-legacy/{CCL:school.ui.shared.version}/css/ets-global.min.css" media="all"/>
		<link rel="stylesheet" type="text/css" href="{CONTEXT:cache.server}/_shared/school-ui-study-legacy/{CCL:school.ui.study.version}/css/ets-ui-main.min.css" media="all"/>
		<link rel="stylesheet" type="text/css" href="{CONTEXT:cache.server}/_shared/school-ui-activity/{CCL:school.ui.activity.version}/css/ets-act-main.min.css" media="all"/>
		<link rel="stylesheet" type="text/css" href="{CONTEXT:cache.server}/_shared/school-ui-activity-container-legacy/{CCL:school.ui.activity.container.version}/css/ets-acc-main.min.css" media="all" />
		<link rel="stylesheet" type="text/css" href="{CONTEXT:cache.server}/_shared/school-ui-studyplan-legacy/2018.23.1-1/css/ets-sp-main.min.css" media="all" />
		<link rel="stylesheet" type="text/css" href="{CONTEXT:cache.server}/_shared/techcheck-ui/{CCL:school.techcheck.ui.version}/css/tck-main.min.css" media="all" />
		<!-- header & footer -->
		<link rel="stylesheet" href="{CONTEXT:cache.server}/_shared/headerfooter/{CCL:headerfooter.version}/css/main.min.css"/>
		<!-- tooltips-ui -->
		<link rel="stylesheet" type="text/css" href="{CONTEXT:cache.server}/_shared/jquery-tipsy/1.0.0a-refined/stylesheets/tipsy.css"/>
		<link rel="stylesheet" type="text/css" href="{CONTEXT:cache.server}/_shared/tooltips-ui/{CCL:tooltips.ui.version}/css/main.min.css"/>
		<!-- mediaelement css, some rules may be overridden by school-ui-shared -->
		<link rel="stylesheet" type="text/css" href="{CONTEXT:cache.server}/_shared/mediaelement/2.22/mediaelementplayer.min.css" media="all"/>
		<!--shared libs css-->
		<link rel="stylesheet" type="text/css" href="{CONTEXT:cache.server}/_shared/fancybox/1.3.4-ef.1/jquery.fancybox.css" media="all"/>
		<link rel="stylesheet" type="text/css" href="{CONTEXT:cache.server}/_shared/fancybox/2.1.5/jquery.fancybox.css" media="all"/>
		<link rel="stylesheet" type="text/css" href="{CONTEXT:cache.server}/_shared/jquery-scrollbar/3.1.13/jquery.mCustomScrollbar.css"/>
		

		<!-- pop cache data -->
		<script type="application/json" data-query="context!current|command!*|school_context!current.user|school_context!current.currentEnrollment"></script>

	</head>
	<body data-weave-1="school-ui-shared/tracker/etvt/main">
		<div class="ue-header-container header-pepper-{CCL:Campus.Pepper.Enabled}">
			<div class="ue-header">
				<div class="ue-inner ue-clearfix" data-weave-1="headerfooter/widget/header/main">
					<h1>
						<a class="ue-logo">
                            <img src="{CONTEXT:cache.server}{CCL:masterpage.v2.shared.logo}" height="44" alt="EF"/>						</a>
					</h1>
				</div>
			</div>
		</div>
		<!--<div class="ets-ui-unit-page" data-weave-2="school-ui-study/widget/application school-ui-study/widget/school" data-z-index="200"></div>-->
		<div class="gud ets-sp-init" data-delay-stop="200" data-weave="school-ui-studyplan/widget/initialization/main school-ui-studyplan/widget/initialization/hash troopjs-ef/spinner/widget"></div>
		<div class="ets-ui-acc-wrap ets-none" data-weave="school-ui-activity-container/widget/activity/activity-container/main"></div>
		<div data-weave="school-ui-activity/shared/asr/asr-init" class="ets-asr-show" data-action="enable"></div>
		<div class="ue-footer footer-pepper-{CCL:Campus.Pepper.Enabled}">
			<div class="ue-inner ue-clearfix" data-weave-1="headerfooter/widget/footer/main"></div>
		</div>
		<div class="ets-ui-tts" data-z-index="210" data-weave="troopjs-ef/ccl/placeholder('school-ui-shared/tts/main')" data-ccl="school.courseware.e12.enableTTS"></div>
		<div data-weave-1="tooltips-ui/widget/tooltip-manager/main"></div>
		<div data-weave="school-ui-shared/plugins/techcheck/main"></div>
		<script type="text/javascript">
			var require = (function() {

				return {
					"callback" : function () {


						var config = {
							"app-version":{
								"school-ui-activity": "{CCL:school.ui.activity.version}",
								"school-ui-activity-container": "{CCL:school.ui.activity.container.version}",
								"school-ui-shared": "{CCL:school.ui.shared.version}",
								"school-ui-study": "{CCL:school.ui.study.version}",
								"school-ui-studyplan": "2018.23.1-1",
								"headerfooter": "{CCL:headerfooter.version}"
							},
							
							"cacheServer": "{CONTEXT:cache.server}"
						};

						

						var deps1x = [
							"headerfooter"
						];
						var deps2x = [
							"livechat-ui"
						];
						if (!config.debug) {
							deps1x.push("school-ui-shared");
							deps1x.push("tooltips-ui");
							deps1x.push("when");

							deps2x.push("techcheck-ui");
							deps2x.push("school-ui-activity");
							deps2x.push("school-ui-activity-container");
							deps2x.push("school-ui-shared");
							deps2x.push("school-ui-study");
							deps2x.push("school-ui-studyplan");
						}

						var callbacks = [];

						require.config({
							"context" : "troopjs-1.0",

							"waitSeconds": 0,

							"baseUrl": "{CONTEXT:cache.server}/",

							"packages": [
								{
									"name": "school-ui-study",
									"location": "_shared/school-ui-study-legacy/{CCL:school.ui.study.version}/js",
									"main": "app-built.min"
								},
								{
									"name": "school-ui-shared",
									"location": "_shared/school-ui-shared-legacy/{CCL:school.ui.shared.version}/js/1.x",
									"main": "app-built.min"
								},
								{
									"name": "headerfooter",
									"location": "_shared/headerfooter/{CCL:headerfooter.version}/js",
									"main": "app-built.min"
								},
								{
									"name": "legacy/toolbar",
									"location": "_shared/headerfooter/{CCL:headerfooter.version}/js/legacy/toolbar",
									"main": "toolbar.main-2.0.0.min"
								},
								{
									"name": "legacy/comet",
									"location": "_shared/headerfooter/{CCL:headerfooter.version}/js/legacy/comet",
									"main": "et.comet-2.0.0.min"
								},
								{
									"name": "legacy/game",
									"location": "_shared/headerfooter/{CCL:headerfooter.version}/js/legacy/game"
								},
								{
									"name": "legacy/translator",
									"location": "school/_scripts",
									"main": "translator.min"
								},
								{
									"name": "tooltips-ui",
									"location": "_shared/tooltips-ui/{CCL:tooltips.ui.version}/js",
									"main": "app-built.min"
								},
								{
									"name": "troopjs-bundle",
									"location": "_shared/troopjs-bundle/1.0.9-16",
									"main": "troopjs-bundle.min"
								},
								{
									"name": "troopjs-ef",
									"location": "_shared/troopjs-ef/1.0.0-78",
									"main": "nodeps"
								},
								{
									"name": "jquery",
									"location": "_shared/jquery/1.7.2",
									"main": "jquery.min"
								},
								{
									"name": "jquery-jsonp",
									"location": "_shared/jquery-jsonp/2.1.4",
									"main": "jquery-jsonp.min"
								},
								{
									"name": "jquery.easing",
									"location": "_shared/jquery-easing/1.3",
									"main": "jquery.easing.min"
								},
								{
									"name": "jquery.mousewheel",
									"location": "_shared/jquery-mousewheel/3.0.6",
									"main": "jquery.mousewheel.min"
								},
								{
									"name": "jquery.ui",
									"location": "_shared/jquery-ui/1.8.22",
									"main": "jquery-ui.min"
								},
								{
									"name": "jquery.transit",
									"location": "_shared/jquery-transit/0.1.3",
									"main": "jquery.transit.min"
								},
								{
									"name": "jquery.jscrollpane",
									"location": "_shared/jquery-jscrollpane/2.0.0b12",
									"main": "jquery.scrollpane.min"
								},
								{
									"name": "jquery.scrollto",
									"location": "_shared/jquery-scrollto/1.4.2",
									"main": "jquery.scrollto.min"
								},
								{
									"name": "jquery.viewport",
									"location": "_shared/jquery-viewport/1.0",
									"main": "jquery.viewport.min"
								},
								{
									"name": "jquery.flip",
									"location": "_shared/jquery-flip/0.9.10-shim",
									"main": "jquery.flip.min"
								},
								{
									"name": "jquery.form",
									"location": "_shared/jquery-form/3.20",
									"main": "jquery.form.min"
								},
								{
									"name": "swfobject",
									"location": "_shared/swfobject/2.2",
									"main": "swfobject.min"
								},
								{
									"name": "base64",
									"location": "_shared/ScriptSharp/0.5.6",
									"main": "base64-amd.min"
								},
								{
									"name": "underscore",
									"location": "_shared/underscore.js/1.3.3",
									"main": "underscore.min"
								},
								{
									"name": "gollum",
									"location": "_shared/gollum/1.0.0-3",
									"main": "gollum.min"
								},
								{
									"name": "string.split",
									"location": "_shared/string-split/0",
									"main": "string-split.min"
								},
								{
									"name": "tooltip",
									"location": "_shared/tooltip/0",
									"main": "tooltip.min"
								},
								{
									"name": "jquery.counter",
									"location": "_shared/jquery-counter/2.2",
									"main": "jquery.counter.min"
								},
								{
									"name": "mediaelement-and-player",
									"location": "_shared/mediaelement/2.22",
									"main": "mediaelement-and-player.min"
								},
								{
									"name": "mediaelement-plugin-ef",
									"location": "_shared/mediaelement-plugin-ef/1.0.2",
									"main": "app-built.min"
								},
								{
									"name": "markdownjs",
									"location": "_shared/markdown-js/0.4.0",
									"main": "markdown.min"
								},
								{
									"name": "jquery-tipsy",
									"location": "_shared/jquery-tipsy/1.0.0a-refined/javascripts",
									"main": "jquery.tipsy.min"
								},
								{
									"name": "json2",
									"location": "_shared/json2/20111019",
									"main": "json2.min"
								},
								{
									"name": "Cookies",
									"location": "_shared/Cookies/0.3.1",
									"main": "cookies.min"
								},
								{
									"name": "poly",
									"location": "_shared/poly/0.5.1-43-ef.1",
									"main": "poly-bundle.min"
								},
								{
									"name": "client-tracking",
									"location": "_shared/client-tracking/1.0.17",
									"main": "bundle-troopjs.min"
								},
								{
									"name": "when",
									"location": "_shared/when/3.4.6-ef.1",
									"main": "when-bundle.min"
								},
								{
									"name": "jquery.fancybox",
									"location": "_shared/fancybox/1.3.4-ef.1",
									"main": "jquery.fancybox.min"
								},
								{
									"name": "moment",
									"location": "/_shared/moment/2.10.3",
									"main": "moment-with-locales.min"
								},
								{
									"name": "jquery.countdown",
									"location": "/_shared/jquery.countdown/2.1.0",
									"main": "jquery.countdown.min"
								},
								{
									"name": "jquery.scrollbar",
									"location": "/_shared/jquery-scrollbar/3.1.13",
									"main": "jquery.mCustomScrollbar.min"
								},
								{
									"name": "asr-core",
									"location": "/_shared/asr-core/{CCL:school.asr.core.version}",
									"main": "main.min"
								}
							],

							"shim" : {
								"json2" : {
									exports : function () {
										return window.JSON;
									}
								},
								"jquery.fancybox" : {
									deps :[ "jquery", "jquery.easing", "jquery.mousewheel" ],
									exports : function ($, easing, mousewheel) {
										return $;
									}
								},
								"jquery.easing" : {
									deps :[ "jquery" ],
									exports : function ($) {
										return $;
									}
								},
								"jquery.mousewheel" :  {
									deps :[ "jquery" ],
									exports : function ($) {
										return $;
									}
								},
								"jquery.scrollto": {
									deps: ["jquery"],
									exports: function($) {
										return $;
									}
								},
								"jquery.viewport": {
									deps: ["jquery"],
									exports: function($) {
										return $;
									}
								},
								"mediaelement-and-player": {
									deps: ["jquery"],
									exports: function () {
										return window.mejs;
									}
								},
								"jquery.ui": {
									deps: ["jquery"],
									exports: function($){
										return $;
									}
								},
								"jquery.transit" : ["jquery"],
								"jquery.flip":{
									deps: ["jquery"],
									exports: function($){
										return $;
									}
								},
								"underscore": {
									exports: function(){
										return _;
									}
								},
								'jquery.counter': {
									deps :[ "jquery" ],
									exports : function ($) {
										return $;
									}
								},
								"jquery.form": {
									deps: ['jquery'],
									exports: function ($) {
										return $;
									}
								},
								"swfobject": {
									exports: function () {
										return window.swfobject;
									}
								},
								"markdownjs": {
									exports: function () {
										return window.markdown;
									}
								},
								"jquery-tipsy": {
									deps: ['jquery'],
									exports: function($) {
										return $;
									}
								}
							},

							"map" : {
								"*" : {
									"template" : "troopjs-requirejs/template",
									"logger" : "troopjs-core/logger/pubsub",
									"config" : "troopjs-ef/config"
								}
							},

							"deps": ["require", "jquery", "poly", "troopjs-bundle", "troopjs-ef"],

							"config": {
								"school-ui": config,
								"school-ui-study/module": config,
								"school-ui-shared/module": config,
								"headerfooter": config,
								"client-state/adapters/context" : {
									data : {
										
										"page.name"				: "Study Plan",
										"page.siteSection"		: "Course",
										"page.siteSubSection"	: "Online Study"
									}
								}
							},

							"callback" : function (localRequire, jQuery) {

								define("jquery.mediaelement.player",
										["jquery", "mediaelement-and-player"],
										function ($) {
											
											return $;
										});

								define("jquery.mediaelement",
										["jquery", "mediaelement-and-player"],
										function ($) {
											
											return $;
										});


								localRequire([ "config" ].concat(deps1x), function (_config) {

									jQuery.extend(_config, config);

									localRequire([
										"troopjs-ef/widget/application",
										"troopjs-ef/data/cache",
										"troopjs-ef/service/query",
										"troopjs-core/remote/ajax",
										"troopjs-jquery/weave",
										"troopjs-jquery/destroy",
										"troopjs-jquery/action",
										"troopjs-jquery/resize",
										"troopjs-jquery/dimensions",
										"troopjs-jquery/hashchange",
										"client-tracking"
									], function (Application, Cache, Query, Ajax) {
										Ajax().start();
										Query(Cache());
//										callbacks.push(function () {
//											Application(jQuery("html"), "bootstrap").start();
//										});
									});
								});
							}
						});

						require.config({
							"context" : "troopjs-2.0",

							"waitSeconds": 0,

							"baseUrl": "{CONTEXT:cache.server}/",

							"packages": [
								{
									"name": "school-ui-shared",
									"location": "_shared/school-ui-shared-legacy/{CCL:school.ui.shared.version}/js/2.x",
									"main": "app-built.min"
								},
								{
									"name": "school-ui-study",
									"location": "_shared/school-ui-study-legacy/{CCL:school.ui.study.version}/js",
									"main": "app-built.min"
								},
								{
									"name": "school-ui-studyplan",
									"location": "_shared/school-ui-studyplan-legacy/2018.23.1-1/js",
									"main": "app-built.min"
								},
								{
									"name": "school-ui-activity",
									"location": "_shared/school-ui-activity/{CCL:school.ui.activity.version}/js",
									"main": "app-built.min"
								},
								{
									"name": "school-ui-activity-container",
									"location": "_shared/school-ui-activity-container-legacy/{CCL:school.ui.activity.container.version}/js",
									"main": "app-built.min"
								},
								{
									"name": "techcheck-ui",
									"location": "/_shared/techcheck-ui/{CCL:school.techcheck.ui.version}/js",
									"main": "app-built.min"
								},
								{
									"name": "troopjs-bundle",
									"location": "_shared/troopjs-bundle/2.0.2-8-ef.3",
									"main": "maxi.min"
								},
								{
									"name": "troopjs-ef",
									"location": "_shared/troopjs-ef/2.0.2-ef.4",
									"main": "nodeps"
								},
								{
									"name": "jquery",
									"location": "_shared/jquery/1.9.1",
									"main": "jquery-1.9.1.min"
								},
								{
									"name": "jquery.gudstrap",
									"location": "_shared/gudstrap/1.1.1-ef.1/js",
									"main": "gudstrap.min"
								},
								{
									"name": "jquery-jsonp",
									"location": "_shared/jquery-jsonp/2.1.4",
									"main": "jquery-jsonp.min"
								},
								{
									"name": "poly",
									"location": "_shared/poly/0.5.1-43-ef.1",
									"main": "poly-bundle.min"
								},
								{
									"name": "Cookies",
									"location": "_shared/Cookies/0.3.1",
									"main": "cookies.min"
								},
								{
									"name": "jquery.easing",
									"location": "_shared/jquery-easing/1.3",
									"main": "jquery.easing.min"
								},
								{
									"name": "jquery.mousewheel",
									"location": "_shared/jquery-mousewheel/3.0.6",
									"main": "jquery.mousewheel.min"
								},
								{
									"name": "jquery.ui",
									"location": "_shared/jquery-ui/1.12.1",
									"main": "jquery-ui.min"
								},
								{
									"name": "jquery.ui.touch-punch",
									"location": "_shared/jquery.ui.touch-punch/0.2.3",
									"main": "jquery.ui.touch-punch.min"
								},
								{
									"name": "jquery.transit",
									"location": "_shared/jquery-transit/0.1.3",
									"main": "jquery.transit.min"
								},
								{
									"name": "jquery.jscrollpane",
									"location": "_shared/jquery-jscrollpane/2.0.0b12",
									"main": "jquery.scrollpane.min"
								},
								{
									"name": "jquery.scrollto",
									"location": "_shared/jquery-scrollto/1.4.2",
									"main": "jquery.scrollto.min"
								},
								{
									"name": "jquery.viewport",
									"location": "_shared/jquery-viewport/1.0",
									"main": "jquery.viewport.min"
								},
								{
									"name": "jquery.flip",
									"location": "_shared/jquery-flip/0.9.10-shim",
									"main": "jquery.flip.min"
								},
								{
									"name": "jquery.form",
									"location": "_shared/jquery-form/3.20",
									"main": "jquery.form.min"
								},
								{
									"name": "swfobject",
									"location": "_shared/swfobject/2.2",
									"main": "swfobject.min"
								},
								{
									"name": "base64",
									"location": "_shared/ScriptSharp/0.5.6",
									"main": "base64-amd.min"
								},
								{
									"name": "underscore",
									"location": "_shared/underscore.js/1.3.3",
									"main": "underscore.min"
								},
								{
									"name": "gollum",
									"location": "_shared/gollum/1.0.0-3",
									"main": "gollum.min"
								},
								{
									"name": "string.split",
									"location": "_shared/string-split/0",
									"main": "string-split.min"
								},
								{
									"name": "tooltip",
									"location": "_shared/tooltip/0",
									"main": "tooltip.min"
								},
								{
									"name": "jquery.counter",
									"location": "_shared/jquery-counter/2.2",
									"main": "jquery.counter.min"
								},
								{
									"name": "markdownjs",
									"location": "_shared/markdown-js/0.4.0",
									"main": "markdown.min"
								},
								{
									"name": "jquery-tipsy",
									"location": "_shared/jquery-tipsy/1.0.0a-refined/javascripts",
									"main": "jquery.tipsy.min"
								},
								{
									"name": "json2",
									"location": "_shared/json2/20111019",
									"main": "json2.min"
								},
								{
									"name" : "when",
									"location": "_shared/when/3.4.6-ef.1",
									"main": "when-bundle.min"
								},
								{
									"name": "when-compat",
									"location": "_shared/when-compat/0.0.9",
									"main": "when-compat-bundle.min"
								},
								{
									"name" : "moment",
									"location": "_shared/moment/2.2.1",
									"main": "moment_langs.min"
								},
								{
									"name": "jquery.fancybox",
									"location": "_shared/fancybox/2.1.5",
									"main": "jquery.fancybox.min"
								},
								{
									"name" : "text",
									"location" : "_shared/requirejs-text/2.0.9-ef.1",
									"main": "text.min"
								},
								{
									"name": "jquery.cookie",
									"location": "_shared/jquery-cookie/1.3.1",
									"main": "jquery.cookie.min"
								},
								{
									"name": "livechat-ui",
									"location": "_shared/livechat-ui/{CCL:livechat-ui.version}/js/standalone",
									"main": "app-built.min"
								}
							],

							"shim" : {
								"json2" : {
									exports : function () {
										return window.JSON;
									}
								},
								"jquery.fancybox" : {
									deps :[ "jquery", "jquery.easing", "jquery.mousewheel" ],
									exports : function ($, easing, mousewheel) {
										return $;
									}
								},
								"jquery.gudstrap":  {
									deps :[ "jquery" ],
									exports : function ($) {
										return $;
									}
								},
								"jquery.easing" : {
									deps :[ "jquery" ],
									exports : function ($) {
										return $;
									}
								},
								"jquery.mousewheel" :  {
									deps :[ "jquery" ],
									exports : function ($) {
										return $;
									}
								},
								"jquery.scrollto": {
									deps: ["jquery"],
									exports: function($) {
										return $;
									}
								},
								"jquery.viewport": {
									deps: ["jquery"],
									exports: function($) {
										return $;
									}
								},
								"jquery.ui": {
									deps: ["jquery"],
									exports: function($){
										return $;
									}
								},
								"jquery.ui.touch-punch": {
									deps: ["jquery.ui"],
									exports: function ($) {
										return $;
									}
								},
								"jquery.transit" : ["jquery"],
								"jquery.flip":{
									deps: ["jquery"],
									exports: function($){
										return $;
									}
								},
								"underscore": {
									exports: function(){
										return _;
									}
								},
								'jquery.counter': {
									deps :[ "jquery" ],
									exports : function ($) {
										return $;
									}
								},
								"jquery.form": {
									deps: ['jquery'],
									exports: function ($) {
										return $;
									}
								},
								"swfobject": {
									exports: function () {
										return window.swfobject;
									}
								},
								"markdownjs": {
									exports: function () {
										return window.markdown;
									}
								},
								"jquery-tipsy": {
									deps: ['jquery'],
									exports: function($) {
										return $;
									}
								},
								"moment": {
									exports: function() {
										return window.monent;
									}
								},
								"when": {
									deps: ["poly"]
								},
								"when-compat": {
									deps: ["when"]
								}
							},

							//the dependencies between when-compat,when and poly is stricted by shim, here we just let them download in parallel.
							"deps" : ["require", "when-compat", "when", "poly", "troopjs-bundle", "troopjs-ef"],

							"config" : {
								"troopjs-data/query/service" : {
									"url" : "/services/shared/queryproxy",
									"type" : "post"
								},
								
								"school-ui": config,
								"school-ui-study/module": config,
								"school-ui-studyplan/module": config,
								"school-ui-activity": config,
								"school-ui-activity-container": config,
								"school-ui-activity-container/widget/activity/activity-manager/main": config,
								"school-ui-shared/module": config,
								"headerfooter": config
							},

							"map" : {
								"*" : {
									"mv" : "troopjs-requirejs/multiversion",
									"template" : "troopjs-requirejs/template",
									"shadow" : "troopjs-requirejs/shadow",
									"jquery" : "troopjs-jquery/noconflict",
									"logger" : "troopjs-core/logger/pubsub"
								},

								"troopjs-jquery/noconflict" : {
									"jquery" : "jquery"
								}
							},

							"callback" : function (localRequire) {
									localRequire([
										"jquery",
										"mv!client-tracking#troopjs-1.0",
										"when-compat/monitor/console",
										"mv!troopjs-bundle#troopjs-1.0"]
										.concat(deps2x), function (jQuery, ct) {

										localRequire(["mv!client-state#troopjs-1.0"], function(cs){

											define('client-tracking', ct);
											define('client-state', cs);

											define("jquery.mediaelement",
													["mv!mediaelement-and-player#troopjs-1.0"],
													function (mejs) {
														
														return mejs;
													});
											define("mediaelement-and-player",
													["mv!mediaelement-and-player#troopjs-1.0"],
													function (mejs) {
														return mejs;
													});
											define("mediaelement-plugin-ef",
													["mv!mediaelement-plugin-ef#troopjs-1.0"],
													function (mejsPlugin) {
														return mejsPlugin;
													});

											define("asr-core", ["mv!asr-core#troopjs-1.0"], function(asrCore) {
												return asrCore;
											});

											var JQUERY_LIBS = [
												"jquery.easing",
												"jquery.scrollto",
												"jquery.jscrollpane",
												"jquery.flip",
												"jquery.counter",
												"jquery.form",
												"jquery.transit",
												'jquery.mousewheel',
												'jquery.fancybox'
											];
											JQUERY_LIBS.forEach(function (jqueryLibName) {
												define(jqueryLibName, [
													"shadow!" + jqueryLibName + "#$=jquery&jQuery=jquery&exports=jQuery"
												], function ($) {
													return $;
												});
											});

											// Have gudstrap depend jquery.ui to override $.fn.tooltip
											// Have gudstrap depend jquery.transit to override $.support.transition
											define('jquery.gudstrap', [
												"shadow!jquery.gudstrap#" + [
													"$=jquery",
													"jQuery=jquery",
													"depJqueryUI=jquery.ui",
													"depJqueryTransit=jquery.transit",
													"exports=jQuery"
												].join('&')
											], function($) {
												return $;
											});

											//fix missing "var" for local variables in jquery.viewport
											define("jquery.viewport", [
												"shadow!jquery.viewport#" + [
													"$=jquery",
													"jQuery=jquery",
													"paddingTop=jquery",
													"paddingBottom=jquery",
													"paddingLeft=jquery",
													"paddingRight=jquery",
													"exports=jQuery"
												].join('&')
											], function($) {
												return $;
											});

											define('jquery.ui.touch-punch', [
												"shadow!jquery.ui.touch-punch#" + [
													"$=jquery",
													"jQuery=jquery",
													'$ui=jquery.ui',
													"exports=jQuery"
												].join('&')
											], function($) {
												return $;
											});

											define("compose", ["mv!compose#troopjs-1.0"], function(v1Compose) {
												return v1Compose;
											});

											localRequire([
												"troopjs-browser/application/widget",
												"troopjs-core/pubsub/proxy/to1x",
												"mv!troopjs-core/pubsub/hub#troopjs-1.0",
												"troopjs-browser/ajax/service",
												"troopjs-data/query/service",
												"troopjs-data/cache/component",
												"troopjs-browser/route/widget",
												"school-ui-shared/service/popcache",
												"troopjs-ef/service/config",
												"school-ui-shared/service/context",
												"school-ui-studyplan/service/load",
												"school-ui-studyplan/service/republish",
												"troopjs-core/logger/service",
												"troopjs-ef/logger/widget",
												"troopjs-ef/logger/appender/filter_ccl",
												"troopjs-ef/logger/appender/command",
												"troopjs-jquery/loom",
												//use troopjs1.0 version temporary for techcheck
												"mv!mediaelement-and-player#troopjs-1.0",
												"school-ui-shared/utils/https-compatibility"
											], function (Application, HubProxy, v1Hub, AjaxService, QueryService, Cache, RouteWidget, Popcache, ConfigService, ContextService, LoadService, RepublishService, LogService, LogWidget, LogFilter, LogCommand, Loom, mejs, httpsCompat) {
												define('client-tracking', ct);
												define('client-state', cs);

												jQuery(function ($) {
													var cache = Cache();

													var CCL_LOG_ENABLE = "school.courseware.log.enable";


													cs.push("tracking.qubit_enabled", "{CCL:visit.tracking.qubit.enabled}".toLowerCase() === "true");
													cs.push("tracking.omniture_enabled", "{CCL:visit.tracking.omniture.enabled}".toLowerCase() === "true");
													cs.push("tracking.etvt_enabled", "{CCL:visit.tracking.etvt.enabled}".toLowerCase() === "true");

													Application(
														// Application widget should be started with each service running of arguments,
														// Also service have dependence with each other,
														// So the service running sequence should be as the special order
														// After all the service started, troop will start to weave element (the first arguments)
														$("html"),

														// just a name
														"bootstrap",

														// hub bridge between troopjs1 and troopjs2
														HubProxy({
															"hub" : v1Hub,
															"publish" : {
																// form2x : to1x
																"route" : "route",
																"load/enrollment" : "load/enrollment",
																"load/course" : "load/course",
																"load/level" : "load/level",
																"load/unit" : "load/unit",
																"load/lesson" : "load/lesson",
																"load/step" : "load/step",
																"load/activity" : "load/activity",
																"start/load/activity" : "start/load/activity",
																"load/step/summary" : "load/step/summary",
																"context": "context",
																"activity/retry" : "activity/retry",
																"activity/submit/score/proxy" : "activity/submit/score/proxy",
																"activity/next/step" : "activity/next/step",
																"activity/launcher/open": "activity/launcher/open",
																"activity/update/progress": "activity/update/progress",
																"activity-container/bottom-bar/item/completed" : "activity-container/bottom-bar/item/completed",
																"render/activity/container": "render/activity/container",
																"activity/check/answer" : "activity/check/answer",
																"activity-container/scroll" : "activity-container/scroll",
																"plugins/tech-check/enable": "plugins/tech-check/enable",
																"asr/ui/setting": "asr/ui/setting",
																"asr/enable": "asr/enable",
																"asr/disable": "asr/disable",
																"asr/ui/playback": "asr/ui/playback",
																"asr/stopPlayback": "asr/stopPlayback",
																"asr/startPlayback": "asr/startPlayback",
																"asr/show/message": "asr/show/message"
															},
															"subscribe" : {
																// form1x : to2x,
																"query" : "query",
																"route/uri": "route/uri",
																"unroute": "unroute",
																"tooltips/start": {
																	"topic": "tooltips/start",
																	"memory": true
																},
																"tooltips/finish": {
																	"topic": "tooltips/finish",
																	"memory": true
																},
																"asr/ui/states/changed": "asr/ui/states/changed",
																"asr/start/record": "asr/start/record",
																"asr/recording/stopped": "asr/recording/stopped",
																"audio/shell/play/complete": "audio/shell/play/complete",
																"school/toggle/overflow": "school/toggle/overflow",
																"school/progress/SubmitActivityScore": "school/progress/SubmitActivityScore",
																"school/notebook/AddUserWordGroup": "school/notebook/AddUserWordGroup",
																"school/notebook/AddWordsToUserWordGroup":"school/notebook/AddWordsToUserWordGroup",
																"school/enrollment/MoveOnUnit": "school/enrollment/MoveOnUnit",
																"school/enrollment/Enroll": "school/enrollment/Enroll",
																"school/member_site_setting/Save": "school/member_site_setting/Save",
																"school/rating/SubmitRating": "school/rating/SubmitRating",
																"school/featuresupport/Log": "school/featuresupport/Log",
																"school/school_event_log/LogActivityEvent": "school/school_event_log/LogActivityEvent",
																"activity/closed": "activity/closed",
																"ef/update/progress": "ef/update/progress",
																"school/tts/SaveMemberSettings": "school/tts/SaveMemberSettings",
																"school/sharingpicturedescr/SaveAndCropImage": "school/sharingpicturedescr/SaveAndCropImage",
																"school/sharingpicturedescr/LoadSharedPictureDescrs": "school/sharingpicturedescr/LoadSharedPictureDescrs",
																"school/sharingpicturedescr/LoadCurrentUserInfo": "school/sharingpicturedescr/LoadCurrentUserInfo",
																"activity/prop/changed/completed":"activity/prop/changed/completed",
																"activity/prop/changed/index":"activity/prop/changed/index",
																"activity/prop/changed/length":"activity/prop/changed/length",
																"activity/prop/changed/type":"activity/prop/changed/type",
																"activity/item/prop/changed/answered":"activity/item/prop/changed/answered",
																"activity/item/prop/changed/instantFeedback":"activity/item/prop/changed/instantFeedback",
																"activity/item/prop/changed/savable":"activity/item/prop/changed/savable",
																"activity/item/prop/changed/completed":"activity/item/prop/changed/completed",
																"activity/submit/score" : "activity/submit/score",
																"activity-container/nextActivity" :"activity-container/nextActivity",
																"activity-container/resize" : "activity-container/resize",
																"render/activity":"render/activity",
																"tech-check/request":"tech-check/request",
																"tracking/useraction" : "tracking/useraction"
															}
														}),
														AjaxService(),
														QueryService(cache),
														Popcache(cache),
														ConfigService(cache),
														ContextService(),
														LoadService(),
														RouteWidget($(window), "route"),
														RepublishService(),
														LogWidget($(window)),
														LogService(LogFilter(CCL_LOG_ENABLE, LogCommand()))
													)
													.start()
													.then(function () {
														$.each(callbacks, function (index, callback) {
															callback.call(this);
														});
													});
												});
											});
										});
									});
							}
						});
					}
				};
			})();
		</script>

		<script type="text/javascript" src="{CONTEXT:cache.server}/_shared/require.js/2.0.4/require.js"></script>
	</body>
</html>
