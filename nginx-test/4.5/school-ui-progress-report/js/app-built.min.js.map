{"version":3,"sources":["enum/feedback-category.js","enum/feedback-typecode.js","enum/score-state.js","service/hash.js","utils/feedback-category.js","troopjs-requirejs/template!school-ui-progress-report/main.html","main.js","utils/load.js","troopjs-requirejs/template!school-ui-progress-report/widget/container/be/be-navigation/be-navigation.html","troopjs-requirejs/template!school-ui-progress-report/widget/container/be/be-navigation/be-card-image.html","widget/container/be/be-navigation/main.js","troopjs-requirejs/template!school-ui-progress-report/widget/shared/state-circle/state-circle.html","widget/shared/state-circle/main.js","widget/container/be/be-navigation/state-circle.js","troopjs-requirejs/template!school-ui-progress-report/widget/container/be/be.html","widget/container/be/main.js","widget/container/feedback/feedback-id-manager.js","troopjs-requirejs/template!school-ui-progress-report/widget/container/feedback/feedback-body/feedback-body.html","widget/container/feedback/feedback-body/main.js","troopjs-requirejs/template!school-ui-progress-report/widget/container/feedback/feedback-detail/class-notes/class-notes.html","widget/container/feedback/feedback-detail/class-notes/main.js","troopjs-requirejs/template!school-ui-progress-report/widget/container/feedback/feedback-detail/class-video/main.html","widget/container/feedback/feedback-detail/class-video/main.js","troopjs-requirejs/template!school-ui-progress-report/widget/container/feedback/feedback-detail/writing.html","troopjs-requirejs/template!school-ui-progress-report/widget/container/feedback/feedback-detail/gl.html","troopjs-requirejs/template!school-ui-progress-report/widget/container/feedback/feedback-detail/pl.html","troopjs-requirejs/template!school-ui-progress-report/widget/container/feedback/feedback-detail/cp20.html","troopjs-requirejs/template!school-ui-progress-report/widget/container/feedback/feedback-detail/eft.html","troopjs-requirejs/template!school-ui-progress-report/widget/container/feedback/feedback-detail/osa.html","widget/container/feedback/feedback-detail/main.js","troopjs-requirejs/template!school-ui-progress-report/widget/container/feedback/feedback-detail/video-and-notes/main.html","widget/container/feedback/feedback-detail/video-and-notes/main.js","widget/container/feedback/feedback-detail/writing-correction/main.js","troopjs-requirejs/template!school-ui-progress-report/widget/container/feedback/feedback-head/feedback-head.html","widget/container/feedback/feedback-head/main.js","troopjs-requirejs/template!school-ui-progress-report/widget/container/feedback/feedback-survey/feedback-survey.html","widget/container/feedback/feedback-survey/main.js","troopjs-requirejs/template!school-ui-progress-report/widget/container/feedback/feedback.html","widget/container/feedback/main.js","troopjs-requirejs/template!school-ui-progress-report/widget/container/feedback/pagination/pagination.html","widget/container/feedback/pagination/main.js","troopjs-requirejs/template!school-ui-progress-report/widget/shared/callout/callout.html","widget/shared/callout/main.js","widget/container/ge/level-navigation/callout.js","troopjs-requirejs/template!school-ui-progress-report/widget/container/ge/level-navigation/level-navigation.html","widget/container/ge/level-navigation/main.js","widget/container/ge/level-navigation/state-circle.js","troopjs-requirejs/template!school-ui-progress-report/widget/container/ge/level-test/level-test.html","widget/container/ge/level-test/legacy/main.js","widget/container/ge/level-test/level-test-name.js","widget/container/ge/level-test/platform2/main.js","widget/container/ge/level-test/version-selector.js","troopjs-requirejs/template!school-ui-progress-report/widget/container/ge/ge.html","widget/container/ge/main.js","troopjs-requirejs/template!school-ui-progress-report/widget/container/ind/ind-navigation/ind-navigation.html","troopjs-requirejs/template!school-ui-progress-report/widget/container/ind/ind-navigation/ind-card-image.html","widget/container/ind/ind-navigation/main.js","widget/container/ind/ind-navigation/state-circle.js","troopjs-requirejs/template!school-ui-progress-report/widget/container/ind/ind.html","widget/container/ind/main.js","widget/container/main.js","troopjs-requirejs/template!school-ui-progress-report/widget/container/spin/spin.html","widget/container/spin/main.js","troopjs-requirejs/template!school-ui-progress-report/widget/container/spin/spin-navigation/spin-navigation.html","troopjs-requirejs/template!school-ui-progress-report/widget/container/spin/spin-navigation/spin-card-image.html","widget/container/spin/spin-navigation/main.js","widget/container/spin/spin-navigation/state-circle.js","widget/container/test-results/main.js","troopjs-requirejs/template!school-ui-progress-report/widget/navigation/navigation.html","troopjs-requirejs/template!school-ui-progress-report/widget/navigation/navigation-b2b.html","widget/navigation/main.js","troopjs-requirejs/template!school-ui-progress-report/widget/shared/certificate/certificate.html","widget/shared/certificate/main.js","troopjs-requirejs/template!school-ui-progress-report/widget/shared/level-info/level-info.html","widget/shared/level-info/main.js","troopjs-requirejs/template!school-ui-progress-report/widget/shared/unit-list/unit-list.html","widget/shared/unit-list/base.js","troopjs-requirejs/template!school-ui-progress-report/widget/shared/unit-list/e10-archive/notice.html","widget/shared/unit-list/e10-archive/main.js","widget/shared/unit-list/normal/main.js","troopjs-requirejs/template!school-ui-progress-report/vector/ico_arrow_light_right.svg","troopjs-requirejs/template!school-ui-progress-report/vector/ico_cert.svg","troopjs-requirejs/template!school-ui-progress-report/vector/ico_checkmark.svg","troopjs-requirejs/template!school-ui-progress-report/vector/ico_circle_black.svg","troopjs-requirejs/template!school-ui-progress-report/vector/ico_circle_blue.svg","troopjs-requirejs/template!school-ui-progress-report/vector/ico_circle_gray.svg","troopjs-requirejs/template!school-ui-progress-report/vector/ico_circle_green.svg","troopjs-requirejs/template!school-ui-progress-report/vector/ico_close.svg","troopjs-requirejs/template!school-ui-progress-report/vector/ico_confirmation.svg","troopjs-requirejs/template!school-ui-progress-report/vector/ico_dot_3.svg","troopjs-requirejs/template!school-ui-progress-report/vector/ico_flag.svg","troopjs-requirejs/template!school-ui-progress-report/vector/ico_medal.svg","troopjs-requirejs/template!school-ui-progress-report/vector/ico_mobilephone.svg","troopjs-requirejs/template!school-ui-progress-report/vector/ico_pc.svg","troopjs-requirejs/template!school-ui-progress-report/vector/ico_point_black.svg","troopjs-requirejs/template!school-ui-progress-report/vector/ico_point_green.svg","troopjs-requirejs/template!school-ui-progress-report/vector/ico_progress_flag.svg","troopjs-requirejs/template!school-ui-progress-report/vector/ico_progress.svg","troopjs-requirejs/template!school-ui-progress-report/vector/ico_spin_next_page.svg","troopjs-requirejs/template!school-ui-progress-report/vector/ico_spin_previous_page.svg","troopjs-requirejs/template!school-ui-progress-report/vector/ico_survey_rating1.svg","troopjs-requirejs/template!school-ui-progress-report/vector/ico_survey_rating2.svg","troopjs-requirejs/template!school-ui-progress-report/vector/ico_survey_rating3.svg","troopjs-requirejs/template!school-ui-progress-report/vector/ico_survey_rating4.svg","troopjs-requirejs/template!school-ui-progress-report/vector/ico_survey_rating5.svg","troopjs-requirejs/template!school-ui-progress-report/vector/ico_teacher.svg"],"names":["define","writing","evc","none","eftv","gl","pl","cp20","osa","passScore","osaPassScore","when","Service","URI","string2uri","hash","uri2string","uri","result","path","toString","query","extend","displayName","hub:memory/route","me","this","publish","hub/navigate","spread","then","fbType","fbCategory","getCategoryCode","fbTypeCode","data","$","poly","_","Quill","Widget","loom","weave","hashService","courseType","fbCategoryUtil","Parser","Console","tMain","convertArchiveWritingItem","item","detail","isArchive","feedback_id","studentCourseItemArchiveId","startTime","submitDateTime","grade","teacher","title","topic","comment","correction","correctedTime","isLegacyEvc","setting","value","parseFloat","queryArchiveWritingFeedbacks","list","items","map","queryLegacyFeedbacks","queryIntegrationFeedbacks","forEach","feedbackId","filterFeedbacks","feedbacks","types","filter","feedback","indexOf","typeCode","appendWidget","$nav","attr","WIDGET_NAV","addClass","CLS_PR_NAV","$con","WIDGET_CON","CLS_PR_CON","$ELEMENT","find","SEL_PR","empty","append","hookArchiveCourseLevel","courses","archiveCourseName","archiveCourse","course","courseTypeCode","archiveId","id","children","level","archiveLevel","levelNo","initQuill","SizeStyleModule","import","whitelist","register","sig/start","widgetData","html","all","loadEnrollableCourse","loadCurrentEnrollment","loadFeedbackList","loadTestResults","call","start","enrollableCourses","archiveE10GECourse","archiveE13GECourse","archiveE13BECourse","courseEnrollQ","isTemplate","studentCourseId","push","each","arguments","index","courseEnroll","courseEnrollId","parseId","currentEnroll","enrollable_course","current_enroll","queries","isLegacy","archiveWritingFeedbacks","integrationFeedbacks","legacyFeedbacks","concat","categoryCode","sort","itemA","itemB","widgetPath","test_results_widget","String","hub:memory/school/spinner","promise","task","resolve","reject","progress","main","ct","Gadget","tracking","pagename","isGECourse","parent","isSpinCourse","templateLevelId","create","loadLevel","page","levelId","archiveLevelId","e10","e13","archiveE10Level","archiveE13Level","renderSpinCard","spinCard","classes","selectedLevelId","o","join","courseName","levelName","state","cardsPerPage","spinCards","pageIndex","cardIndex","length","pageCards","slice","selectedPage","maxPageIndex","imageUrl","jScrollPane","mouseWheel","Load","progressState","template","imageTemplate","hasLevelProgressOrIsCurrent","studentLevel","compareCourses","prev","next","computeSpinCards","initData","current","studentLevelId","passed","hasPassed","firstUnitId","quietQuery","showSelectedPageImages","SELECTED_PAGE","QUERIED_PAGE_IMAGES","queriedSpinCards","SPIN_CARDS","CARDS_PER_PAGE","htmlPromise","HTML_PROMISE","units","$element","unit","unitImage","url","SEL_CARD","SEL_CARD_IMAGE","css","updateShownPage","MAX_PAGE_INDEX","$pages","SEL_PAGE","CLS_NONE","eq","removeClass","pageNumText","SEL_PAGE_NUM","text","SEL_PREVIOUS_PAGE_BUTTON","toggleClass","CLS_DISABLED","SEL_NEXT_PAGE_BUTTON","selectLevel","name","Math","floor","selectedSpinCard","every","selectedArchiveLevelId","sig/stop","dom:[data-action=previous-page]/click","dom:[data-action=next-page]/click","dom:.ets-pr-spin-nav-card/click","evt","$target","currentTarget","hasClass","archiveE13LevelId","snapsvg","svgAnimate","node","options","duration","animate","e","updateSelected","SELECTED_ID","ID","d","updateHovered","HOVERED_ID","transform","STATE","setSelected","selectedId","previousSelectedId","setHovered","hoveredId","previousHoveredId","StateCircleWidget","hub:memory/progress-report/spin/state-circle/selected","tSpin","localStorage","window","FEEDBACK_IDS","loadIds","getItem","saveIds","setItem","isNewId","checkId","addIds","ids","newIds","getTypeInfo","formatDate","OSA","i","typeInfo","dateFormat","osaGradedStatus","isNew","blurbId","blurbTextEn","passedDate","courseBreadCrumb","device","isPassed","Moment","momentLang","FeedbackIdManager","scoreState","tFeedbackBody","initItemDetail","$summaryRow","$detailCell","$detailRow","CLS_DETAIL_ROW","rowWidth","width","after","$detail","SEL_DETAIL","height","CLS_DETAIL_OPEN","expandItemDetail","CLS_SELECT","collapseItemDetail","stopVideoPlayer","$video","SEL_VIDEO","pause","toggleItemDetail","$next","setTimeout","type","date","context","CONTEXT","MNow","MDate","locale","cultureCode","toLowerCase","isSame","add","format","render","bind","$rows","SEL_SUMMARY_ROW","selectedItem","reduce","isSelected","UNDEF","$selectedRow","scrollTop","offset","top","SEL_HEADER","outerHeight","parseInt","SEL_DOCUMENT","DURATION_SCROLL_DOWN","selectedItemInfo","hub:memory/context","hub:memory/feedback/update-items","itemId","teacherQueries","dom:.ets-pr-fb-row/click","tClassNotes","RE_NEWLINE","notes","notesData","JSON","parse","replace","ex","ops","insert","readOnly","setContents","dom:.ets-pr-fb-btn-class-notes/click","document","body","dom:.ets-pr-fb-class-notes-close,.ets-pr-fb-class-notes-backdrop/click","target","video","mejs","getTopic","topicBlurbId","blurb","translation","PLAYER_FEATURES","dom:.ets-pr-fb-btn-class-video/click","$player","$button","closest","remove","mediaelementplayer","features","controlsTimeoutMouseLeave","play","summary","lessonSummary","escape","overall","videoRecoredEnabled","gradingType","details","showClarity","clarityGrade","clarityStrength","clarityImprovement","showConfidence","confidenceGrade","confidenceStrength","confidenceImprovement","showExpression","expressionGrade","expressionStrength","expressionImprovement","showAccuracy","accuracyGrade","accuracyStrength","accuracyImprovement","showRange","rangeGrade","rangeStrength","rangeImprovement","strength","improvement","studyGoal","studyLevel","studyArea","studyPace","showComprehension","comprehensionGrade","comprehensionStrength","comprehensionImprovement","detailCategoryBlurbs","Clarity","Confidence","Expression","Accuracy","Range","strengthCategory","improvementCategory","tWriting","tGL","tPL","tCP20","tEFT","tOSA","_firstResult","_getArchiveWritingFeedback","clobPromise","clob","teacherPromise","feedbackDetail","correctDateTime","writingId","inteFeedbackDetail","_getRegularWritingFeedback","PROP_WRITING_ID","writing_id","renderWritingFeedback","PROP_TEACHER_PROFILE","defaultImage","SEL_CORRECTION","renderEvcFeedback","evcmember","rejected","checkEvcMemberSettings","memberList","feedbackDetailList","renderTemplate","isGL","enableGLRecord","enablePLRecord","SEL_VIDEO_NOTES","hasVideoRecord","videoAvailable","topicBlurb_id","videoRecord","noteAvailable","once","dom:.ets-pr-fb-open-survey-button/click","appendTo","dom:.ets-pr-fb-survey/hidden.ets-fb-survey","$oldSurvey","unweave","GUD","getCorrectionTags","tagData","tags","code","trim","correctionTags","replaceElement","oldTag","newTag","RegExp","$correction","element","$code","correctionTagCode","correctionText","correctionTagName","tagName","tooltipHtml","contents","tooltip","placement","tFeedbackHead","ratingBlurb","1","en","2","3","4","5","lang","questions","question","questionIndex","blurbEn","renderRatingGroup","rating","inputName","$gudstrap","browserCheck","updateHelper","HubMemory","tFeedbackSurvey","errorMatch","message","err","Boolean","ignoreError","QUESTIONS","IS_IE8","browser","version","teacherProfile","readMemory","isIE8","formNotValidTitleBlurb","commentPlaceholderBlurb","hide","modal","trigger","animation","validateForm","otherwise","dom:.modal/hidden.bs.modal","dom:input/change","dom:form/submit","event","stopPropagation","preventDefault","surveyData","comments","val","submitWritingCorrectionRating","show","dom:input.ets-pr-radio-ie8/change","not","hasCheckedAllRatings","inputSelector","valid","$submitButton","Error","tFeedback","fb_id","itemData","split","tPagination","CLS_ACTIVE","SEL_SECTION_MIDDLE","SEL_ACTIVE","SEL_NUM","SEL_ELLIPSIS","SECTION_START","SECTION_MIDDLE","totalItems","totalPages","ceil","setPageCount","selectedIndex","selectedPageNum","setActivePage","dom:a.num/click","pageNum","dom:a.prev/click","newPageNum","dom:a.next/click","dom:.pagination-wrapper/selectstart","pageCount","startNumCount","min","endNumCount","middleNumCount","max","count","displayCount","$sectionStart","class","$sectionMiddle","$endEllipsis","before","$sectionEnd","updateMiddleSection","minPageNum","setActiveNum","$newActiveNum","$activeNum","SEL_SECTION_START","SEL_SECTION_END","middleSectionNumStart","publishPagedItems","startIndex","pagedItems","renderItems","pointerTo","$pointer","centeringOffset","left","offsetParent","round","CalloutWidget","hub/progress-report/ge/callout/pointer-to","computeIconState","currentLevelId","hasStarted","n","levelStages","stage","stage_normal_state","levels","iconState","tLevelNav","selectIcon","d_select","unSelectIcon","CLS_SELECTED","d_origin","STAGES","beginner","levelCodes","elementary","intermediate","upperIntermediate","advanced","upperAdvanced","SEL_SELECTED","renderData","breakToLevel","currentCourseEnroll","num","levelCode","levelContent","defaultLevel","load","dom:.ets-pr-level-icon/mouseenter","dom:.ets-pr-level-icon/mouseleave","dom:.ets-pr-level-icon/click","$data","archiveE10Id","archiveE13Id","$allIcon","levelIndex","hub:memory/progress-report/ge/state-circle/selected","hub:memory/progress-report/ge/state-circle/hovered","overallScore","steps","step","passPercent","score","tLevelTest","hub:memory/load/level","legacyLevelId","user","member_id","countryCode","getUnitStructure","getUnitScore","unitStructure","unitScore","attempted","structure","Unit","Lessons","Steps","StepTypeName","State","correct","CorrectAnswerCount","incorrect","QuestionCount","Score","StepPassPercent","retakeLevelId","delay","showBlurbs","siteVersion","languageCode","partnerCode","memberid","areaCode","marketCode","levelid","dom:.ets-pr-retake/click","useraction","action.levelTest","open","tLevelTestName","defaultNamePromise","blurbLevelTest","mappedNamePromise","cclMappingQuery","mapped","courseLevelTestNameMap","defaultName","mappedName","levelTestName","module","MODULE_CONFIG","levelTestPath","config","levelTest","notStarted","testSections","sectionOrder","sectionScoreInfo","sectionName","stepIndex","mssLevelTestVersion","levelTestWidget","$widget","data-weave","replaceWith","tGe","initContainer","tabName","widgetClass","CLS_CONTAINER","CLS_CONTAINER_ITEM","switchContainer","PAGENAME","$container","siblings","COURSE","ENROLL","DATA","hub:memory/navigate/to","entry","entryIndex","course_list","BusinessEnglish","IndustryEnglish","hub/tracking/pagename","Logger","testResultsWidget","log","nav_item","enabled","hashPath","disableBottomBorderWhenSelected","disableBlurbId","disableTipsEn","courseTitle","isDisplayCompanyGoal","featureAccess","tNavigation","b2bNavigation","hasStartedCourse","courseItem","getGECourses","studentCourse","getSpinCourses","hashProcess","nav_items","source","isCurrentCourse","useB2BTemplate","isBECourse","toUpperCase","isINDCourse","getCookieItem","sKey","decodeURIComponent","cookie","encodeURIComponent","getLicense","header","ajax","headers","getProgress","licenseID","getCompanyGoal","token","auth","Authorization","access","X-EF-Access","account","licenseId","companyGoals","courseCode","ROUTE_COURSE_MAP","some","general-english","business-english","industry-english","defer","currentCourseIsGE","currentCourseIsBE","currentCourseIsIND","currentCourseIsSpin","geCourses","spinCourses","cclHasBestTest","hasBestTest","hasFeedbacks","visible","disableTextEn","hasWritingClassFeature","hasGLClassFeature","hasPLClassFeature","hasCP20ClassFeature","hasEFTClassFeature","toLocaleLowerCase","_hash","hub:memory/navigate","setFeaturesUnicode","featureAccessBits","hub/navigation/verify","$activeItem","toggle","dom:.ets-pr-nav-button/click","$evt","showCertTip","CourseType","tCert","openWindow","focus","convertToLegacyItem","certItem","certificateDate","Key","key","levelCertificate","certificateName","coursetype","studentName","initCertificateData","certItems","archiveCertItems","certDataGE","certDataSPIN","CURRENT_LEVEL_ID","PROP_CERT_KEY","legacyItem","generalCertificates","spinCertificates","certUrl","renderPromise","queryPromise","studentCert","studentArchiveCert","dom:.ets-pr-cert-view/click","action.viewCertificate","dom:.ets-pr-btn-cert/click","unCompletedLessons","hasLevelCertificate","lessonsLeft","canShowCertificate","tLevelInfo","currentLevel","getCompletedLessonCount","completedLessons","lesson","getTotalLessonCount","totalLessons","initBlurb","singleLessonLeft","multiLessonsLeft","blurbs","blurbLessonsLeft","blurbLessonsLeftResult","renderLessonItems","lessons","lessonIndex","lessonCount","templateLessonId","actualLesson","lessonLink","lessonName","timeSpent","_progressState","_hasLessonPassed","_getUnitState","lessonLinks","unitState","unitNo","archiveUnit","unitName","stateName","suffix","Poly","tUnitList","initBlurbs","scoreTitle","scoreContent1","scoreContent2","blurbNames","Object","keys","blurbIds","blurbName","blurbResults","blurbResult","doRender","unitProgress","CURRENT_ENROLLMENT","studentUnit","momentPassed","completionDate","studentLesson","sourceTypeCode","PROMISE_BLURBS","SEL_SCORE_ICON","popover","content","switchLessonList","$switchLabel","selTargetList","CLS_SWITCHED","SEL_LESSON_LIST_SWITCH","$lessonLists","SEL_UNIT_ITEM","SEL_LESSON_LIST","CLS_SHOW","$switchedLessonList","requestAnimationFrame","dom:.ets-pr-lesson-list-switch.to-new:not(.switched)/click","dom:.ets-pr-lesson-list-switch.to-old:not(.switched)/click","BaseWidget","tNotice","renderArchiveUnits","renderResult","SEL_NOTICE","prepend","ArchiveE10Level","curr","prevLesson","currLesson","lessonNo","typeidParser","setActualLessonId","mergedLesson","progressItems","actualLessonId","sourceProgressId","finishedLessonProgress","actualLessonProgress","startDate","getE13LessonLinks","links","lessonMapPromises","lessonMap","studentUnitId","studentLessonId","getStudyplanLessonLinks","studyplansQ","templateUnitId","unitStudyplans","unitStudyplan","studyplan","studyPlan","studyplanId","studyplanItemId","studyplanItem","properties","getLessonLinks","CCL_LESSON_LINK_TYPE","cclLessonLinkType","LINK_TYPE_E13","LINK_TYPE_STUDYPLAN","hookArchiveUnit","archiveUnits","actualLessonQueries","actualLessonQueriesPromise","actualLessons"],"mappings":"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","file":"app-built.min.js","sourcesContent":["define('school-ui-progress-report/enum/feedback-category',{\n\twriting: \"WRITING\",\n\tevc: \"EVC\",\n\tnone: \"NONE\"\n});\n","define('school-ui-progress-report/enum/feedback-typecode',{\n\twriting: \"WANI\",\n\teftv: \"EFTV\",\n\tgl: \"GL\",\n\tpl: \"PL\",\n\tcp20: \"CP20\",\n\tosa: \"OSA\"\n});\n","define('school-ui-progress-report/enum/score-state',{\n\tpassScore: 70,\n\tosaPassScore: 60\n});\n\n","define('school-ui-progress-report/service/hash',[\n\t\"when\",\n\t\"troopjs-ef/component/service\",\n\t\"troopjs-browser/route/uri\"\n], function (when, Service, URI) {\n\t\"use strict\";\n\n\tvar ROUTE = \"_route\";\n\n\tfunction string2uri(hash) {\n\t\treturn URI(hash);\n\t}\n\n\tfunction uri2string(uri) {\n\t\tvar result = \"\";\n\t\tif (uri.path) {\n\t\t\tresult += uri.path.toString();\n\t\t}\n\t\tif (uri.query) {\n\t\t\tresult += \"?\" + uri.query.toString();\n\t\t}\n\t\treturn result;\n\t}\n\n\treturn Service.extend({\n\t\t\"displayName\": \"school-ui-progress-report/service/navigate\",\n\n\t\t\"hub:memory/route\": function onRoute(uri) {\n\t\t\tvar me = this;\n\n\t\t\tif (!(me[ROUTE] && uri && me[ROUTE].toString() === uri.toString())) {\n\t\t\t\tme.publish(\"navigate\", uri2string(uri));\n\t\t\t}\n\t\t},\n\n\t\t\"hub/navigate\": function (hash) {\n\t\t\tvar me = this;\n\t\t\treturn me.publish(\"navigation/verify\", string2uri(hash)).spread(function (hash) {\n\t\t\t\tme[ROUTE] = string2uri(hash);\n\t\t\t\treturn me.publish(\"route/set\", me[ROUTE]).then(function () {\n\t\t\t\t\treturn me.publish(\"navigate/to\", me[ROUTE]);\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\t});\n});\n","define('school-ui-progress-report/utils/feedback-category',[\n\t\"school-ui-progress-report/enum/feedback-typecode\",\n\t\"school-ui-progress-report/enum/feedback-category\"\n], function (fbType, fbCategory) {\n\tfunction getCategoryCode(fbTypeCode) {\n\t\tswitch (fbTypeCode) {\n\t\t\tcase fbType.writing:\n\t\t\t\treturn fbCategory.writing;\n\t\t\tcase fbType.gl:\n\t\t\tcase fbType.pl:\n\t\t\tcase fbType.cp20:\n\t\t\tcase fbType.eftv:\n\t\t\t\treturn fbCategory.evc;\n\t\t\tdefault:\n\t\t\t\treturn fbCategory.none;\n\t\t}\n\t}\n\n\treturn {\n\t\tgetCategoryCode: getCategoryCode\n\t};\n});\n","\ndefine('troopjs-requirejs/template!school-ui-progress-report/main.html',[],function() { return function template(data) { var o = \"<div class=\\\"ets-pr-main\\\">\\n\\t<!--dynamic create widget-->\\n\\t<!--<div class=\\\"ets-pr-navigation\\\" data-weave=\\\"school-ui-progress-report/widget/navigation/main\\\"></div>-->\\n\\t<!--<div class=\\\"ets-pr-container\\\" data-weave=\\\"school-ui-progress-report/widget/container/main\\\"></div>-->\\n</div>\\n\\n<div data-weave=\\\"school-ui-shared/plugins/confirm-box/main\\\"></div>\\n<div class=\\\"ets-sp-loading ets-none\\\">\\n\\t<div class=\\\"ets-inner\\\">\\n\\t\\t<div class=\\\"ets-inner-cell\\\">\\n\\t\\t\\t<div class=\\\"ets-icon\\\">\\n\\t\\t\\t</div>\\n\\t\\t</div>\\n\\t</div>\\n\\t<div class=\\\"ets-backdrop\\\"></div>\\n</div>\"; return o; }; });\n","define('school-ui-progress-report/main',[\n\t\"jquery\",\n\t\"poly\",\n\t\"when\",\n\t\"underscore\",\n\t\"quill\",\n\t\"troopjs-ef/component/widget\",\n\t\"troopjs-browser/loom/config\",\n\t\"troopjs-browser/loom/weave\",\n\t\"school-ui-progress-report/service/hash\",\n\t\"school-ui-shared/enum/course-type\",\n\t\"school-ui-progress-report/enum/feedback-typecode\",\n\t\"school-ui-progress-report/utils/feedback-category\",\n\t\"school-ui-shared/utils/typeid-parser\",\n\t\"school-ui-shared/utils/console\",\n\t\"template!./main.html\"\n], function (\n\t$,\n\tpoly,\n\twhen,\n\t_,\n\tQuill,\n\tWidget,\n\tloom,\n\tweave,\n\thashService,\n\tcourseType,\n\tfbType,\n\tfbCategoryUtil,\n\tParser,\n\tConsole,\n\ttMain\n) {\n\t\"use strict\";\n\n\tvar $ELEMENT = \"$element\";\n\n\tvar CLS_PR_NAV = \"ets-pr-navigation\",\n\t\tCLS_PR_CON = \"ets-pr-container\";\n\n\tvar SEL_PR = \".ets-pr-main\";\n\n\tvar WIDGET_NAV = \"school-ui-progress-report/widget/navigation/main\",\n\t\tWIDGET_CON = \"school-ui-progress-report/widget/container/main\";\n\n\tfunction convertArchiveWritingItem(item) {\n\t\t//reserve troop object for later expanding (.teacher)\n\t\tvar detail = item.detail || {};\n\n\t\t$.extend(true, item, {\n\t\t\tisArchive: true,\n\t\t\tfeedback_id: item.studentCourseItemArchiveId || detail.feedback_id,\n\t\t\tstartTime: item.submitDateTime || detail.startTime, //detail.startTime has lower priority\n\t\t\tgrade: detail.grade || item.grade,\n\t\t\tteacher: detail.teacher,\n\t\t\ttitle: item.topic || \"\",\n\t\t\tdetail: {\n\t\t\t\tstartTime: item.submitDateTime || detail.startTime, //detail.startTime has lower priority\n\t\t\t\ttopic: item.topic || \"\",\n\t\t\t\tgrade: detail.grade || item.grade,\n\t\t\t\tcomment: detail.comment || \"\",\n\t\t\t\tcorrection: detail.correction || \"\",\n\t\t\t\tcorrectedTime: detail.correctedTime || \"\"\n\t\t\t}\n\t\t});\n\n\t\treturn item;\n\t}\n\n\tfunction isLegacyEvc() {\n\t\tvar me = this;\n\t\treturn me.query(\"member_site_setting!'school;student.evc.version'\").spread(function (setting) {\n\t\t\treturn !setting || !setting.value || parseFloat(setting.value) < 2;\n\t\t});\n\t}\n\n\tfunction queryArchiveWritingFeedbacks() {\n\t\tvar me = this;\n\t\treturn me.query('student_archive_writing!*.items.detail')\n\t\t.spread(function (list) {\n\t\t\treturn list.items.map(convertArchiveWritingItem);\n\t\t});\n\t}\n\n\tfunction queryLegacyFeedbacks() {\n\t\tvar me = this;\n\t\treturn me.query(\"student_feedback_list!current\").spread(function (list) {\n\t\t\treturn list.items;\n\t\t});\n\t}\n\n\tfunction queryIntegrationFeedbacks() {\n\t\tvar me = this;\n\t\treturn me.query(\"integration_student_feedback_list!current\").spread(function (list) {\n\t\t\t// Adding a property 'feedback_id'\n\t\t\t// to make the items be compatible with the old feedback service\n\t\t\tlist.items.forEach(function (item) {\n\t\t\t\tif (!item.feedback_id) {\n\t\t\t\t\titem.feedback_id = item.feedbackId;\n\t\t\t\t}\n\t\t\t});\n\t\t\treturn list.items;\n\t\t});\n\t}\n\n\tfunction filterFeedbacks(feedbacks, types) {\n\t\treturn feedbacks.filter(function (feedback) {\n\t\t\treturn types.indexOf(feedback.typeCode) > -1;\n\t\t});\n\t}\n\n\tfunction appendWidget(data) {\n\t\tvar me = this;\n\n\t\tvar $nav = $(\"<div>\").attr(loom.weave, WIDGET_NAV).data(\"assets\", $.extend({}, data)).addClass(CLS_PR_NAV);\n\t\tvar $con = $(\"<div>\").attr(loom.weave, WIDGET_CON).data(\"assets\", $.extend({}, data)).addClass(CLS_PR_CON);\n\n\t\tme[$ELEMENT].find(SEL_PR).empty().append($nav).append($con);\n\t\treturn me.weave();\n\t}\n\n\tfunction hookArchiveCourseLevel(courses, archiveCourseName, archiveCourse) {\n\t\tarchiveCourse && courses.forEach(function (course) {\n\t\t\tif (course.courseTypeCode === archiveCourse.courseTypeCode) {\n\t\t\t\tif (!course.archiveId) {\n\t\t\t\t\tcourse.archiveId = {};\n\t\t\t\t}\n\t\t\t\tcourse.archiveId[archiveCourseName] = archiveCourse.id;\n\n\t\t\t\tcourse.children.forEach(function (level) {\n\t\t\t\t\tif (!level.archiveId) {\n\t\t\t\t\t\tlevel.archiveId = {};\n\t\t\t\t\t}\n\t\t\t\t\tvar archiveLevel = _.find(archiveCourse.children, function (archiveLevel) {\n\t\t\t\t\t\treturn level.levelNo === archiveLevel.levelNo\n\t\t\t\t\t});\n\t\t\t\t\tif (archiveLevel) {\n\t\t\t\t\t\tlevel.archiveId[archiveCourseName] = archiveLevel.id;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t}\n\n\tfunction initQuill() {\n\t\tvar SizeStyleModule = Quill.import(\"attributors/style/size\");\n\t\tSizeStyleModule.whitelist = null; // disable size whitelisting\n\t\tQuill.register(SizeStyleModule, true);\n\t}\n\n\treturn Widget.extend({\n\t\t\"sig/start\": function () {\n\t\t\tvar me = this;\n\t\t\tinitQuill();\n\n\t\t\tvar widgetData = {};\n\n\t\t\treturn me.html(tMain)\n\t\t\t\t.then(function () {\n\t\t\t\t\t// Split in multiple functions, let troop optimize and merge requests\n\t\t\t\t\treturn when.all([\n\t\t\t\t\t\tme.loadEnrollableCourse(widgetData),\n\t\t\t\t\t\tme.loadCurrentEnrollment(widgetData),\n\t\t\t\t\t\tme.loadFeedbackList(widgetData),\n\t\t\t\t\t\tme.loadTestResults(widgetData)\n\t\t\t\t\t]);\n\t\t\t\t})\n\t\t\t\t.then(function () {\n\t\t\t\t\treturn appendWidget.call(me, widgetData);\n\t\t\t\t})\n\t\t\t\t.then(function () {\n\t\t\t\t\thashService().start();\n\t\t\t\t});\n\t\t},\n\n\t\t\"loadEnrollableCourse\": function (widgetData) {\n\t\t\tvar me = this;\n\n\t\t\t/*\n\t\t\tarchive type id description from database:\n\t\t\tSELECT * FROM School_0.dbo.StudentCourseItemArchiveTagType_lkp\n\t\t\tSELECT * FROM School_0.dbo.StudentCourseItemArchiveType_lkp\n\t\t\t*/\n\t\t\treturn me.query([\n\t\t\t\t\"student_enrollable_courses!*.items.children.progress\",\n\t\t\t\t\"student_course_archive!1;1;GE.children\",\n\t\t\t\t\"student_course_archive!2;7;GE.children\",\n\t\t\t\t\"student_course_archive!2;8;BE.children\"\n\t\t\t]).spread(function (enrollableCourses, archiveE10GECourse, archiveE13GECourse, archiveE13BECourse) {\n\t\t\t\t//hook legacy course data (BEFORE level number mapping)\n\t\t\t\thookArchiveCourseLevel(enrollableCourses.items, 'e10', archiveE10GECourse);\n\t\t\t\thookArchiveCourseLevel(enrollableCourses.items, 'e13', archiveE13GECourse);\n\t\t\t\thookArchiveCourseLevel(enrollableCourses.items, 'e13', archiveE13BECourse);\n\n\t\t\t\t//hook enrollment information\n\t\t\t\tvar courseEnrollQ = [];\n\t\t\t\tenrollableCourses.items.forEach(function (course) {\n\t\t\t\t\tif (!course.isTemplate && course.studentCourseId) {\n\t\t\t\t\t\tcourseEnrollQ.push(\"student_course_enrollment!\" + course.studentCourseId)\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\treturn me.query(courseEnrollQ).spread(function () {\n\t\t\t\t\t$.each(arguments, function (index, courseEnroll) {\n\t\t\t\t\t\tvar courseEnrollId = Parser.parseId(courseEnroll.id);\n\n\t\t\t\t\t\tenrollableCourses.items.forEach(function (course) {\n\t\t\t\t\t\t\tif (course.studentCourseId === courseEnrollId) {\n\t\t\t\t\t\t\t\tcourse.currentEnroll = courseEnroll;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\t\t\t\twidgetData.enrollable_course = $.extend({}, enrollableCourses);\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\n\t\t\"loadCurrentEnrollment\": function (widgetData) {\n\t\t\tvar me = this;\n\t\t\treturn me.query(\"student_course_enrollment!current\")\n\t\t\t\t.spread(function (current_enroll) {\n\t\t\t\t\twidgetData.current_enroll = $.extend({}, current_enroll);\n\t\t\t\t});\n\t\t},\n\n\t\t\"loadFeedbackList\": function (widgetData) {\n\t\t\tvar me = this;\n\t\t\tvar queries = [\n\t\t\t\tqueryArchiveWritingFeedbacks.call(me),\n\t\t\t\tqueryIntegrationFeedbacks.call(me)\n\t\t\t];\n\t\t\treturn isLegacyEvc.call(me).then(function(isLegacy){\n\t\t\t\tif(isLegacy){\n\t\t\t\t\tqueries.push(queryLegacyFeedbacks.call(me));\n\t\t\t\t}\n\t\t\t\treturn when.all(queries).spread(function (archiveWritingFeedbacks, integrationFeedbacks, legacyFeedbacks) {\n\t\t\t\t\tif(legacyFeedbacks){\n\t\t\t\t\t\twidgetData.feedbacks = [].concat(\n\t\t\t\t\t\t\tarchiveWritingFeedbacks,\n\t\t\t\t\t\t\tfilterFeedbacks(integrationFeedbacks, [fbType.writing]),\n\t\t\t\t\t\t\tfilterFeedbacks(legacyFeedbacks, [fbType.gl, fbType.pl, fbType.cp20, fbType.eftv, fbType.osa])\n\t\t\t\t\t\t);\n\t\t\t\t\t} else {\n\t\t\t\t\t\twidgetData.feedbacks = [].concat(\n\t\t\t\t\t\t\tarchiveWritingFeedbacks,\n\t\t\t\t\t\t\tintegrationFeedbacks\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t\twidgetData.feedbacks.forEach(function (feedback) {\n\t\t\t\t\t\tfeedback.categoryCode = fbCategoryUtil.getCategoryCode(feedback.typeCode);\n\t\t\t\t\t});\n\t\t\t\t\twidgetData.feedbacks.sort(function (itemA, itemB) {\n\t\t\t\t\t\treturn itemB.startTime - itemA.startTime; // sort by startTime descending\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\n\t\t\"loadTestResults\": function (widgetData) {\n\t\t\tvar me = this;\n\t\t\treturn me.publish(\"school/interface/progress-report/test-results-widget\", \"\").then(function (widgetPath) {\n\t\t\t\t//widgetPath can be \"some/widget/path\" or [\"some/widget/path\"]\n\t\t\t\twidgetData.test_results_widget = String(widgetPath);\n\t\t\t});\n\t\t},\n\n\t\t\"hub:memory/school/spinner\": function showSpinner(promise) {\n\t\t\tvar me = this;\n\n\t\t\tme.task(function (resolve, reject, progress) {\n\t\t\t\treturn promise\n\t\t\t\t\t.then(resolve, reject, progress);\n\t\t\t});\n\t\t}\n\t});\n});\ndefine('school-ui-progress-report', ['school-ui-progress-report/main'], function (main) { return main; });\n\n","define('school-ui-progress-report/utils/load',[\n\t\"when\",\n\t\"client-tracking\",\n\t\"school-ui-shared/enum/course-type\",\n\t\"troopjs-ef/component/gadget\"\n], function (when, ct, courseType, Gadget) {\n\t\"use strict\";\n\n\tvar UNDEF;\n\n\tfunction tracking(level) {\n\t\tvar me = this;\n\t\tvar pagename;\n\t\tif (courseType.isGECourse(level.parent.courseTypeCode)) {\n\t\t\tpagename = \"ProgressReport:GE:Level\" + level.levelNo;\n\t\t\tme.publish(\"tracking/pagename\", \"ge\", pagename);\n\t\t} else if (courseType.isSpinCourse(level.parent.courseTypeCode)) {\n\t\t\tpagename = \"ProgressReport:SPIN:\" + level.parent.courseTypeCode + \":\" + level.templateLevelId;\n\t\t\tme.publish(\"tracking/pagename\", \"spin\", pagename);\n\t\t}\n\n\t\tct.pagename(pagename);\n\t}\n\n\treturn Gadget.create({\n\t\tloadLevel: function (page, levelId, archiveLevelId) {\n\t\t\tvar me = this;\n\t\t\tvar promise = me.query([\n\t\t\t\tlevelId + \".children.progress,.children.children.progress.detail,.levelTest.progress\",\n\t\t\t\tarchiveLevelId && archiveLevelId.e10 && archiveLevelId.e10 + \".children.progress,.children.children.progress.detail\",\n\t\t\t\tarchiveLevelId && archiveLevelId.e13 && archiveLevelId.e13 + \".children.progress,.children.children.progress.detail\"\n\t\t\t]).spread(function (level, archiveE10Level, archiveE13Level) {\n\t\t\t\tme.publish(\"load/level\", page, {\n\t\t\t\t\tlevel: level,\n\t\t\t\t\tarchiveLevel: {\n\t\t\t\t\t\te10: archiveE10Level,\n\t\t\t\t\t\te13: archiveE13Level\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\ttracking.call(me, level);\n\t\t\t});\n\n\t\t\tme.publish(\"school/spinner\", promise);\n\t\t}\n\t});\n});\n\n","\ndefine('troopjs-requirejs/template!school-ui-progress-report/widget/container/be/be-navigation/be-navigation.html',[],function() { return function template(data) { var o = \"\";\nvar cardsPerPage = data.cardsPerPage;\nvar spinCards = data.spinCards;\n\nfunction renderSpinCard(spinCard) {\n\tvar classes = ['ets-pr-spin-nav-card'];\n\tif (spinCard.levelId === data.selectedLevelId) {\n\t\tclasses.push('ets-pr-selected');\n\t}\n\t// be careful not to leave line return or spaces around cards\no += \"<span class=\\\"\" +classes.join(' ')+ \"\\\" data-id=\\\"\" +spinCard.levelId+ \"\\\" data-archive-e13-level-id=\\\"\" +(spinCard.archiveId && spinCard.archiveId.e13 || '') + \"\\\">\\n\\t<span class=\\\"ets-pr-spin-nav-card-header\\\">\\n\\t\\t<span class=\\\"ets-pr-spin-nav-card-image\\\"></span>\\n\\t</span>\\n\\t<span class=\\\"ets-pr-spin-nav-card-content\\\">\\n\\t\\t<span class=\\\"ets-pr-spin-nav-card-course\\\">\" +spinCard.courseName+ \"</span>\\n\\t\\t<span class=\\\"ets-pr-spin-nav-card-level\\\">\" +spinCard.levelName+ \"</span>\\n\\t</span>\\n\\t<span data-state=\\\"\" +spinCard.state+ \"\\\" data-id=\\\"\" +spinCard.levelId+ \"\\\"\\n\\t      class=\\\"ets-pr-spin-nav-card-progress\\\"\\n\\t     data-weave=\\\"school-ui-progress-report/widget/container/be/be-navigation/state-circle\\\"></span>\\n</span>\";\n}\n\nfunction renderSpinCardsPage(pageCards, pageIndex) {\n\tvar classes = ['ets-pr-spin-nav-page'];\n\tif (pageIndex !== data.selectedPage) {\n\t\tclasses.push('ets-none');\n\t}\no += \"<div class=\\\"\" +classes.join(' ')+ \"\\\">\";\n\tpageCards.forEach(renderSpinCard);\no += \"</div>\";\n}\n\n\n// TEMPLATE BEGIN\n\no += \"\\n<div class=\\\"ets-pr-spin-nav ets-pr-header-content\\\">\\n\";\n\tvar pageIndex = 0;\n\tfor (var cardIndex = 0; cardIndex < spinCards.length; cardIndex+=cardsPerPage) {\n\t\tvar pageCards = spinCards.slice(cardIndex, cardIndex+cardsPerPage);\n\t\trenderSpinCardsPage(pageCards, pageIndex);\n\t\t++pageIndex;\n\t}\no += \"\\n\"; if (spinCards.length > cardsPerPage) { o += \"\\n\\t<div data-weave=\\\"school-ui-shared/widget/vector('school-ui-progress-report/vector/ico_spin_previous_page',11,21)\\\"\\n\\t     class=\\\"ets-pr-spin-nav-previous-page ets-pr-disabled\\\" data-action=\\\"previous-page\\\"></div>\\n\\t<div data-weave=\\\"school-ui-shared/widget/vector('school-ui-progress-report/vector/ico_spin_next_page',11,21)\\\"\\n\\t     class=\\\"ets-pr-spin-nav-next-page ets-pr-disabled\\\" data-action=\\\"next-page\\\"></div>\\n\\t<div class=\\\"ets-pr-spin-nav-pagination\\\" data-weave=\\\"troopjs-ef/blurb/widget\\\"\\n\\t     data-blurb-id=\\\"694984\\\" data-text-en=\\\"^number^ / ^total^\\\"\\n\\t     data-values=\\\"{&quot;total&quot;:\" +String(data.maxPageIndex+1)+ \"}\\\">\\n\\t\\t<span class=\\\"ets-pr-spin-nav-page-num\\\" data-value-name=\\\"number\\\"></span>\\n\\t</div>\\n\"; } o += \"\\n\\n\"; if (spinCards.length === 0) { o += \"\\n\\t<div class=\\\"ets-pr-header-no-course\\\">\\n\\t\\t<div class=\\\"ets-pr-header-no-course-content\\\">\\n\\t\\t\\t<div class=\\\"ets-pr-header-content-start\\\" data-weave=\\\"troopjs-ef/blurb/widget\\\" data-blurb-id=\\\"719531\\\"></div>\\n\\t\\t\\t<div class=\\\"ets-pr-header-content-detail\\\" data-weave=\\\"troopjs-ef/blurb/widget\\\" data-blurb-id=\\\"719536\\\"></div>\\n\\t\\t</div>\\n\\t</div>\\n\"; } o += \"\\n</div>\\n<div class=\\\"ets-pr-nav-bottom-border\\\"></div>\"; return o; }; });\n","\ndefine('troopjs-requirejs/template!school-ui-progress-report/widget/container/be/be-navigation/be-card-image.html',[],function() { return function template(data) { var o = \"<div style=\\\"background-image: url('\" +data.imageUrl+ \"')\\\"\\n\\t\\tclass=\\\"ets-pr-spin-nav-card-image\\\"></div>\"; return o; }; });\n","define('school-ui-progress-report/widget/container/be/be-navigation/main',[\n\t\"poly\",\n\t\"jquery\",\n\t\"when\",\n\t\"shadow!jquery.jscrollpane#$=jquery&jQuery=jquery&exports=jQuery\",\n\t\"shadow!jquery.mousewheel#$=jquery&jQuery=jquery&exports=jQuery\",\n\t\"troopjs-ef/component/widget\",\n\t\"school-ui-progress-report/utils/load\",\n\t\"school-ui-shared/utils/progress-state\",\n\t\"template!./be-navigation.html\",\n\t\"template!./be-card-image.html\"\n], function (\n\tpoly,\n\t$,\n\twhen,\n\tjScrollPane,\n\tmouseWheel,\n\tWidget,\n\tLoad,\n\tprogressState,\n\ttemplate,\n\timageTemplate\n) {\n\t\"use strict\";\n\n\tvar $ELEMENT = \"$element\";\n\tvar SPIN_CARDS = '_spinCards';\n\tvar MAX_PAGE_INDEX = '_maxPageIndex';\n\tvar SELECTED_PAGE = '_selectedPage';\n\tvar QUERIED_PAGE_IMAGES = '_queriedPageImages';\n\tvar HTML_PROMISE = '_htmlPromise';\n\n\tvar CLS_SELECTED = \"ets-pr-selected\";\n\tvar CLS_NONE = 'ets-none';\n\tvar CLS_DISABLED = 'ets-pr-disabled';\n\n\tvar SEL_CARD = '.ets-pr-spin-nav-card';\n\tvar SEL_PAGE = '.ets-pr-spin-nav-page';\n\tvar SEL_CARD_IMAGE = '.ets-pr-spin-nav-card-image';\n\tvar SEL_SELECTED = '.' + CLS_SELECTED;\n\tvar SEL_PAGE_NUM = '.ets-pr-spin-nav-page-num';\n\tvar SEL_PREVIOUS_PAGE_BUTTON = '.ets-pr-spin-nav-previous-page';\n\tvar SEL_NEXT_PAGE_BUTTON = '.ets-pr-spin-nav-next-page';\n\n\tvar CARDS_PER_PAGE = 3;\n\n\tfunction hasLevelProgressOrIsCurrent(studentLevel, currentEnroll) {\n\t\treturn \t(studentLevel && studentLevel.progress && studentLevel.progress.state) ||\n\t\t\t(studentLevel.id === currentEnroll.studentLevel.id);\n\t}\n\n\tfunction compareCourses(prev, next) {\n\t\treturn prev.children.length - next.children.length;\n\t}\n\n\tfunction computeSpinCards(initData) {\n\t\tvar currentEnroll = initData.currentEnroll;\n\t\tvar courses = initData.course.slice(0); // clone array\n\t\tcourses.sort(compareCourses);\n\t\tvar spinCards = [];\n\t\tcourses.forEach(function (course) {\n\t\t\tcourse.children.forEach(function (level) {\n\t\t\t\tif (hasLevelProgressOrIsCurrent(level, currentEnroll)) {\n\t\t\t\t\tvar current = level.studentLevelId === currentEnroll.studentLevelId;\n\t\t\t\t\tvar passed = progressState.hasPassed(level.progress.state);\n\t\t\t\t\tvar state;\n\t\t\t\t\tif (passed) {\n\t\t\t\t\t\tstate = 'passed';\n\t\t\t\t\t} else if (current) {\n\t\t\t\t\t\tstate = 'current';\n\t\t\t\t\t} else {\n\t\t\t\t\t\tstate = 'progress';\n\t\t\t\t\t}\n\t\t\t\t\tspinCards.push({\n\t\t\t\t\t\tcourseName: course.courseName,\n\t\t\t\t\t\tlevelId: level.id,\n\t\t\t\t\t\tlevelName: level.levelName,\n\t\t\t\t\t\tfirstUnitId: level.children[0].id,\n\t\t\t\t\t\tstate: state,\n\t\t\t\t\t\tcurrent: current,\n\t\t\t\t\t\tarchiveId: {\n\t\t\t\t\t\t\te13: level.archiveId && level.archiveId.e13\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t\treturn spinCards;\n\t}\n\n\tfunction quietQuery(queries) {\n\t\t// don't use this.query to avoid displaying spinner on page change\n\t\treturn this.publish('query', queries);\n\t}\n\n\tfunction showSelectedPageImages() {\n\t\tvar me = this;\n\t\tvar pageIndex = me[SELECTED_PAGE];\n\t\tif (me[QUERIED_PAGE_IMAGES][pageIndex]) {\n\t\t\treturn; // already queried images for this page\n\t\t}\n\t\tme[QUERIED_PAGE_IMAGES][pageIndex] = true;\n\t\tvar queriedSpinCards = me[SPIN_CARDS].slice(pageIndex * CARDS_PER_PAGE, (pageIndex + 1) * CARDS_PER_PAGE);\n\t\tvar queries = queriedSpinCards.map(function (spinCard) {\n\t\t\treturn spinCard.firstUnitId + '.unitImage';\n\t\t});\n\t\tvar htmlPromise = me[HTML_PROMISE];\n\t\treturn when.all([\n\t\t\tquietQuery.call(me, queries),\n\t\t\thtmlPromise\n\t\t]).spread(function (units) {\n\t\t\tif (htmlPromise !== me[HTML_PROMISE]) {\n\t\t\t\treturn; // race condition check\n\t\t\t}\n\t\t\tvar $element = me[$ELEMENT];\n\t\t\tqueriedSpinCards.forEach(function (spinCard, index) {\n\t\t\t\tvar unit = units[index];\n\t\t\t\tif (unit.unitImage && unit.unitImage.url) {\n\t\t\t\t\t$element.find(SEL_CARD + '[data-id=\"' + spinCard.levelId + '\"] ' + SEL_CARD_IMAGE)\n\t\t\t\t\t\t.css('background-image', \"url('\" + unit.unitImage.url + \"')\");\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t}\n\n\tfunction updateShownPage() {\n\t\tvar me = this;\n\t\tvar selectedPage = me[SELECTED_PAGE];\n\t\tvar maxPageIndex = me[MAX_PAGE_INDEX];\n\t\tvar $element = me[$ELEMENT];\n\n\t\tvar $pages = $element.find(SEL_PAGE);\n\t\t$pages.addClass(CLS_NONE);\n\t\tvar $selectedPage = $pages.eq(selectedPage);\n\t\t$selectedPage.removeClass(CLS_NONE);\n\t\tvar pageNumText = String(selectedPage + 1);\n\t\t$element.find(SEL_PAGE_NUM).text(pageNumText);\n\t\t$element.find(SEL_PREVIOUS_PAGE_BUTTON)\n\t\t\t.toggleClass(CLS_DISABLED, selectedPage === 0);\n\t\t$element.find(SEL_NEXT_PAGE_BUTTON)\n\t\t\t.toggleClass(CLS_DISABLED, selectedPage >= maxPageIndex);\n\n\t\tshowSelectedPageImages.call(me);\n\t}\n\n\tfunction selectLevel(levelId, archiveId) {\n\t\tvar me = this;\n\t\tme.publish('progress-report/spin/state-circle/selected', levelId);\n\t\tLoad.loadLevel(\"be\", levelId, archiveId);\n\t}\n\n\treturn Widget.extend(function ($element, name, initData) {\n\t\tthis[SPIN_CARDS] = computeSpinCards(initData);\n\t\tthis[MAX_PAGE_INDEX] = Math.floor((this[SPIN_CARDS].length - 1) / CARDS_PER_PAGE);\n\t\tthis[QUERIED_PAGE_IMAGES] = {}; // mapping page index -> boolean (true if queried)\n\t\tthis[HTML_PROMISE] = null;\n\t}, {\n\t\t\"sig/start\": function () {\n\t\t\tvar me = this;\n\t\t\tvar spinCards = this[SPIN_CARDS];\n\n\t\t\tvar selectedPage = 0;\n\t\t\tvar selectedSpinCard = spinCards[0];\n\t\t\tspinCards.every(function (spinCard, cardIndex) {\n\t\t\t\tif (spinCard.current) {\n\t\t\t\t\tselectedSpinCard = spinCard;\n\t\t\t\t\tselectedPage = Math.floor(cardIndex / CARDS_PER_PAGE);\n\t\t\t\t\treturn false;\n\t\t\t\t} else {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t});\n\t\t\tvar selectedLevelId = selectedSpinCard && selectedSpinCard.levelId;\n\t\t\tvar selectedArchiveLevelId = selectedSpinCard && selectedSpinCard.archiveId;\n\n\t\t\tme[SELECTED_PAGE] = selectedPage;\n\n\t\t\tme[QUERIED_PAGE_IMAGES] = {};\n\t\t\tme[HTML_PROMISE] = me.html(template, {\n\t\t\t\tselectedLevelId: selectedLevelId,\n\t\t\t\tselectedPage: selectedPage,\n\t\t\t\tspinCards: spinCards,\n\t\t\t\tcardsPerPage: CARDS_PER_PAGE,\n\t\t\t\tmaxPageIndex: me[MAX_PAGE_INDEX]\n\t\t\t}).then(function(){\n\t\t\t\tupdateShownPage.call(me);\n\t\t\t});\n\n\t\t\tshowSelectedPageImages.call(me); // early query of current page images\n\t\t\tselectLevel.call(me, selectedLevelId, selectedArchiveLevelId);\n\t\t},\n\t\t\"sig/stop\": function () {\n\t\t\tthis[QUERIED_PAGE_IMAGES] = {};\n\t\t\tthis[HTML_PROMISE] = null;\n\t\t},\n\t\t\"dom:[data-action=previous-page]/click\": function () {\n\t\t\tvar me = this;\n\t\t\tif (me[SELECTED_PAGE] > 0) {\n\t\t\t\tme[SELECTED_PAGE] -= 1;\n\t\t\t\tupdateShownPage.call(me);\n\t\t\t}\n\t\t},\n\t\t\"dom:[data-action=next-page]/click\": function () {\n\t\t\tvar me = this;\n\t\t\tif (me[SELECTED_PAGE] < me[MAX_PAGE_INDEX]) {\n\t\t\t\tme[SELECTED_PAGE] += 1;\n\t\t\t\tupdateShownPage.call(me);\n\t\t\t}\n\t\t},\n\t\t\"dom:.ets-pr-spin-nav-card/click\": function (evt) {\n\t\t\tvar me = this;\n\t\t\tvar $target = $(evt.currentTarget);\n\t\t\tif (!$target.hasClass(CLS_SELECTED)) {\n\t\t\t\tvar levelId = $target.data(\"id\");\n\t\t\t\tvar archiveE13LevelId=$target.data(\"archiveE13LevelId\");\n\t\t\t\tme[$ELEMENT].find(SEL_SELECTED).removeClass(CLS_SELECTED);\n\t\t\t\t$target.addClass(CLS_SELECTED);\n\t\t\t\tselectLevel.call(me, levelId, {e13: archiveE13LevelId});\n\t\t\t}\n\t\t}\n\t});\n});\n\n","\ndefine('troopjs-requirejs/template!school-ui-progress-report/widget/shared/state-circle/state-circle.html',[],function() { return function template(data) { var o = \"\";\nvar iconName = {\n\tpassed: 'ico_circle_green',\n\tcurrent: 'ico_circle_blue',\n\tprogress: 'ico_circle_black'\n}[data.state] || 'ico_circle_gray';\no += \"\\n<div class=\\\"ets-pr-state-circle\\\"\\n     data-weave=\\\"school-ui-shared/widget/vector('school-ui-progress-report/vector/\" +iconName+ \"',32,32)\\\"\\n></div>\"; return o; }; });\n","define('school-ui-progress-report/widget/shared/state-circle/main',[\n\t\"when\",\n\t\"poly\",\n\t\"jquery\",\n\t\"snapsvg\",\n\t\"troopjs-ef/component/widget\",\n\t\"template!./state-circle.html\"\n], function (when, poly, $, snapsvg, Widget, template) {\n\t\"use strict\";\n\n\tvar $ELEMENT = \"$element\";\n\n\tvar SELECTED_ID = '_selectedStateCircleId';\n\tvar HOVERED_ID = '_hoveredStateCircleId';\n\tvar ID = '_stateCircleId';\n\tvar STATE = '_stateCircleState';\n\n\tfunction svgAnimate(node, options, duration) {\n\t\ttry {\n\t\t\tsnapsvg(node).animate(options, duration);\n\t\t} catch (e) {\n\t\t\t// IE9 may throw an error if the node is not visible\n\t\t\t// ignore error\n\t\t}\n\t}\n\n\tfunction updateSelected() {\n\t\tvar me = this;\n\t\tif (me[SELECTED_ID] === me[ID]) {\n\t\t\tme[$ELEMENT].find(\"path[data-d-select]\").each(function () {\n\t\t\t\tsvgAnimate(this, {\n\t\t\t\t\td: $(this).data(\"d-select\")\n\t\t\t\t}, 100);\n\t\t\t});\n\t\t} else {\n\t\t\tme[$ELEMENT].find(\"path[data-d-origin]\").each(function () {\n\t\t\t\tsvgAnimate(this, {\n\t\t\t\t\td: $(this).data(\"d-origin\")\n\t\t\t\t}, 100);\n\t\t\t});\n\t\t}\n\t}\n\n\tfunction updateHovered() {\n\t\tvar me = this;\n\t\tif (me[HOVERED_ID] === me[ID]) {\n\t\t\tme[$ELEMENT].find(\"path\").each(function () {\n\t\t\t\tsvgAnimate(this, {\n\t\t\t\t\ttransform: \"s1.3,1.3,16,16\"\n\t\t\t\t}, 100);\n\t\t\t});\n\t\t} else {\n\t\t\tme[$ELEMENT].find(\"path\").each(function () {\n\t\t\t\tsvgAnimate(this, {\n\t\t\t\t\ttransform: \"s1,1,16,16\"\n\t\t\t\t}, 100);\n\t\t\t});\n\t\t}\n\t}\n\n\treturn Widget.extend(function ($element) {\n\t\tthis[SELECTED_ID] = null;\n\t\tthis[HOVERED_ID] = null;\n\t\tthis[ID] = $element.data('id');\n\t\tthis[STATE] = $element.data('state');\n\t}, {\n\t\t\"sig/start\": function () {\n\t\t\tvar me = this;\n\t\t\treturn me.html(template, {\n\t\t\t\tstate: me[STATE],\n\t\t\t}).then(function () {\n\t\t\t\tupdateSelected.call(me);\n\t\t\t\tupdateHovered.call(me);\n\t\t\t});\n\t\t},\n\t\t\"setSelected\": function (selectedId) {\n\t\t\tvar me = this;\n\t\t\tvar previousSelectedId = me[SELECTED_ID];\n\t\t\tme[SELECTED_ID] = selectedId;\n\t\t\tif (previousSelectedId === me[ID] || selectedId === me[ID]) {\n\t\t\t\tupdateSelected.call(me);\n\t\t\t} // else stays unselected\n\t\t},\n\t\t\"setHovered\": function (hoveredId) {\n\t\t\tvar me = this;\n\t\t\tvar previousHoveredId = me[HOVERED_ID];\n\t\t\tme[HOVERED_ID] = hoveredId;\n\t\t\tif (previousHoveredId === me[ID] || hoveredId === me[ID]) {\n\t\t\t\tupdateHovered.call(me);\n\t\t\t} // else stays not hovered\n\t\t}\n\t});\n});\n","define('school-ui-progress-report/widget/container/be/be-navigation/state-circle',[\n\t\"school-ui-progress-report/widget/shared/state-circle/main\"\n], function (StateCircleWidget) {\n\t\"use strict\";\n\n\treturn StateCircleWidget.extend({\n\t\t\"hub:memory/progress-report/spin/state-circle/selected\": function (selectedId) {\n\t\t\tthis.setSelected(selectedId);\n\t\t}\n\t});\n});\n","\ndefine('troopjs-requirejs/template!school-ui-progress-report/widget/container/be/be.html',[],function() { return function template(data) { var o = \"<div class=\\\"ets-pr-header\\\">\\n\\t<div class=\\\"ets-pr-header-nav\\\" data-weave=\\\"school-ui-progress-report/widget/container/be/be-navigation/main('initData')\\\"></div>\\n\\t<div class=\\\"ets-pr-level-info ets-pr-header-content\\\" data-weave=\\\"school-ui-progress-report/widget/shared/level-info/main('be')\\\"></div>\\n</div>\\n<div class=\\\"ets-pr-body\\\">\\n\\t<div class=\\\"ets-pr-content\\\">\\n\\t\\t<div class=\\\"ets-pr-unit\\\">\\n\\t\\t\\t<div class=\\\"ets-pr-unit-list\\\" data-weave=\\\"school-ui-progress-report/widget/shared/unit-list/normal/main('be','initData')\\\"></div>\\n\\t\\t</div>\\n\\t</div>\\n</div>\"; return o; }; });\n","define('school-ui-progress-report/widget/container/be/main',[\n\t\"jquery\",\n\t\"troopjs-ef/component/widget\",\n\t\"school-ui-progress-report/utils/load\",\n\t\"template!./be.html\"\n], function ($, Widget, Load, tSpin) {\n\t\"use strict\";\n\n\tvar INIT_DATA = \"_init_data\";\n\tvar $ELEMENT = \"$element\";\n\n\treturn Widget.extend(function ($element, path, initData) {\n\t\tthis[INIT_DATA] = initData;\n\t}, {\n\t\t\"sig/start\": function () {\n\t\t\tvar me = this;\n\t\t\tme[$ELEMENT].html(tSpin());\n\t\t\tme[$ELEMENT].find(\".ets-pr-header-nav\").data(\"initData\", me[INIT_DATA]);\n\t\t\tme[$ELEMENT].find(\".ets-pr-unit-list\").data(\"initData\", me[INIT_DATA]);\n\t\t\treturn me.weave();\n\t\t}\n\t});\n});\n\n","define('school-ui-progress-report/widget/container/feedback/feedback-id-manager',[\n\t\"poly\",\n\t\"troopjs-ef/component/gadget\"\n], function (poly, Gadget) {\n\n\tvar localStorage = window.localStorage;\n\n\tvar FEEDBACK_IDS = \"_progress_report_viewed_feedback_ids\";\n\tvar ID_SEPARATOR = \",\";\n\n\treturn Gadget.create(function () {\n\t\t\tthis.loadIds();\n\t\t},\n\t\t{\n\t\t\t\"loadIds\": function () {\n\t\t\t\tthis[FEEDBACK_IDS] = localStorage.getItem(FEEDBACK_IDS) || ID_SEPARATOR;\n\t\t\t},\n\t\t\t\"saveIds\": function () {\n\t\t\t\tlocalStorage.setItem(FEEDBACK_IDS, this[FEEDBACK_IDS]);\n\t\t\t},\n\t\t\t\"isNewId\": function (id) {\n\t\t\t\tvar checkId = ID_SEPARATOR + id.toString() + ID_SEPARATOR;\n\t\t\t\treturn this[FEEDBACK_IDS].indexOf(checkId) === -1;\n\t\t\t},\n\t\t\t\"addIds\": function (ids) {\n\t\t\t\tvar me = this;\n\t\t\t\tvar newIds = [];\n\n\t\t\t\tids.forEach(function (id) {\n\t\t\t\t\tme.isNewId(id) && newIds.push(id);\n\t\t\t\t});\n\n\t\t\t\tif (newIds.length) {\n\t\t\t\t\tme[FEEDBACK_IDS] = ID_SEPARATOR + newIds.join(ID_SEPARATOR) + me[FEEDBACK_IDS];\n\t\t\t\t\tme.saveIds();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t);\n});\n","\ndefine('troopjs-requirejs/template!school-ui-progress-report/widget/container/feedback/feedback-body/feedback-body.html',[],function() { return function template(data) { var o = \"\";\nvar feedbacks = data.items;\nvar getTypeInfo = data.getTypeInfo;\nvar formatDate = data.formatDate;\nvar OSA = data.OSA;\no += \"\\n\\n\"; for(var i = 0; i < feedbacks.length ; i++) {\n\tvar item = feedbacks[i];\n\tvar typeInfo = getTypeInfo(item.typeCode);\n\tvar dateFormat = formatDate(item.startTime);\n\tvar grade = item.osaGradedStatus || item.grade;\n\to += \"\\n\\t<tr class=\\\"ets-pr-fb-row\\\" data-sourceId=\\\"\" + item.feedback_id + \"\\\" data-typeCode=\\\"\" + item.typeCode + \"\\\">\\n\\t\\t<td class=\\\"ets-pr-fb-date\\\"><span>\\n\\t\\t\\t\"; if(item.isNew){ o += \"<em data-weave=\\\"troopjs-ef/blurb/widget\\\" data-blurb-id=\\\"659693\\\" data-text-en=\\\"New\\\"></em>\"; } o += \"\\n\\t\\t\\t\"; if(dateFormat.blurbId) { o += \"<span data-weave=\\\"troopjs-ef/blurb/widget\\\" data-blurb-id=\\\"\" +dateFormat.blurbId+ \"\\\" data-text-en=\\\"\" +dateFormat.blurbTextEn+ \"\\\"></span>\"; } o += \" \" + dateFormat.passedDate + \"\\n\\t\\t</span></td>\\n\\t\\t<td class=\\\"ets-pr-fb-summary\\\"><span>\\n\\t\\t\\t\"; if(item.typeCode !== OSA && item.courseBreadCrumb) { o += \"<span class=\\\"ets-pr-fb-course-bread-crumb\\\">\" + item.courseBreadCrumb + \"</span>\"; } o += \"\\n\\t\\t\\t<span class=\\\"ets-pr-fb-title\\\">\" + item.title + \"</span>\\n\\t\\t\\t\"; if(item.teacher) { o += \"\\n\\t\\t\\t\\t<span class=\\\"ets-pr-fb-teacher\\\">\\n\\t\\t\\t\\t\\t<span data-weave=\\\"school-ui-shared/widget/vector('school-ui-progress-report/vector/ico_teacher',25.5,15.5)\\\"></span>\\n\\t\\t\\t\\t\\t\" + item.teacher.displayName + \"\\n\\t\\t\\t\\t</span>\\n\\t\\t\\t\"; } o += \"\\n\\t\\t</span></td>\\n\\t\\t<td class=\\\"ets-pr-fb-type\\\"><span data-weave=\\\"troopjs-ef/blurb/widget\\\" data-blurb-id=\\\"\" +typeInfo.blurbId+ \"\\\" data-text-en=\\\"\" +typeInfo.blurbTextEn+ \"\\\"></span></td>\\n\\t\\t<td class=\\\"ets-pr-fb-device\\\">\\n\\t\\t\\t\";if (item.device === \"Mobile\") {o += \"\\n\\t\\t\\t\\t<div data-weave=\\\"school-ui-shared/widget/vector('school-ui-progress-report/vector/ico_mobilephone',20,22)\\\" data-at-device=\\\"mobile\\\"></div>\\n\\t\\t\\t\";} else if (item.device === \"PC\") {o += \"\\n\\t\\t\\t\\t<div data-weave=\\\"school-ui-shared/widget/vector('school-ui-progress-report/vector/ico_pc',44,29)\\\" data-at-device=\\\"desktop\\\"></div>\\n\\t\\t\\t\";}o += \"\\n\\t\\t</td>\\n\\t\\t<td class=\\\"ets-pr-fb-score \" + (item.isPassed ? 'ets-pr-fb-passed' : 'ets-pr-fb-not-passed')+ \"\\\"><span>\" + grade + \"</span></td>\\n\\t</tr>\\n\"; }  return o; }; });\n","define('school-ui-progress-report/widget/container/feedback/feedback-body/main',[\n\t\"jquery\",\n\t\"when\",\n\t\"poly\",\n\t\"moment\",\n\t\"troopjs-ef/component/widget\",\n\t\"troopjs-browser/loom/config\",\n\t\"troopjs-browser/loom/weave\",\n\t\"school-ui-shared/enum/moment-language\",\n\t\"school-ui-progress-report/enum/feedback-typecode\",\n\t\"../feedback-id-manager\",\n\t\"school-ui-progress-report/enum/score-state\",\n\t\"template!./feedback-body.html\"\n], function ($, when, poly, Moment, Widget, loom, weave, momentLang, fbType, FeedbackIdManager, scoreState, tFeedbackBody) {\n\t\"use strict\";\n\n\tvar UNDEF;\n\tvar $ELEMENT = \"$element\";\n\n\tvar CONTEXT = \"_context\",\n\t\tSELECTED_ITEM_INFO = \"_selectedItemInfo\",\n\t\tITEMS = \"_items\";\n\n\tvar SEL_DOCUMENT = \"html, body\";   //for scroll animation, \"html\" works for IE8 and \"body\" works for other browsers\n\tvar SEL_HEADER = \".ue-header\";\n\tvar SEL_SUMMARY_ROW = \".ets-pr-fb-row\";\n\tvar SEL_DETAIL = \".ets-pr-fb-detail\";\n\tvar SEL_VIDEO = \".ets-pr-fb-video\";\n\n\tvar CLS_SELECT = \"ets-pr-fb-select\";\n\tvar CLS_DETAIL_ROW = \"ets-pr-fb-detail-row\";\n\tvar CLS_DETAIL_OPEN = \"ets-pr-fb-open\";\n\tvar CLS_NONE = \"ets-none\";\n\n\tvar DURATION_SCROLL_DOWN = 800;\n\n\tfunction initItemDetail($summaryRow) {\n\t\tvar $detailCell = $(\"<td></td>\")\n\t\t.attr(\"colspan\", $summaryRow.children().length)\n\t\t.data(\"summary\", $summaryRow.data(\"summary\"))\n\t\t.attr(loom.weave, \"school-ui-progress-report/widget/container/feedback/feedback-detail/main\");\n\t\tvar $detailRow = $(\"<tr></tr>\").attr(\"class\", CLS_DETAIL_ROW).html($detailCell);\n\n\t\tvar rowWidth = $summaryRow.width();\n\t\t$summaryRow.after($detailRow);\n\t\treturn $detailCell.weave().spread(function () {\n\t\t\tvar $detail = $detailCell.find(SEL_DETAIL);\n\n\t\t\t$detail.width(rowWidth);\n\t\t\t$detail.attr(\"data-height\", $detail.height());\n\t\t\t$detail.css(\"height\", \"0\").removeClass(CLS_NONE);\n\t\t\t$detail.removeClass(CLS_DETAIL_OPEN);\n\t\t});\n\t}\n\n\tfunction expandItemDetail($summaryRow) {\n\t\tvar $detail = $summaryRow.next().find(SEL_DETAIL);\n\t\t$detail.addClass(CLS_DETAIL_OPEN).css(\"height\", $detail.data(\"height\") + \"px\");\n\t\t$summaryRow.addClass(CLS_SELECT);\n\t}\n\n\tfunction collapseItemDetail($summaryRow) {\n\t\tvar $detail = $summaryRow.next().find(SEL_DETAIL);\n\t\t$detail.removeClass(CLS_DETAIL_OPEN).css(\"height\", 0);\n\t\t$summaryRow.removeClass(CLS_SELECT);\n\t}\n\n\tfunction stopVideoPlayer($summaryRow){\n\t\tvar $detail = $summaryRow.next().find(SEL_DETAIL);\n\t\tvar $video = $detail.find(SEL_VIDEO + ' video');\n\t\tif ($video.length) {\n\t\t\t$video.data('mediaelementplayer').pause();\n\t\t}\n\t}\n\n\tfunction toggleItemDetail($summaryRow) {\n\t\tvar $next = $summaryRow.next();\n\n\t\tif ($next.hasClass(CLS_DETAIL_ROW)) {\n\t\t\tif ($summaryRow.hasClass(CLS_SELECT)) {\n\t\t\t\tcollapseItemDetail($summaryRow);\n\t\t\t\tstopVideoPlayer($summaryRow);\n\t\t\t} else {\n\t\t\t\texpandItemDetail($summaryRow);\n\t\t\t}\n\t\t} else {\n\t\t\tinitItemDetail($summaryRow).then(function () {\n\t\t\t\tsetTimeout(function () {\n\t\t\t\t\t$next = $summaryRow.next();\n\t\t\t\t\tvar $detail = $next.find(SEL_DETAIL);\n\t\t\t\t\texpandItemDetail($summaryRow, $detail);\n\t\t\t\t}, 0);\n\t\t\t});\n\t\t}\n\t}\n\n\tfunction getTypeInfo(type) {\n\t\tswitch (type) {\n\t\t\tcase fbType.writing:\n\t\t\t\treturn {\n\t\t\t\t\tblurbId: 659694,\n\t\t\t\t\tblurbTextEn: \"Writing Challenge\"\n\t\t\t\t};\n\t\t\tcase fbType.gl:\n\t\t\t\treturn {\n\t\t\t\t\tblurbId: 659695,\n\t\t\t\t\tblurbTextEn: \"Online Group Class\"\n\t\t\t\t};\n\t\t\tcase fbType.pl:\n\t\t\t\treturn {\n\t\t\t\t\tblurbId: 659696,\n\t\t\t\t\tblurbTextEn: \"Online Private Class\"\n\t\t\t\t};\n\t\t\tcase fbType.cp20:\n\t\t\t\treturn {\n\t\t\t\t\tblurbId: 659696,\n\t\t\t\t\tblurbTextEn: \"Online Private Class\"\n\t\t\t\t};\n\t\t\tcase fbType.eftv:\n\t\t\t\treturn {\n\t\t\t\t\tblurbId: 60558,\n\t\t\t\t\tblurbTextEn: \"English Fluency Test\"\n\t\t\t\t};\n\t\t\tcase fbType.osa:\n\t\t\t\treturn {\n\t\t\t\t\tblurbId: 709947,\n\t\t\t\t\tblurbTextEn: \"Online stage assessment\"\n\t\t\t\t};\n\t\t\tdefault:\n\t\t\t\treturn {};\n\t\t}\n\t}\n\n\tfunction formatDate(date) {\n\t\tvar context = this[CONTEXT];\n\t\tvar MNow = Moment();\n\t\tvar MDate = Moment(date);\n\t\tMDate.locale(momentLang[context.cultureCode.toLowerCase()] || \"en\");\n\n\t\tif (MNow.isSame(MDate, \"day\")) {\n\t\t\treturn {\n\t\t\t\tblurbId: \"660406\",\n\t\t\t\tblurbTextEn: \"Today\",\n\t\t\t\tpassedDate: \"\"\n\t\t\t};\n\t\t}\n\t\telse if (MNow.add(-1, 'day').isSame(MDate, \"day\")) {\n\t\t\treturn {\n\t\t\t\tblurbId: \"660407\",\n\t\t\t\tblurbTextEn: \"Yesterday\",\n\t\t\t\tpassedDate: MDate.format(\"H:mm\")\n\t\t\t};\n\t\t}\n\t\telse {\n\t\t\treturn {\n\t\t\t\tblurbId: \"\",\n\t\t\t\tblurbTextEn: \"\",\n\t\t\t\tpassedDate: MDate.format(\"ll\")\n\t\t\t};\n\t\t}\n\t}\n\n\tfunction render(context, items) {\n\t\tvar me = this;\n\n\t\tif (!context || !items) {\n\t\t\treturn;\n\t\t}\n\n\t\tme.html(tFeedbackBody, {\n\t\t\titems: items,\n\t\t\tgetTypeInfo: getTypeInfo,\n\t\t\tformatDate: formatDate.bind(me),\n\t\t\tOSA: fbType.osa\n\t\t}).then(function () {\n\t\t\t//assign item object to summary row element\n\t\t\tvar $rows = me[$ELEMENT].find(SEL_SUMMARY_ROW);\n\t\t\titems.forEach(function (item, index) {\n\t\t\t\t$rows.eq(index).data(\"summary\", item);\n\t\t\t});\n\n\t\t\t//expand selected item and scroll into visible area\n\t\t\tvar selectedItem = items.reduce(function (prev, item) {\n\t\t\t\treturn prev || (item.isSelected && item)\n\t\t\t}, UNDEF);\n\n\t\t\tif (selectedItem) {\n\t\t\t\tvar $selectedRow = me[$ELEMENT].find(SEL_SUMMARY_ROW + \"[data-typecode='\" + selectedItem.typeCode + \"'][data-sourceid='\" + selectedItem.feedback_id + \"']\");\n\t\t\t\tinitItemDetail($selectedRow).then(function () {\n\t\t\t\t\tvar $detail = $selectedRow.next().find(SEL_DETAIL);\n\t\t\t\t\tvar scrollTop = $selectedRow.offset().top -\n\t\t\t\t\t\t$(SEL_HEADER).outerHeight() -\n\t\t\t\t\t\t($(window).height() - $(SEL_HEADER).outerHeight() - $selectedRow.height() - parseInt($detail.data(\"height\"))) / 2;\n\n\t\t\t\t\t$(SEL_DOCUMENT).animate({\n\t\t\t\t\t\tscrollTop: scrollTop\n\t\t\t\t\t}, DURATION_SCROLL_DOWN, UNDEF, function animateDone() {\n\t\t\t\t\t\texpandItemDetail($selectedRow);\n\t\t\t\t\t});\n\n\t\t\t\t\tselectedItem.isSelected = false;\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t}\n\n\treturn Widget.extend(function ($element, path, selectedItemInfo) {\n\t\tthis[SELECTED_ITEM_INFO] = selectedItemInfo;\n\t}, {\n\t\t\"hub:memory/context\": function (context) {\n\t\t\tvar me = this;\n\t\t\trender.call(me, me[CONTEXT] = context, me[ITEMS]);\n\t\t},\n\n\t\t\"hub:memory/feedback/update-items\": function (items) {\n\t\t\tvar me = this;\n\n\t\t\t//isSelected\n\t\t\tif (me[SELECTED_ITEM_INFO]) {\n\t\t\t\tvar typeCode = me[SELECTED_ITEM_INFO].typeCode;\n\t\t\t\tvar feedbackId = me[SELECTED_ITEM_INFO].feedbackId;\n\t\t\t\titems.every(function (item) {\n\t\t\t\t\tif (String(item.feedback_id) === feedbackId && (item.typeCode === typeCode || item.categoryCode === typeCode)) {\n\t\t\t\t\t\titem.isSelected = true;\n\t\t\t\t\t\tdelete me[SELECTED_ITEM_INFO];  //auto expand only once\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\n\t\t\t//isPassed\n\t\t\titems.forEach(function (item) {\n\t\t\t\tvar passScore = item.typeCode === fbType.osa ? scoreState.osaPassScore : scoreState.passScore;\n\t\t\t\titem.isPassed = (item.grade >= passScore);\n\t\t\t});\n\n\t\t\t//isNew\n\t\t\tvar newIds = [];\n\t\t\titems.forEach(function (item) {\n\t\t\t\tvar itemId = item.typeCode + \"_\" + item.feedback_id;\n\t\t\t\titem.isNew = FeedbackIdManager.isNewId(itemId);\n\t\t\t\titem.isNew && newIds.push(itemId);\n\t\t\t});\n\t\t\tFeedbackIdManager.addIds(newIds);\n\n\t\t\t//get teacher info, then render\n\t\t\tvar teacherQueries = items.filter(function (item) {\n\t\t\t\treturn item.teacher;\n\t\t\t}).map(function (item) {\n\t\t\t\treturn me.query(item.teacher.id).spread(function (teacher) {\n\t\t\t\t\titem.teacher = teacher;\n\t\t\t\t});\n\t\t\t});\n\t\t\twhen.all(teacherQueries).then(function () {\n\t\t\t\trender.call(me, me[CONTEXT], me[ITEMS] = items);\n\t\t\t});\n\t\t},\n\n\t\t\"dom:.ets-pr-fb-row/click\": function (evt) {\n\t\t\tvar $summaryRow = $(evt.currentTarget);\n\t\t\ttoggleItemDetail($summaryRow);\n\t\t}\n\t});\n});\n\n","\ndefine('troopjs-requirejs/template!school-ui-progress-report/widget/container/feedback/feedback-detail/class-notes/class-notes.html',[],function() { return function template(data) { var o = \"<button data-weave=\\\"troopjs-ef/blurb/widget\\\" data-blurb-id=\\\"708503\\\" data-text-en=\\\"CLASS NOTES\\\" class=\\\"ets-pr-fb-btn ets-pr-fb-btn-class-notes\\\"></button>\\n<div class=\\\"ets-pr-fb-class-notes-backdrop ets-none\\\">\\n\\t<div class=\\\"ets-pr-fb-class-notes-wrapper\\\">\\n\\t\\t<button type=\\\"button\\\" class=\\\"ets-pr-fb-class-notes-close\\\"></button>\\n\\t\\t<h6 data-weave=\\\"troopjs-ef/blurb/widget\\\" data-blurb-id=\\\"708503\\\" data-text-en=\\\"CLASS NOTES\\\"></h6>\\n\\t\\t<div class=\\\"ets-pr-fb-class-notes-container\\\">\\n\\t\\t\\t<div class=\\\"ets-pr-fb-class-notes-content\\\"></div>\\n\\t\\t</div>\\n\\t</div>\\n</div>\"; return o; }; });\n","define('school-ui-progress-report/widget/container/feedback/feedback-detail/class-notes/main',[\n\t\"quill\",\n\t\"troopjs-ef/component/widget\",\n\t\"template!./class-notes.html\",\n], function (Quill, Widget, tClassNotes) {\n\t\"use strict\";\n\n\tvar CLS_NONE = \"ets-none\";\n\tvar CLS_MODAL_OPEN = \"modal-open\";\n\n\tvar SEL_NOTES_BACKDROP = '.ets-pr-fb-class-notes-backdrop';\n\tvar SEL_NOTES_CONTENT = '.ets-pr-fb-class-notes-content';\n\n\tvar RE_NEWLINE = /\\n/g;\n\tvar NEWLINE_ESCAPE = '\\\\n';\n\n\treturn Widget.extend({\n\t\t'sig/start': function () {\n\t\t\tvar me = this;\n\t\t\tvar notes = me.$element.data('notes');\n\t\t\tif (!notes) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tme.html(tClassNotes).then(function () {\n\t\t\t\tvar notesData;\n\n\t\t\t\ttry {\n\t\t\t\t\tnotesData = JSON.parse(notes.replace(RE_NEWLINE, NEWLINE_ESCAPE));\n\t\t\t\t}\n\t\t\t\tcatch (ex) {\n\t\t\t\t\tnotesData = {ops: [{insert: String(notes)}]};\n\t\t\t\t}\n\n\t\t\t\tvar quill = new Quill(me.$element.find(SEL_NOTES_CONTENT)[0], {\n\t\t\t\t\treadOnly: true\n\t\t\t\t});\n\n\t\t\t\tquill.setContents(notesData);\n\t\t\t});\n\t\t},\n\n\t\t'dom:.ets-pr-fb-btn-class-notes/click': function () {\n\t\t\t$(document.body).addClass(CLS_MODAL_OPEN);\n\t\t\tthis.$element.find(SEL_NOTES_BACKDROP).removeClass(CLS_NONE);\n\t\t},\n\n\t\t'dom:.ets-pr-fb-class-notes-close,.ets-pr-fb-class-notes-backdrop/click': function (evt) {\n\t\t\tif (evt.currentTarget === evt.target) {\n\t\t\t\t$(document.body).removeClass(CLS_MODAL_OPEN);\n\t\t\t\tthis.$element.find(SEL_NOTES_BACKDROP).addClass(CLS_NONE);\n\t\t\t}\n\t\t}\n\t});\n});\n\n","\ndefine('troopjs-requirejs/template!school-ui-progress-report/widget/container/feedback/feedback-detail/class-video/main.html',[],function() { return function template(data) { var o = \"<button class=\\\"ets-pr-fb-btn ets-pr-fb-btn-class-video\\\" data-weave=\\\"troopjs-ef/blurb/widget\\\" data-blurb-id=\\\"708502\\\" data-text-en=\\\"Class video\\\"></button>\\n<div class=\\\"hidden ets-pr-fb-video\\\">\\n    <video title=\\\"\" + data.topic + \"\\\" width=\\\"600\\\" height=\\\"400\\\" preload=\\\"none\\\" class=\\\"ef-mejs-video\\\">\\n        <source type=\\\"video/mp4\\\" src=\\\"\" + data.video + \"\\\" />\\n    </video>\\n</div>\"; return o; }; });\n","define('school-ui-progress-report/widget/container/feedback/feedback-detail/class-video/main',[\n\t\"jquery\",\n\t\"when\",\n\t\"mediaelement-with-plugins\",\n\t\"troopjs-ef/component/widget\",\n\t\"template!./main.html\",\n], function ($, when, mejs, Widget, template) {\n\n\tvar SEL_DETAIL = \".ets-pr-fb-detail\";\n\tvar SEL_VIDEO = '.ets-pr-fb-video';\n\tvar SEL_PLAYER = '.ef-mejs-video';\n\tvar PLAYER_FEATURES = ['playpause','current','progress','duration','tracks','volume','fullscreen','title'];\n\tvar PLAYER_CONTROLS_TIMEOUT_MOUSELEAVE = 2000;\n\n\tfunction getTopic () {\n\t\tvar blurbId = this.options.topicBlurbId;\n\t\tif (blurbId) {\n\t\t\treturn this.query('blurb!' + blurbId).spread(function (blurb) {\n\t\t\t\treturn blurb && blurb.translation;\n\t\t\t});\n\t\t} else {\n\t\t\treturn when.resolve(this.options.topic);\n\t\t}\n\t}\n\n\treturn Widget.extend(function ($element, path, options) {\n\t\tthis.options = options || {};\n\t}, {\n\t\t\"sig/start\": function () {\n\t\t\tvar me = this;\n\t\t\tif (!me.options.video) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\treturn getTopic.call(me).then(function (topic) {\n\t\t\t\treturn me.html(template({\n\t\t\t\t\ttopic: topic || '',\n\t\t\t\t\tvideo: me.options.video\n\t\t\t\t}));\n\t\t\t});\n\t\t},\n\n\t\t'dom:.ets-pr-fb-btn-class-video/click': function (e) {\n\t\t\tvar $button = $(e.currentTarget);\n\t\t\tvar $video = this.$element.find(SEL_VIDEO);\n\t\t\tvar $detail = $button.closest(SEL_DETAIL);\n\t\t\tvar height = $detail.height();\n\t\t\tvar $player;\n\n\t\t\t// show the video player\n\t\t\t$button.remove();\n\t\t\t$video.removeClass('hidden');\n\t\t\t$player = $video.find(SEL_PLAYER).mediaelementplayer({\n\t\t\t\tfeatures: PLAYER_FEATURES,\n\t\t\t\tcontrolsTimeoutMouseLeave: PLAYER_CONTROLS_TIMEOUT_MOUSELEAVE\n\t\t\t});\n\n\t\t\t// autoplay\n\t\t\t$player.data('mediaelementplayer').play();\n\n\t\t\t// update the height for the effect of animation\n\t\t\theight += $video.height();\n\t\t\t$detail\n\t\t\t\t.height(height)\n\t\t\t\t.data(\"height\", height);\n\t\t}\n\t});\n});\n","\ndefine('troopjs-requirejs/template!school-ui-progress-report/widget/container/feedback/feedback-detail/writing.html',[],function() { return function template(data) { var o = \"\";\n\tvar summary = data.summary;\n\tvar feedback = data.feedback;\n\tvar teacher = data.teacher;\no += \"\\n<div class=\\\"ets-pr-fb-detail ets-pr-fb-detail-writing ets-none ets-pr-fb-open\\\">\\n\\t<div class=\\\"ets-pr-fb-teacher\\\">\\n\\t\\t\"; if (teacher) { o += \"\\n\\t\\t<img src=\\\"\" + teacher.imageUrl + \"\\\"/>\\n\\t\\t<span data-weave=\\\"troopjs-ef/blurb/widget\\\" data-blurb-id=\\\"659698\\\" data-text-en=\\\"Teacher\\\"></span>\\n\\t\\t<span>\" + teacher.displayName + \"</span>\\n\\t\\t\"; } o += \"\\n\\t</div>\\n\\t<div class=\\\"ets-pr-fb-content\\\">\\n\\t\\t\"; if (feedback.topic) { o += \"\\n\\t\\t\\t<h5 data-weave=\\\"troopjs-ef/blurb/widget\\\" data-blurb-id=\\\"659699\\\" data-text-en=\\\"Topic\\\"></h5>\\n\\t\\t\\t<p>\" + feedback.topic + \"</p>\\n\\t\\t\"; } o += \"\\n\\n\\t\\t\"; if (feedback.comment) { o += \"\\n\\t\\t\\t<h5 data-weave=\\\"troopjs-ef/blurb/widget\\\" data-blurb-id=\\\"708940\\\" data-text-en=\\\"Teacher's comments\\\"></h5>\\n\\t\\t\\t<p>\" + feedback.comment + \"</p>\\n\\t\\t\"; } o += \"\\n\\n\\t\\t<div class=\\\"ets-pr-fb-correction\\\" data-weave=\\\"school-ui-progress-report/widget/container/feedback/feedback-detail/writing-correction/main\\\"></div>\\n\\n\\t\\t<div class=\\\"ets-pr-fb-content-buttons\\\">\\n\\t\\t\\t\"; if(!summary.isArchive) { o += \"\\n\\t\\t\\t<button type=\\\"button\\\" class=\\\"ets-pr-btn ets-pr-fb-open-survey-button\\\" data-weave=\\\"troopjs-ef/blurb/widget\\\" data-blurb-id=\\\"701043\\\" data-text-en=\\\"Writing Challenge Survey\\\"></button>\\n\\t\\t\\t\"; } o += \"\\n\\t\\t</div>\\n\\t</div>\\n\\t<div class=\\\"ets-pr-fb-score-large\\\">\\n\\t\\t<span class=\\\"ets-pr-fb-score-num\\\">\" + feedback.grade + \"</span>\\n\\t\\t<span data-weave=\\\"troopjs-ef/blurb/widget\\\" data-blurb-id=\\\"659692\\\" data-text-en=\\\"Score\\\"></span>\\n\\t</div>\\n</div>\"; return o; }; });\n","\ndefine('troopjs-requirejs/template!school-ui-progress-report/widget/container/feedback/feedback-detail/gl.html',[],function() { return function template(data) { var o = \"\";\n\tvar _ = data._;\n\tvar teacher = data.teacher;\n\tvar feedback = data.feedback;\no += \"\\n<div class=\\\"ets-pr-fb-detail ets-pr-fb-detail-gl ets-none ets-pr-fb-open\\\">\\n\\t<div class=\\\"ets-pr-fb-teacher\\\">\\n\\t\\t\"; if (teacher) { o += \"\\n\\t\\t<img src=\\\"\" + teacher.imageUrl + \"\\\"/>\\n\\t\\t<span data-weave=\\\"troopjs-ef/blurb/widget\\\" data-blurb-id=\\\"659698\\\" data-text-en=\\\"Teacher\\\"></span>\\n\\t\\t<span>\" + teacher.displayName + \"</span>\\n\\t\\t\"; } o += \"\\n\\t</div>\\n\\t<div class=\\\"ets-pr-fb-content\\\">\\n\\t\\t<div class=\\\"ets-pr-fb-score-large\\\">\\n\\t\\t\\t<span class=\\\"ets-pr-fb-score-num\\\">\" + feedback.grade + \"</span>\\n\\t\\t\\t<span data-weave=\\\"troopjs-ef/blurb/widget\\\" data-blurb-id=\\\"659692\\\" data-text-en=\\\"Score\\\"></span>\\n\\t\\t</div>\\n\\n\\t\\t\";if(feedback.lessonSummary){o += \"\\n\\t\\t\\t<h5 data-weave=\\\"troopjs-ef/blurb/widget\\\" data-blurb-id=\\\"708940\\\" data-text-en=\\\"Teacher's comments\\\"></h5>\\n\\t\\t\\t<p>\" + _.escape(feedback.lessonSummary) + \"</p>\\n\\t\\t\";}o += \"\\n\\n\\t\\t\";if(feedback.overall){o += \"\\n\\t\\t\\t<h5 data-weave=\\\"troopjs-ef/blurb/widget\\\" data-blurb-id=\\\"711390\\\" data-text-en=\\\"GENERAL COMMENTS\\\"></h5>\\n\\t\\t\\t<p>\" + _.escape(feedback.overall) + \"</p>\\n\\t\\t\";}o += \"\\n\\n\\t\\t\"; if (data.videoRecoredEnabled) { o += \"\\n\\t\\t\\t<div class=\\\"ets-pr-fb-video-and-notes\\\" data-weave=\\\"school-ui-progress-report/widget/container/feedback/feedback-detail/video-and-notes/main(options)\\\"></div>\\n\\t\\t\"; } o += \"\\n\\t</div>\\n</div>\"; return o; }; });\n","\ndefine('troopjs-requirejs/template!school-ui-progress-report/widget/container/feedback/feedback-detail/pl.html',[],function() { return function template(data) { var o = \"\";\n\tvar _ = data._;\n\tvar teacher = data.teacher;\n\tvar feedback = data.feedback;\no += \"\\n<div class=\\\"ets-pr-fb-detail ets-pr-fb-detail-pl ets-none ets-pr-fb-open\\\">\\n\\t<div class=\\\"ets-pr-fb-teacher\\\">\\n\\t\\t\"; if (teacher) { o += \"\\n\\t\\t<img src=\\\"\" + teacher.imageUrl + \"\\\"/>\\n\\t\\t<span data-weave=\\\"troopjs-ef/blurb/widget\\\" data-blurb-id=\\\"659698\\\" data-text-en=\\\"Teacher\\\"></span>\\n\\t\\t<span>\" + teacher.displayName + \"</span>\\n\\t\\t\"; } o += \"\\n\\t</div>\\n\\t<div class=\\\"ets-pr-fb-content\\\">\\n\\t\\t<div class=\\\"ets-pr-fb-score-large\\\">\\n\\t\\t\\t<span class=\\\"ets-pr-fb-score-num\\\">\" + feedback.grade + \"</span>\\n\\t\\t\\t<span data-weave=\\\"troopjs-ef/blurb/widget\\\" data-blurb-id=\\\"659692\\\" data-text-en=\\\"Score\\\"></span>\\n\\t\\t</div>\\n\\n\\t\\t<h5 data-weave=\\\"troopjs-ef/blurb/widget\\\" data-blurb-id=\\\"708940\\\" data-text-en=\\\"Teacher's comments\\\"></h5>\\n\\t\\t<p>\" + _.escape(feedback.overall) + \"</p>\\n\\n\\t\";if (feedback.gradingType === 0) {o += \"\\n\\t\\t<div class=\\\"ets-pr-fb-lists\\\">\\n\\t\\t\";if (feedback.details.showClarity) {o += \"\\n\\t\\t<h6>\\n\\t\\t\\t<span data-weave=\\\"troopjs-ef/blurb/widget\\\" data-blurb-id=\\\"672774\\\" data-text-en=\\\"Clarity\\\"></span>\\n\\t\\t\\t<span class=\\\"ets-pr-fb-detail-score\\\">\" +feedback.details.clarityGrade+ \"</span>\\n\\t\\t</h6>\\n\\t\\t<dl>\\n\\t\\t\\t<dt><span data-weave=\\\"troopjs-ef/blurb/widget\\\" data-blurb-id=\\\"672780\\\" data-text-en=\\\"Strength\\\"></span>:</dt>\\n\\t\\t\\t<dd>\" + feedback.details.clarityStrength+ \"</dd>\\n\\n\\t\\t\\t<dt><span data-weave=\\\"troopjs-ef/blurb/widget\\\" data-blurb-id=\\\"672781\\\" data-text-en=\\\"Areas for improvement\\\"></span>:</dt>\\n\\t\\t\\t<dd>\" + feedback.details.clarityImprovement+ \"</dd>\\n\\t\\t</dl>\\n\\t\\t\";}o += \"\\n\\n\\t\\t\";if (feedback.details.showConfidence) {o += \"\\n\\t\\t<h6>\\n\\t\\t\\t<span data-weave=\\\"troopjs-ef/blurb/widget\\\" data-blurb-id=\\\"672775\\\" data-text-en=\\\"Confidence\\\"></span>\\n\\t\\t\\t<span class=\\\"ets-pr-fb-detail-score\\\">\" +feedback.details.confidenceGrade+ \"</span>\\n\\t\\t</h6>\\n\\t\\t<dl>\\n\\t\\t\\t<dt><span data-weave=\\\"troopjs-ef/blurb/widget\\\" data-blurb-id=\\\"672780\\\" data-text-en=\\\"Strength\\\"></span>:</dt>\\n\\t\\t\\t<dd>\" + feedback.details.confidenceStrength+ \"</dd>\\n\\n\\t\\t\\t<dt><span data-weave=\\\"troopjs-ef/blurb/widget\\\" data-blurb-id=\\\"672781\\\" data-text-en=\\\"Areas for improvement\\\"></span>:</dt>\\n\\t\\t\\t<dd>\" + feedback.details.confidenceImprovement+ \"</dd>\\n\\t\\t</dl>\\n\\t\\t\";}o += \"\\n\\n\\t\\t\";if (feedback.details.showExpression) {o += \"\\n\\t\\t<h6>\\n\\t\\t\\t<span data-weave=\\\"troopjs-ef/blurb/widget\\\" data-blurb-id=\\\"672776\\\" data-text-en=\\\"Expression\\\"></span>\\n\\t\\t\\t<span class=\\\"ets-pr-fb-detail-score\\\">\" +feedback.details.expressionGrade+ \"</span>\\n\\t\\t</h6>\\n\\t\\t<dl>\\n\\t\\t\\t<dt><span data-weave=\\\"troopjs-ef/blurb/widget\\\" data-blurb-id=\\\"672780\\\" data-text-en=\\\"Strength\\\"></span>:</dt>\\n\\t\\t\\t<dd>\" + feedback.details.expressionStrength+ \"</dd>\\n\\n\\t\\t\\t<dt><span data-weave=\\\"troopjs-ef/blurb/widget\\\" data-blurb-id=\\\"672781\\\" data-text-en=\\\"Areas for improvement\\\"></span>:</dt>\\n\\t\\t\\t<dd>\" + feedback.details.expressionImprovement+ \"</dd>\\n\\t\\t</dl>\\n\\t\\t\";}o += \"\\n\\n\\t\\t\";if (feedback.details.showAccuracy) {o += \"\\n\\t\\t<h6>\\n\\t\\t\\t<span data-weave=\\\"troopjs-ef/blurb/widget\\\" data-blurb-id=\\\"672777\\\" data-text-en=\\\"Accuracy\\\"></span>\\n\\t\\t\\t<span class=\\\"ets-pr-fb-detail-score\\\">\" +feedback.details.accuracyGrade+ \"</span>\\n\\t\\t</h6>\\n\\t\\t<dl>\\n\\t\\t\\t<dt><span data-weave=\\\"troopjs-ef/blurb/widget\\\" data-blurb-id=\\\"672780\\\" data-text-en=\\\"Strength\\\"></span>:</dt>\\n\\t\\t\\t<dd>\" + feedback.details.accuracyStrength+ \"</dd>\\n\\n\\t\\t\\t<dt><span data-weave=\\\"troopjs-ef/blurb/widget\\\" data-blurb-id=\\\"672781\\\" data-text-en=\\\"Areas for improvement\\\"></span>:</dt>\\n\\t\\t\\t<dd>\" + feedback.details.accuracyImprovement+ \"</dd>\\n\\t\\t</dl>\\n\\t\\t\";}o += \"\\n\\n\\t\\t\";if (feedback.details.showRange) {o += \"\\n\\t\\t<h6>\\n\\t\\t\\t<span data-weave=\\\"troopjs-ef/blurb/widget\\\" data-blurb-id=\\\"672778\\\" data-text-en=\\\"Range\\\"></span>\\n\\t\\t\\t<span class=\\\"ets-pr-fb-detail-score\\\">\" +feedback.details.rangeGrade+ \"</span>\\n\\t\\t</h6>\\n\\t\\t<dl>\\n\\t\\t\\t<dt><span data-weave=\\\"troopjs-ef/blurb/widget\\\" data-blurb-id=\\\"672780\\\" data-text-en=\\\"Strength\\\"></span>:</dt>\\n\\t\\t\\t<dd>\" + feedback.details.rangeStrength+ \"</dd>\\n\\n\\t\\t\\t<dt><span data-weave=\\\"troopjs-ef/blurb/widget\\\" data-blurb-id=\\\"672781\\\" data-text-en=\\\"Areas for improvement\\\"></span>:</dt>\\n\\t\\t\\t<dd>\" + feedback.details.rangeImprovement+ \"</dd>\\n\\t\\t</dl>\\n\\t\\t\"; } o += \"\\n\\t\\t</div>\\n\\t\"; } o += \"\\n\\t\\t\"; if (data.videoRecoredEnabled) { o += \"\\n\\t\\t\\t<div class=\\\"ets-pr-fb-video-and-notes\\\" data-weave=\\\"school-ui-progress-report/widget/container/feedback/feedback-detail/video-and-notes/main(options)\\\"></div>\\n\\t\\t\"; } o += \"\\n\\t</div>\\n</div>\"; return o; }; });\n","\ndefine('troopjs-requirejs/template!school-ui-progress-report/widget/container/feedback/feedback-detail/cp20.html',[],function() { return function template(data) { var o = \"\";\n\tvar _ = data._;\n\tvar teacher = data.teacher;\n\tvar feedback = data.feedback;\no += \"\\n<div class=\\\"ets-pr-fb-detail ets-pr-fb-detail-cp20 ets-none ets-pr-fb-open\\\">\\n\\t<div class=\\\"ets-pr-fb-teacher\\\">\\n\\t\\t\"; if (teacher) { o += \"\\n\\t\\t<img src=\\\"\" + teacher.imageUrl + \"\\\"/>\\n\\t\\t<span data-weave=\\\"troopjs-ef/blurb/widget\\\" data-blurb-id=\\\"659698\\\" data-text-en=\\\"Teacher\\\"></span>\\n\\t\\t<span>\" + teacher.displayName + \"</span>\\n\\t\\t\"; } o += \"\\n\\t</div>\\n\\t<div class=\\\"ets-pr-fb-content\\\">\\n\\t\\t<div class=\\\"ets-pr-fb-score-large\\\">\\n\\t\\t\\t<span class=\\\"ets-pr-fb-score-num\\\">\" + feedback.grade + \"</span>\\n\\t\\t\\t<span data-weave=\\\"troopjs-ef/blurb/widget\\\" data-blurb-id=\\\"659692\\\" data-text-en=\\\"Score\\\"></span>\\n\\t\\t</div>\\n\\n\\t\\t<h5 data-weave=\\\"troopjs-ef/blurb/widget\\\" data-blurb-id=\\\"708940\\\" data-text-en=\\\"Teacher's comments\\\"></h5>\\n\\t\\t<p>\" + _.escape(feedback.overall) + \"</p>\\n\\n\\t\\t\";if (feedback.gradingType === 0) {o += \"\\n\\t\\t<div class=\\\"ets-pr-fb-lists\\\">\\n\\t\\t\\t<h6 data-weave=\\\"troopjs-ef/blurb/widget\\\" data-blurb-id=\\\"672768\\\" data-text-en=\\\"Overall\\\"></h6>\\n\\t\\t\\t<dl class=\\\"ets-pr-fb-list-overall\\\">\\n\\t\\t\\t\\t<dt><span data-weave=\\\"troopjs-ef/blurb/widget\\\" data-blurb-id=\\\"672780\\\" data-text-en=\\\"Strength\\\"></span>:</dt>\\n\\t\\t\\t\\t<dd>\" + feedback.strength + \"</dd>\\n\\n\\t\\t\\t\\t<dt><span data-weave=\\\"troopjs-ef/blurb/widget\\\" data-blurb-id=\\\"672781\\\" data-text-en=\\\"Areas for improvement\\\"></span>:</dt>\\n\\t\\t\\t\\t<dd>\" + feedback.improvement + \"</dd>\\n\\t\\t\\t</dl>\\n\\t\\t</div>\\n\\t\\t\"; } o += \"\\n\\t\\t\"; if (data.videoRecoredEnabled) { o += \"\\n\\t\\t\\t<div class=\\\"ets-pr-fb-video-and-notes\\\" data-weave=\\\"school-ui-progress-report/widget/container/feedback/feedback-detail/video-and-notes/main(options)\\\"></div>\\n\\t\\t\"; } o += \"\\n\\t</div>\\n</div>\"; return o; }; });\n","\ndefine('troopjs-requirejs/template!school-ui-progress-report/widget/container/feedback/feedback-detail/eft.html',[],function() { return function template(data) { var o = \"\";\n\tvar _ = data._;\n\tvar teacher = data.teacher;\n\tvar feedback = data.feedback;\no += \"\\n<div class=\\\"ets-pr-fb-detail ets-pr-fb-detail-eft ets-none ets-pr-fb-open\\\">\\n\\t<div class=\\\"ets-pr-fb-teacher\\\">\\n\\t\\t\"; if (teacher) { o += \"\\n\\t\\t<img src=\\\"\" + teacher.imageUrl + \"\\\"/>\\n\\t\\t<span data-weave=\\\"troopjs-ef/blurb/widget\\\" data-blurb-id=\\\"659698\\\" data-text-en=\\\"Teacher\\\"></span>\\n\\t\\t<span>\" + teacher.displayName + \"</span>\\n\\t\\t\"; } o += \"\\n\\t</div>\\n\\t<div class=\\\"ets-pr-fb-content\\\">\\n\\t\\t<div class=\\\"ets-pr-fb-lists\\\">\\n\\t\\t\\t<h6 data-weave=\\\"troopjs-ef/blurb/widget\\\" data-blurb-id=\\\"672769\\\" data-text-en=\\\"Student Goal\\\"></h6>\\n\\t\\t\\t<dl>\\n\\t\\t\\t\\t<dt><span data-weave=\\\"troopjs-ef/blurb/widget\\\" data-blurb-id=\\\"672770\\\" data-text-en=\\\"Study Purpose\\\"></span>:</dt>\\n\\t\\t\\t\\t<dd>\" + feedback.studyGoal+ \"</dd>\\n\\n\\t\\t\\t\\t<dt><span data-weave=\\\"troopjs-ef/blurb/widget\\\" data-blurb-id=\\\"672771\\\" data-text-en=\\\"Study Level\\\"></span>:</dt>\\n\\t\\t\\t\\t<dd>\" + feedback.studyLevel+ \"</dd>\\n\\n\\t\\t\\t\\t<dt><span data-weave=\\\"troopjs-ef/blurb/widget\\\" data-blurb-id=\\\"672772\\\" data-text-en=\\\"Study Area\\\"></span>:</dt>\\n\\t\\t\\t\\t<dd>\" + feedback.studyArea+ \"</dd>\\n\\n\\t\\t\\t\\t<dt><span data-weave=\\\"troopjs-ef/blurb/widget\\\" data-blurb-id=\\\"672773\\\" data-text-en=\\\"Study Pace\\\"></span>:</dt>\\n\\t\\t\\t\\t<dd>\" + feedback.studyPace+ \"</dd>\\n\\t\\t\\t</dl>\\n\\t\\t</div>\\n\\n\\t\\t<div class=\\\"ets-pr-fb-score-large\\\">\\n\\t\\t\\t<span class=\\\"ets-pr-fb-score-num\\\">\" + feedback.grade + \"</span>\\n\\t\\t\\t<span data-weave=\\\"troopjs-ef/blurb/widget\\\" data-blurb-id=\\\"659692\\\" data-text-en=\\\"Score\\\"></span>\\n\\t\\t</div>\\n\\n\\t\\t<h5 data-weave=\\\"troopjs-ef/blurb/widget\\\" data-blurb-id=\\\"708940\\\" data-text-en=\\\"Teacher's comments\\\"></h5>\\n\\t\\t<p>\" + _.escape(feedback.overall) + \"</p>\\n\\n\\t\\t<div class=\\\"ets-pr-fb-lists\\\">\\n\\t\\t\\t\";if (feedback.details.showClarity) {o += \"\\n\\t\\t\\t<h6>\\n\\t\\t\\t\\t<span data-weave=\\\"troopjs-ef/blurb/widget\\\" data-blurb-id=\\\"672774\\\" data-text-en=\\\"Clarity\\\"></span>\\n\\t\\t\\t\\t<span class=\\\"ets-pr-fb-detail-score\\\">\" +feedback.details.clarityGrade+ \"</span>\\n\\t\\t\\t</h6>\\n\\t\\t\\t<dl>\\n\\t\\t\\t\\t<dt><span data-weave=\\\"troopjs-ef/blurb/widget\\\" data-blurb-id=\\\"672780\\\" data-text-en=\\\"Strength\\\"></span>:</dt>\\n\\t\\t\\t\\t<dd>\" + feedback.details.clarityStrength+ \"</dd>\\n\\n\\t\\t\\t\\t<dt><span data-weave=\\\"troopjs-ef/blurb/widget\\\" data-blurb-id=\\\"672781\\\" data-text-en=\\\"Areas for improvement\\\"></span>:</dt>\\n\\t\\t\\t\\t<dd>\" + feedback.details.clarityImprovement+ \"</dd>\\n\\t\\t\\t</dl>\\n\\t\\t\\t\";}o += \"\\n\\n\\t\\t\\t\";if (feedback.details.showConfidence) {o += \"\\n\\t\\t\\t<h6>\\n\\t\\t\\t\\t<span data-weave=\\\"troopjs-ef/blurb/widget\\\" data-blurb-id=\\\"672775\\\" data-text-en=\\\"Confidence\\\"></span>\\n\\t\\t\\t\\t<span class=\\\"ets-pr-fb-detail-score\\\">\" +feedback.details.confidenceGrade+ \"</span>\\n\\t\\t\\t</h6>\\n\\t\\t\\t<dl>\\n\\t\\t\\t\\t<dt><span data-weave=\\\"troopjs-ef/blurb/widget\\\" data-blurb-id=\\\"672780\\\" data-text-en=\\\"Strength\\\"></span>:</dt>\\n\\t\\t\\t\\t<dd>\" + feedback.details.confidenceStrength+ \"</dd>\\n\\n\\t\\t\\t\\t<dt><span data-weave=\\\"troopjs-ef/blurb/widget\\\" data-blurb-id=\\\"672781\\\" data-text-en=\\\"Areas for improvement\\\"></span>:</dt>\\n\\t\\t\\t\\t<dd>\" + feedback.details.confidenceImprovement+ \"</dd>\\n\\t\\t\\t</dl>\\n\\t\\t\\t\";}o += \"\\n\\n\\t\\t\\t\";if (feedback.details.showExpression) {o += \"\\n\\t\\t\\t<h6>\\n\\t\\t\\t\\t<span data-weave=\\\"troopjs-ef/blurb/widget\\\" data-blurb-id=\\\"672776\\\" data-text-en=\\\"Expression\\\"></span>\\n\\t\\t\\t\\t<span class=\\\"ets-pr-fb-detail-score\\\">\" +feedback.details.expressionGrade+ \"</span>\\n\\t\\t\\t</h6>\\n\\t\\t\\t<dl>\\n\\t\\t\\t\\t<dt><span data-weave=\\\"troopjs-ef/blurb/widget\\\" data-blurb-id=\\\"672780\\\" data-text-en=\\\"Strength\\\"></span>:</dt>\\n\\t\\t\\t\\t<dd>\" + feedback.details.expressionStrength+ \"</dd>\\n\\n\\t\\t\\t\\t<dt><span data-weave=\\\"troopjs-ef/blurb/widget\\\" data-blurb-id=\\\"672781\\\" data-text-en=\\\"Areas for improvement\\\"></span>:</dt>\\n\\t\\t\\t\\t<dd>\" + feedback.details.expressionImprovement+ \"</dd>\\n\\t\\t\\t</dl>\\n\\t\\t\\t\";}o += \"\\n\\n\\t\\t\\t\";if (feedback.details.showAccuracy) {o += \"\\n\\t\\t\\t<h6>\\n\\t\\t\\t\\t<span data-weave=\\\"troopjs-ef/blurb/widget\\\" data-blurb-id=\\\"672777\\\" data-text-en=\\\"Accuracy\\\"></span>\\n\\t\\t\\t\\t<span class=\\\"ets-pr-fb-detail-score\\\">\" +feedback.details.accuracyGrade+ \"</span>\\n\\t\\t\\t</h6>\\n\\t\\t\\t<dl>\\n\\t\\t\\t\\t<dt><span data-weave=\\\"troopjs-ef/blurb/widget\\\" data-blurb-id=\\\"672780\\\" data-text-en=\\\"Strength\\\"></span>:</dt>\\n\\t\\t\\t\\t<dd>\" + feedback.details.accuracyStrength+ \"</dd>\\n\\n\\t\\t\\t\\t<dt><span data-weave=\\\"troopjs-ef/blurb/widget\\\" data-blurb-id=\\\"672781\\\" data-text-en=\\\"Areas for improvement\\\"></span>:</dt>\\n\\t\\t\\t\\t<dd>\" + feedback.details.accuracyImprovement+ \"</dd>\\n\\t\\t\\t</dl>\\n\\t\\t\\t\";}o += \"\\n\\n\\t\\t\\t\";if (feedback.details.showRange) {o += \"\\n\\t\\t\\t<h6>\\n\\t\\t\\t\\t<span data-weave=\\\"troopjs-ef/blurb/widget\\\" data-blurb-id=\\\"672778\\\" data-text-en=\\\"Range\\\"></span>\\n\\t\\t\\t\\t<span class=\\\"ets-pr-fb-detail-score\\\">\" +feedback.details.rangeGrade+ \"</span>\\n\\t\\t\\t</h6>\\n\\t\\t\\t<dl>\\n\\t\\t\\t\\t<dt><span data-weave=\\\"troopjs-ef/blurb/widget\\\" data-blurb-id=\\\"672780\\\" data-text-en=\\\"Strength\\\"></span>:</dt>\\n\\t\\t\\t\\t<dd>\" + feedback.details.rangeStrength+ \"</dd>\\n\\n\\t\\t\\t\\t<dt><span data-weave=\\\"troopjs-ef/blurb/widget\\\" data-blurb-id=\\\"672781\\\" data-text-en=\\\"Areas for improvement\\\"></span>:</dt>\\n\\t\\t\\t\\t<dd>\" + feedback.details.rangeImprovement+ \"</dd>\\n\\t\\t\\t</dl>\\n\\t\\t\\t\";}o += \"\\n\\n\\t\\t\\t\";if (feedback.details.showComprehension) {o += \"\\n\\t\\t\\t<h6>\\n\\t\\t\\t\\t<span data-weave=\\\"troopjs-ef/blurb/widget\\\" data-blurb-id=\\\"672779\\\" data-text-en=\\\"Comprehension\\\"></span>\\n\\t\\t\\t\\t<span class=\\\"ets-pr-fb-detail-score\\\">\" +feedback.details.comprehensionGrade+ \"</span>\\n\\t\\t\\t</h6>\\n\\t\\t\\t<dl>\\n\\t\\t\\t\\t<dt><span data-weave=\\\"troopjs-ef/blurb/widget\\\" data-blurb-id=\\\"672780\\\" data-text-en=\\\"Strength\\\"></span>:</dt>\\n\\t\\t\\t\\t<dd>\" + feedback.details.comprehensionStrength+ \"</dd>\\n\\n\\t\\t\\t\\t<dt><span data-weave=\\\"troopjs-ef/blurb/widget\\\" data-blurb-id=\\\"672781\\\" data-text-en=\\\"Areas for improvement\\\"></span>:</dt>\\n\\t\\t\\t\\t<dd>\" + feedback.details.comprehensionImprovement+ \"</dd>\\n\\t\\t\\t</dl>\\n\\t\\t\\t\";}o += \"\\n\\t\\t</div>\\n\\n\\t\\t\"; if (data.videoRecoredEnabled) { o += \"\\n\\t\\t\\t<div class=\\\"ets-pr-fb-video-and-notes\\\" data-weave=\\\"school-ui-progress-report/widget/container/feedback/feedback-detail/video-and-notes/main(options)\\\"></div>\\n\\t\\t\"; } o += \"\\n\\t</div>\\n</div>\"; return o; }; });\n","\ndefine('troopjs-requirejs/template!school-ui-progress-report/widget/container/feedback/feedback-detail/osa.html',[],function() { return function template(data) { var o = \"\";\n  var detailCategoryBlurbs = {\n    Clarity: \"672774\",\n    Confidence: \"672775\",\n    Expression: \"672776\",\n    Accuracy: \"672777\",\n    Range: \"672778\"\n  };\n  var _ = data._;\n  var teacher = data.teacher;\n  var feedback = data.feedback;\no += \"\\n<div class=\\\"ets-pr-fb-detail ets-pr-fb-detail-osa ets-none ets-pr-fb-open\\\">\\n  <div class=\\\"ets-pr-fb-teacher\\\">\\n    \"; if (teacher) { o += \"\\n    <img src=\\\"\" + teacher.imageUrl + \"\\\"/>\\n    <span data-weave=\\\"troopjs-ef/blurb/widget\\\" data-blurb-id=\\\"659698\\\" data-text-en=\\\"Teacher\\\"></span>\\n    <span>\" + teacher.displayName + \"</span>\\n    \"; } o += \"\\n  </div>\\n  <div class=\\\"ets-pr-fb-content\\\">\\n    <div class=\\\"ets-pr-fb-score-large\\\">\\n      <span class=\\\"ets-pr-fb-score-num\\\">\" + feedback.osaGradedStatus + \"</span>\\n    </div>\\n    <h5 data-weave=\\\"troopjs-ef/blurb/widget\\\" data-blurb-id=\\\"708940\\\" data-text-en=\\\"Teacher's comments\\\"></h5>\\n    <p>\" + _.escape(feedback.overall) + \"</p>\\n    \\n    <div class=\\\"ets-pr-fb-lists\\\">\\n      \"; if (feedback.strengthCategory) { o += \"\\n      <h6 data-weave=\\\"troopjs-ef/blurb/widget\\\" data-blurb-id=\\\"672780\\\" data-text-en=\\\"Strength\\\"></h6>\\n      <dl>\\n        <dt><span data-weave=\\\"troopjs-ef/blurb/widget\\\" data-blurb-id='\" + detailCategoryBlurbs[feedback.strengthCategory] + \"'></span>:</dt>\\n        <dd>\" + feedback.strength + \"</dd>\\n      </dl>\\n      \"; } o += \"\\n\\n      \"; if (feedback.improvementCategory) { o += \"\\n      <h6 data-weave=\\\"troopjs-ef/blurb/widget\\\" data-blurb-id=\\\"672781\\\" data-text-en=\\\"Areas for improvement\\\"></h6>\\n      <dl>\\n        <dt><span data-weave=\\\"troopjs-ef/blurb/widget\\\" data-blurb-id='\" + detailCategoryBlurbs[feedback.improvementCategory] + \"'></span>:</dt>\\n        <dd>\" + feedback.improvement + \"</dd>\\n      </dl>\\n      \"; } o += \"\\n    </div>\\n  </div>\\n</div>\"; return o; }; });\n","define('school-ui-progress-report/widget/container/feedback/feedback-detail/main',[\n\t\"jquery\",\n\t\"when\",\n\t'underscore',\n\t\"troopjs-ef/component/widget\",\n\t\"troopjs-browser/loom/config\",\n\t\"troopjs-browser/loom/weave\",\n\t\"school-ui-progress-report/enum/feedback-typecode\",\n\t\"template!./writing.html\",\n\t\"template!./gl.html\",\n\t\"template!./pl.html\",\n\t\"template!./cp20.html\",\n\t\"template!./eft.html\",\n\t\"template!./osa.html\"\n], function ($, when, _, Widget, loom, weave, fbType, tWriting, tGL, tPL, tCP20, tEFT, tOSA) {\n\t\"use strict\";\n\n\tvar $ELEMENT = \"$element\";\n\n\tvar UNDEF;\n\n\tvar PROP_FEEDBACK_ID = \"_feedbackId\";\n\tvar PROP_TEACHER_PROFILE = \"_teacherProfile\";\n\tvar PROP_WRITING_ID = \"_writingId\";\n\n\tvar SEL_VIDEO_NOTES = '.ets-pr-fb-video-and-notes';\n\tvar SEL_CORRECTION = \".ets-pr-fb-correction\";\n\n\tvar CLS_SURVEY = 'ets-pr-fb-survey';\n\tvar SEL_SURVEY = '.' + CLS_SURVEY;\n\n\t//if teacher's image ready, remove this line\n\tvar defaultImage = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFoAAABaCAYAAAA4qEECAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6NkEzNzkzNzJDRDQ1MTFFNEJCQTBDRTQ3OUEzNjM5OEEiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6NkEzNzkzNzNDRDQ1MTFFNEJCQTBDRTQ3OUEzNjM5OEEiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo2QTM3OTM3MENENDUxMUU0QkJBMENFNDc5QTM2Mzk4QSIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo2QTM3OTM3MUNENDUxMUU0QkJBMENFNDc5QTM2Mzk4QSIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PjsNI60AAA0mSURBVHja7F13UBXd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\"\n\n\tfunction _firstResult(result) {\n\t\treturn result;\n\t}\n\n\tfunction _getArchiveWritingFeedback(summary) {\n\t\tvar me = this;\n\t\tvar clobPromise = summary.clob ? me.query(summary.clob.id).spread(_firstResult) : when.resolve(UNDEF);\n\t\tvar teacherPromise = summary.teacher ? me.query(summary.teacher.id).spread(_firstResult) : when.resolve(UNDEF);\n\n\t\treturn when.all([clobPromise, teacherPromise]).spread(function (clob, teacher) {\n\t\t\tvar feedbackDetail = summary.detail;\n\t\t\tif (feedbackDetail.comment || feedbackDetail.correction) {\n\t\t\t\treturn [feedbackDetail, teacher];\n\t\t\t}\n\t\t\telse if (clob) {\n\t\t\t\tif (clob.comment || clob.correction) {\n\t\t\t\t\tfeedbackDetail.comment = clob.comment || \"\";\n\t\t\t\t\tfeedbackDetail.correction = clob.correction || \"\";\n\t\t\t\t\tfeedbackDetail.correctedTime = clob.correctDateTime || \"\";\n\t\t\t\t\treturn [feedbackDetail, teacher];\n\t\t\t\t}\n\t\t\t\telse if (clob.writingId) {\n\t\t\t\t\treturn me.query('integration_writing_feedback_detail!' + clob.writingId + '.teacher').spread(function (inteFeedbackDetail) {\n\t\t\t\t\t\treturn [inteFeedbackDetail || feedbackDetail, inteFeedbackDetail && inteFeedbackDetail.teacher || teacher];\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn [feedbackDetail, teacher];\n\t\t});\n\t}\n\n\tfunction _getRegularWritingFeedback(summary) {\n\t\tvar me = this;\n\t\treturn me.query(summary.detail.id + \".teacher\").spread(function (feedbackDetail) {\n\t\t\tvar teacher = feedbackDetail.teacher;\n\t\t\tme[PROP_WRITING_ID] = feedbackDetail.writing_id;\n\t\t\treturn [feedbackDetail, teacher];\n\t\t});\n\t}\n\n\tfunction renderWritingFeedback(summary) {\n\t\tvar me = this;\n\t\tvar promiseQuery = summary.isArchive ?\n\t\t\t_getArchiveWritingFeedback.call(me, summary) :\n\t\t\t_getRegularWritingFeedback.call(me, summary);\n\n\t\treturn promiseQuery.spread(function (feedbackDetail, teacher) {\n\t\t\tme[PROP_TEACHER_PROFILE] = teacher;\n\t\t\tif (teacher) {\n\t\t\t\tteacher.imageUrl = defaultImage;\n\t\t\t}\n\n\t\t\tme[$ELEMENT].html(tWriting({\n\t\t\t\tsummary: summary,\n\t\t\t\tfeedback: feedbackDetail,\n\t\t\t\tteacher: teacher\n\t\t\t}));\n\n\t\t\t//use $element.data() to prevent browser's auto html unescape\n\t\t\tme[$ELEMENT].find(SEL_CORRECTION).data(\"correction\", feedbackDetail.correction);\n\t\t\treturn me.weave();\n\t\t});\n\t}\n\n\tfunction renderEvcFeedback(summary, evcmember) {\n    var me = this;\n    \n    if (summary.isArchive) {\n      return when.rejected(false);\n    }\n\n    return when.all([\n      checkEvcMemberSettings.call(this),\n      this.query(summary.detail.id + \".teacher,.topic\")\n    ]).spread(function (memberList, feedbackDetailList) {\n      var evcmember = memberList[0];\n      var feedbackDetail = feedbackDetailList[0];\n\t\t\tme[PROP_TEACHER_PROFILE] = feedbackDetail.teacher;\n\t\t\tif (feedbackDetail.teacher) {\n\t\t\t\tfeedbackDetail.teacher.imageUrl = defaultImage;\n\t\t\t}\n\n\t\t\tvar renderTemplate;\n\t\t\tswitch (summary.typeCode) {\n\t\t\t\tcase fbType.gl:\n\t\t\t\t\trenderTemplate = tGL;\n\t\t\t\t\tbreak;\n\t\t\t\tcase fbType.pl:\n\t\t\t\t\trenderTemplate = tPL;\n\t\t\t\t\tbreak;\n\t\t\t\tcase fbType.cp20:\n\t\t\t\t\trenderTemplate = tCP20;\n\t\t\t\t\tbreak;\n\t\t\t\tcase fbType.eftv:\n\t\t\t\t\trenderTemplate = tEFT;\n\t\t\t\t\tbreak;\n\t\t\t\tcase fbType.osa:\n\t\t\t\t\trenderTemplate = tOSA;\n\t\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\t// check if evc enables video/notes or not\n\t\t\tvar isGL = summary.typeCode === fbType.gl;\n\t\t\tvar videoRecoredEnabled = isGL ? evcmember.enableGLRecord : evcmember.enablePLRecord;\n\n\t\t\tme[$ELEMENT].html(renderTemplate({\n\t\t\t\t_: _,\n\t\t\t\tfeedback: feedbackDetail,\n\t\t\t\tteacher: feedbackDetail.teacher,\n\t\t\t\tvideoRecoredEnabled: videoRecoredEnabled\n\t\t\t}));\n\n\t\t\tme[$ELEMENT].find(SEL_VIDEO_NOTES).data('options', {\n\t\t\t\thasVideoRecord: feedbackDetail.hasVideoRecord,\n\t\t\t\tvideoAvailable: feedbackDetail.videoAvailable,\n\t\t\t\tvideo: {\n\t\t\t\t\ttopicBlurbId: feedbackDetail.topicBlurb_id, // for some GL\n\t\t\t\t\ttopic: isGL ? feedbackDetail.topic && feedbackDetail.topic.topic : feedbackDetail.topic,\n\t\t\t\t\tvideo: feedbackDetail.videoRecord\n\t\t\t\t},\n\t\t\t\tnoteAvailable: feedbackDetail.noteAvailable,\n\t\t\t\tnotes: feedbackDetail.notes\n\t\t\t});\n\n\t\t\treturn me.weave();\n\t\t});\n\t}\n\n\tvar checkEvcMemberSettings = _.once(function () {\n\t\treturn this.query('evcmember!current');\n\t});\n\n\treturn Widget.extend({\n\t\t\"sig/start\": function () {\n\t\t\tvar me = this;\n\t\t\tvar summary = me[$ELEMENT].data(\"summary\");\n\t\t\tme[PROP_FEEDBACK_ID] = summary.feedback_id;\n\n\t\t\tif (summary.typeCode === fbType.writing) {\n\t\t\t\treturn renderWritingFeedback.call(me, summary);\n\t\t\t}\n\t\t\telse {\n        return renderEvcFeedback.call(me, summary);\n\t\t\t}\n\t\t},\n\t\t'dom:.ets-pr-fb-open-survey-button/click': function () {\n\t\t\tvar me = this;\n\t\t\tif (me[$ELEMENT].find(SEL_SURVEY).length > 0 || !me[PROP_WRITING_ID]) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar $survey = $('<div>')\n\t\t\t\t.addClass(CLS_SURVEY)\n\t\t\t\t.data('writingId', me[PROP_WRITING_ID])\n\t\t\t\t.data('teacherProfile', me[PROP_TEACHER_PROFILE])\n\t\t\t\t.attr(loom.weave, \"school-ui-progress-report/widget/container/feedback/feedback-survey/main(writingId, teacherProfile)\")\n\t\t\t\t.appendTo(me[$ELEMENT]);\n\t\t\t$survey.weave();\n\t\t},\n\t\t'dom:.ets-pr-fb-survey/hidden.ets-fb-survey': function () {\n\t\t\tvar me = this;\n\t\t\tvar $oldSurvey = me[$ELEMENT].find(SEL_SURVEY);\n\t\t\t$oldSurvey.unweave().then(function () {\n\t\t\t\t$oldSurvey.remove();\n\t\t\t});\n\t\t}\n\t});\n});\n\n","\ndefine('troopjs-requirejs/template!school-ui-progress-report/widget/container/feedback/feedback-detail/video-and-notes/main.html',[],function() { return function template(data) { var o = \"\"; if (data.hasVideoRecord && !data.videoAvailable && !data.noteAvailable) { o += \"\\n    <p class=\\\"ets-pr-fb-class-notes-unavailable\\\" data-weave=\\\"troopjs-ef/blurb/widget\\\" data-blurb-id=\\\"709107\\\" data-text-en=\\\"Class video and class notes are not available\\\"></p>\\n\"; } else { o += \"\\n    \"; if (data.hasVideoRecord) { o += \"\\n        \"; if (data.videoAvailable) { o += \"\\n            <div class=\\\"ets-pr-fb-class-video\\\" data-weave=\\\"school-ui-progress-report/widget/container/feedback/feedback-detail/class-video/main(options)\\\"></div>\\n        \"; } else { o += \"\\n            <p class=\\\"ets-pr-fb-class-notes-unavailable\\\" data-weave=\\\"troopjs-ef/blurb/widget\\\" data-blurb-id=\\\"709106\\\" data-text-en=\\\"Classs video is not available\\\"></p>\\n        \"; } o += \"\\n    \"; } o += \"\\n    \\n    \"; if (data.noteAvailable) { o += \"\\n        <div class=\\\"ets-pr-fb-class-notes\\\" data-weave=\\\"school-ui-progress-report/widget/container/feedback/feedback-detail/class-notes/main\\\"></div>\\n    \"; } else { o += \"\\n        <p class=\\\"ets-pr-fb-class-notes-unavailable\\\" data-weave=\\\"troopjs-ef/blurb/widget\\\" data-blurb-id=\\\"709105\\\" data-text-en=\\\"Classs notes are not available\\\"></p>\\n    \"; } o += \"\\n\"; }  return o; }; });\n","define('school-ui-progress-report/widget/container/feedback/feedback-detail/video-and-notes/main',[\n\t\"troopjs-ef/component/widget\",\n\t\"template!./main.html\",\n], function (Widget, template) {\n\tvar SEL_VIDEO = '.ets-pr-fb-class-video';\n\tvar SEL_NOTES = \".ets-pr-fb-class-notes\";\n\n\treturn Widget.extend(function ($element, path, options) {\n\t\tthis.options = options || {};\n\t}, {\n\t\t\"sig/start\": function () {\n\t\t\tthis.$element.html(template(this.options));\n\t\t\tthis.$element.find(SEL_VIDEO).data('options', this.options.video);\n\t\t\tthis.$element.find(SEL_NOTES).data('notes', this.options.notes);\n\t\t\treturn this.weave();\n\t\t}\n\t});\n});\n","define('school-ui-progress-report/widget/container/feedback/feedback-detail/writing-correction/main',[\n\t\"jquery\",\n\t\"when\",\n\t\"poly\",\n\t\"jquery.gudstrap\",\n\t\"troopjs-ef/component/widget\"\n], function ($, when, poly, GUD, Widget) {\n\t\"use strict\";\n\n\tvar $ELEMENT = \"$element\";\n\n\tvar CLS_NONE = \"ets-none\";\n\n\tfunction getCorrectionTags() {\n\t\tvar me = this;\n\n\t\treturn me.query(\"writing_correction_tag!current\").spread(function (tagData) {\n\t\t\tvar tags = {};\n\t\t\ttagData.items.forEach(function (item) {\n\t\t\t\ttags[item.code] = item;\n\t\t\t});\n\t\t\treturn tags;\n\t\t});\n\t}\n\n\treturn Widget.extend({\n\t\t\"sig/start\": function () {\n\t\t\tvar me = this;\n\n\t\t\tvar correction = me[$ELEMENT].data(\"correction\");\n\t\t\tcorrection = $.trim(correction).replace(/\\s+/g, \" \");\n\t\t\tif (!correction) {\n\t\t\t\tme[$ELEMENT].addClass(CLS_NONE);\n\t\t\t\treturn when.resolve();\n\t\t\t}\n\n\t\t\treturn getCorrectionTags.call(me).then(function (correctionTags) {\n\t\t\t\tvar replaceElement = function (correction, oldTag, newTag) {\n\t\t\t\t\tcorrection = correction.replace(new RegExp(\"<\" + oldTag + \"\\\\b\", \"ig\"), \"<\" + newTag + \" data-element-type='\" + oldTag + \"'\");\n\t\t\t\t\tcorrection = correction.replace(new RegExp(\"<\\\\/\" + oldTag + \">\", \"ig\"), \"</\" + newTag + \">\");\n\t\t\t\t\treturn correction;\n\t\t\t\t};\n\n\t\t\t\tcorrection = replaceElement(correction, \"paragraph\", \"p\");\n\t\t\t\tcorrection = replaceElement(correction, \"text\", \"span\");\n\t\t\t\tcorrection = replaceElement(correction, \"input\", \"span\");\n\t\t\t\tcorrection = replaceElement(correction, \"b\", \"span\");\n\t\t\t\tcorrection = replaceElement(correction, \"i\", \"span\");\n\t\t\t\tcorrection = replaceElement(correction, \"c\", \"span\");\n\t\t\t\tcorrection = replaceElement(correction, \"code\", \"span\");\n\n\t\t\t\tvar $correction = $(\"<div>\" + correction + \"</div>\");\n\t\t\t\t$correction.find(\"[data-element-type='paragraph']\").removeClass().addClass(\"ets-pr-fb-correction-paragraph\");\n\t\t\t\t$correction.find(\"[data-element-type='text']\").removeClass().addClass(\"ets-pr-fb-correction-text\");\n\t\t\t\t$correction.find(\"[data-element-type='input']\").removeClass().addClass(\"ets-pr-fb-correction-input\");\n\t\t\t\t$correction.find(\"[data-element-type='i']\").removeClass().addClass(\"ets-pr-fb-correction-i\");\n\t\t\t\t$correction.find(\"[data-element-type='b']\").removeClass().addClass(\"ets-pr-fb-correction-b\");\n\t\t\t\t$correction.find(\"[data-element-type='c']\").removeClass().addClass(\"ets-pr-fb-correction-c\");\n\t\t\t\t$correction.find(\"[data-element-type='code']\").removeClass().addClass(\"ets-pr-fb-correction-code\").each(function (index, element) {\n\t\t\t\t\tvar $code = $(element);\n\t\t\t\t\tvar correctionTagCode = $code.attr(\"a\");\n\t\t\t\t\tvar correctionText = $code.attr(\"c\");\n\n\t\t\t\t\t$code.addClass(\"ets-pr-fb-correction-action-\" + correctionTagCode.toLowerCase());\n\t\t\t\t\tif (!$code.text()) {\n\t\t\t\t\t\t$code.addClass(\"ets-pr-fb-correction-empty\");\n\t\t\t\t\t}\n\n\t\t\t\t\tvar correctionTagName = correctionTags[correctionTagCode] && correctionTags[correctionTagCode].tagName || correctionTagCode;\n\t\t\t\t\tvar tooltipHtml = correctionTagName + (correctionText ? \": <span>\" + correctionText + \"</span>\" : \"\");\n\t\t\t\t\t$code.attr(\"data-title\", tooltipHtml);\n\t\t\t\t});\n\n\t\t\t\treturn me[$ELEMENT].append($correction.contents()).weave().then(function () {\n\t\t\t\t\tme[$ELEMENT].find(\".ets-pr-fb-correction-code\").tooltip({\n\t\t\t\t\t\tplacement: \"bottom\",\n\t\t\t\t\t\thtml: true\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\t});\n});\n\n","\ndefine('troopjs-requirejs/template!school-ui-progress-report/widget/container/feedback/feedback-head/feedback-head.html',[],function() { return function template(data) { var o = \"<tr class=\\\"ets-pr-fb-head\\\">\\n\\t<th class=\\\"ets-pr-fb-date\\\">\\n\\t\\t<span data-weave=\\\"troopjs-ef/blurb/widget\\\" data-blurb-id=\\\"659689\\\" data-text-en=\\\"Date\\\"></span>\\n\\t</th>\\n\\t<th class=\\\"ets-pr-fb-summary\\\">\\n\\t\\t<span data-weave=\\\"troopjs-ef/blurb/widget\\\" data-blurb-id=\\\"659690\\\" data-text-en=\\\"Title\\\"></span>\\n\\t</th>\\n\\t<th class=\\\"ets-pr-fb-type\\\">\\n\\t\\t<span data-weave=\\\"troopjs-ef/blurb/widget\\\" data-blurb-id=\\\"659691\\\" data-text-en=\\\"Type\\\"></span>\\n\\t</th>\\n\\t<th class=\\\"ets-pr-fb-device\\\">\\n\\t</th>\\n\\t<th class=\\\"ets-pr-fb-score\\\">\\n\\t\\t<span data-weave=\\\"troopjs-ef/blurb/widget\\\" data-blurb-id=\\\"659692\\\" data-text-en=\\\"Score\\\"></span>\\n\\t</th>\\n</tr>\"; return o; }; });\n","define('school-ui-progress-report/widget/container/feedback/feedback-head/main',[\n\t\"jquery\",\n\t\"troopjs-ef/component/widget\",\n\t\"template!./feedback-head.html\"\n], function($, Widget, tFeedbackHead){\n\t\"use strict\";\n\n\tvar $ELEMENT = \"$element\";\n\n\treturn Widget.extend({\n\t\t\"sig/start\": function() {\n\t\t\treturn this.html(tFeedbackHead);\n\t\t}\n\t});\n});\n","\ndefine('troopjs-requirejs/template!school-ui-progress-report/widget/container/feedback/feedback-survey/feedback-survey.html',[],function() { return function template(data) { var o = \"\";\n\tvar teacher = data.teacher;\n    var ratingBlurb = {\n\t\t'1': { id: 701035, en: 'Strongly Disagree' },\n\t\t'2': { id: 701036, en: 'Disagree' },\n\t\t'3': { id: 701037, en: 'Neutral' },\n\t\t'4': { id: 701038, en: 'Agree' },\n\t\t'5': { id: 701039, en: 'Strongly Agree' },\n\t};\no += \"\\n<div class=\\\"ets-pr-fb-survey-modal modal fade in\\\" data-backdop=\\\"static\\\" lang=\\\"\" +data.lang+ \"\\\">\\n\\t<div class=\\\"modal-dialog\\\">\\n\\t\\t<div class=\\\"modal-content\\\">\\n\\t\\t\\t<form class=\\\"ets-pr-fb-survey-form\\\">\\n\\t\\t\\t\\t<div class=\\\"ets-pr-fb-survey-teacher-header\\\">\\n\\t\\t\\t\\t\\t<img class=\\\"ets-pr-fb-survey-teacher-image\\\" src=\\\"\" + teacher.imageUrl + \"\\\"/>\\n\\t\\t\\t\\t\\t<span class=\\\"ets-pr-fb-survey-teacher-profile\\\">\\n\\t\\t\\t\\t\\t\\t<span class=\\\"ets-pr-fb-survey-teacher-name\\\">\" + teacher.displayName + \"</span>\\n\\t\\t\\t\\t\\t\\t<br/>\\n\\t\\t\\t\\t\\t\\t<span data-weave=\\\"troopjs-ef/blurb/widget\\\" data-blurb-id=\\\"701042\\\" data-text-en=\\\"Your Corrector\\\"></span>\\n\\t\\t\\t\\t\\t</span>\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\"; data.questions.forEach(function (question, questionIndex) { o += \"\\n\\t\\t\\t\\t\\t<div class=\\\"ets-pr-fb-survey-question\\\" data-weave=\\\"troopjs-ef/blurb/widget\\\" \\n\\t\\t\\t\\t\\t     data-blurb-id=\\\"\" + question.blurbId + \"\\\" data-blurb-en=\\\"\" + question.blurbEn + \"\\\">\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t<div class=\\\"ets-pr-fb-survey-rating-answer\\\">\\n\\t\\t\\t\\t\\t\\t\";\n\t\t\t\t\t\t/* Using a recursive call to generate the rating line */ \n\t\t\t\t\t\t(function renderRatingGroup(rating) {\n\t\t\t\t\t\t\tvar id = ['radio',data.writingId,questionIndex,rating].join('-');\n\t\t\t\t\t\t\to += \"\\n\\t\\t\\t\\t\\t\\t\\t<input id=\\\"\" +id+ \"\\\" class=\\\"ets-pr-radio\\\" type=\\\"radio\\\" name=\\\"\" + question.inputName + \"\\\" value=\\\"\" + rating + \"\\\"/>\\n\\t\\t\\t\\t\\t\\t\\t<span class=\\\"ets-pr-fb-survey-rating-group\\\" data-rating=\\\"\" + rating + \"\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\"; if (rating > 1) { renderRatingGroup(rating-1); } o += \"\\n\\t\\t\\t\\t\\t\\t\\t\\t<label for=\\\"\" +id+ \"\\\" data-rating=\\\"\" +rating+ \"\\\" class=\\\"ets-pr-fb-survey-rating-label\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<span data-weave=\\\"school-ui-shared/widget/vector('school-ui-progress-report/vector/ico_survey_rating\" + rating + \"',30,30)\\\"></span>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<span class=\\\"ets-pr-fb-survey-rating-label-text\\\" data-weave=\\\"troopjs-ef/blurb/widget\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t      data-blurb-id=\\\"\" + ratingBlurb[rating].id + \"\\\" data-blurb-en=\\\"\" + ratingBlurb[rating].en + \"\\\"></span>\\n\\t\\t\\t\\t\\t\\t\\t\\t</label>\\n\\t\\t\\t\\t\\t\\t\\t</span>\\n\\t\\t\\t\\t\\t\\t\\t\";\n\t\t\t\t\t\t})(5);\n\t\t\t\t\t\to += \"\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\"; }); o += \"\\n\\n\\t\\t\\t\\t<label for=\\\"ets-pr-fb-survey-\" +data.writingId+ \"-comments\\\" class=\\\"ets-pr-fb-survey-comments-label\\\"\\n\\t\\t\\t\\t\\t   data-weave=\\\"troopjs-ef/blurb/widget\\\" data-blurb-id=\\\"701034\\\" data-blurb-en=\\\"Comments\\\"></label>\\n\\t\\t\\t\\t<textarea id=\\\"ets-pr-fb-survey-\" +data.writingId+ \"-comments\\\" name=\\\"comments\\\"></textarea>\\n\\t\\t\\t\\t<div class=\\\"ets-pr-fb-survey-buttons\\\">\\n\\t\\t\\t\\t\\t<button type=\\\"submit\\\" class=\\\"ets-pr-btn submit disabled\\\">\\n\\t\\t\\t\\t\\t\\t<span data-weave=\\\"troopjs-ef/blurb/widget\\\" data-blurb-id=\\\"701041\\\" data-text-en=\\\"Submit\\\"></span>\\n\\t\\t\\t\\t\\t</button>\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t</form>\\n\\t\\t\\t<div class=\\\"ets-pr-fb-survey-confirmation\\\">\\n\\t\\t\\t\\t<h1 data-weave=\\\"troopjs-ef/blurb/widget\\\" data-blurb-id=\\\"673744\\\" data-text-en=\\\"Thank you!\\\"></h1>\\n\\t\\t\\t\\t<p data-weave=\\\"troopjs-ef/blurb/widget\\\" data-blurb-id=\\\"673745\\\" data-text-en=\\\"Your rating has been submitted\\\"></p>\\n\\t\\t\\t\\t<p><span data-weave=\\\"school-ui-shared/widget/vector('school-ui-progress-report/vector/ico_confirmation', 102, 94)\\\"></span></p>\\n\\t\\t\\t\\t<button type=\\\"button\\\" class=\\\"ets-pr-btn\\\" data-dismiss=\\\"modal\\\" data-weave=\\\"troopjs-ef/blurb/widget\\\" data-blurb-id=\\\"673746\\\" data-text-en=\\\"Got it\\\"></button>\\n\\t\\t\\t</div>\\n\\t\\t\\t<button type=\\\"button\\\" class=\\\"ets-pr-btn close\\\" data-dismiss=\\\"modal\\\">\\n\\t\\t\\t\\t<span data-weave=\\\"school-ui-shared/widget/vector('school-ui-progress-report/vector/ico_close', 30, 30)\\\"></span>\\n\\t\\t\\t</button>\\n\\t\\t</div>\\n\\t</div>\\n\\t<div class=\\\"modal-backdrop fade in\\\"></div>\\n</div>\"; return o; }; });\n","define('school-ui-progress-report/widget/container/feedback/feedback-survey/main',[\n\t\"jquery\",\n\t\"jquery.gudstrap\",\n\t\"when\",\n\t\"poly\",\n\t\"troopjs-ef/component/widget\",\n\t\"school-ui-shared/utils/browser-check\",\n\t\"school-ui-shared/utils/update-helper\",\n\t\"school-ui-shared/utils/hub-memory\",\n\t\"template!./feedback-survey.html\"\n], function (\n\t$,\n\t$gudstrap,\n\twhen,\n\tpoly,\n\tWidget,\n\tbrowserCheck,\n\tupdateHelper,\n\tHubMemory,\n\ttFeedbackSurvey\n) {\n\t\"use strict\";\n\n\tvar $ELEMENT = \"$element\";\n\n\tvar PROP_WRITING_ID = '_writingId';\n\tvar PROP_TEACHER_PROFILE = '_teacherProfile';\n\n\tvar SEL_MODAL = '.modal';\n\tvar SEL_SUBMIT_BUTTON = 'button[type=\"submit\"]';\n\tvar SEL_FORM = '.ets-pr-fb-survey-form';\n\tvar SEL_CONFIRMATION = '.ets-pr-fb-survey-confirmation';\n\tvar SEL_COMMENTS = 'textarea[name=\"comments\"]';\n\n\tvar BLURB_FORM_NOT_VALID_TITLE = 673743; //en=\"Please complete this evaluation for your writing correction\"\n\tvar BLURB_COMMENTS_PLACEHOLDER = 701040; //en=\"Please write only in English letters\"\n\n\tvar ERR_FORM_NOT_VALID = 'Form not valid';\n\n\tvar QUESTIONS = [\n\t\t{\n\t\t\tblurbId: 701031,\n\t\t\tblurbEn: 'I liked the writing task',\n\t\t\tinputName: 'topicScore'\n\t\t},\n\t\t{\n\t\t\tblurbId: 701032,\n\t\t\tblurbEn: 'I learned from the corrections',\n\t\t\tinputName: 'satisfiedScore'\n\t\t},\n\t\t{\n\t\t\tblurbId: 701033,\n\t\t\tblurbEn: 'I learned from the comments',\n\t\t\tinputName: 'commentScore'\n\t\t}\n\t];\n\n\tvar IS_IE8 = browserCheck.browser === \"msie\" && parseInt(browserCheck.version) === 8;\n\n\tfunction errorMatch(message, err) {\n\t\treturn Boolean(err && err.message == message);\n\t}\n\n\tfunction ignoreError() {\n\t\t//noop\n\t}\n\n\treturn Widget.extend(function ($element, name, writingId, teacherProfile) {\n\t\tvar me = this;\n\t\tme[PROP_WRITING_ID] = writingId;\n\t\tme[PROP_TEACHER_PROFILE] = teacherProfile;\n\t}, {\n\t\t\"sig/start\": function () {\n\t\t\tvar me = this;\n\t\t\tvar context = HubMemory.readMemory('context');\n\t\t\tvar htmlPromise = me.html(tFeedbackSurvey, {\n\t\t\t\twritingId: me[PROP_WRITING_ID],\n\t\t\t\tteacher: me[PROP_TEACHER_PROFILE],\n\t\t\t\tquestions: QUESTIONS,\n\t\t\t\tisIE8: IS_IE8,\n\t\t\t\tlang: context && context.cultureCode || ''\n\t\t\t});\n\t\t\treturn when.all(\n\t\t\t\tme.query('blurb!' + BLURB_FORM_NOT_VALID_TITLE, 'blurb!' + BLURB_COMMENTS_PLACEHOLDER),\n\t\t\t\thtmlPromise\n\t\t\t).spread(function (formNotValidTitleBlurb, commentPlaceholderBlurb) {\n\t\t\t\tme[$ELEMENT].find(SEL_CONFIRMATION).hide();\n\t\t\t\tme[$ELEMENT].find(SEL_MODAL).modal('show');\n\t\t\t\tme[$ELEMENT].find(SEL_SUBMIT_BUTTON).tooltip({\n\t\t\t\t\tplacement: 'top',\n\t\t\t\t\ttrigger: 'hover focus',\n\t\t\t\t\tanimation: false, //animation:true cause strange scrollbar visual effect on chrome\n\t\t\t\t\ttitle: formNotValidTitleBlurb && formNotValidTitleBlurb.translation || ''\n\t\t\t\t});\n\t\t\t\tif (commentPlaceholderBlurb) {\n\t\t\t\t\tme[$ELEMENT].find(SEL_COMMENTS).attr('placeholder', commentPlaceholderBlurb.translation || '');\n\t\t\t\t}\n\t\t\t\treturn me.validateForm()\n\t\t\t\t\t.otherwise(errorMatch.bind(null, ERR_FORM_NOT_VALID), ignoreError);\n\t\t\t});\n\t\t},\n\t\t\"dom:.modal/hidden.bs.modal\": function () {\n\t\t\tvar me = this;\n\t\t\tme[$ELEMENT].trigger('hidden.ets-fb-survey');\n\t\t},\n\t\t\"dom:input/change\": function () {\n\t\t\tthis.validateForm()\n\t\t\t\t.otherwise(errorMatch.bind(null, ERR_FORM_NOT_VALID), ignoreError);\n\t\t},\n\t\t\"dom:form/submit\": function (event) {\n\t\t\tvar me = this;\n\t\t\tevent.stopPropagation();\n\t\t\tevent.preventDefault();\n\n\t\t\tme.validateForm()\n\t\t\t\t.then(function () {\n\t\t\t\t\t// Currently backend reads the \"feedbackId\" field.\n\t\t\t\t\t// But we should name this field \"writingId\" everywhere.\n\t\t\t\t\t// Send both \"feedbackId\" and \"writingId\" for compatibility. SPC-6816\n\t\t\t\t\tvar surveyData = {\n\t\t\t\t\t\tfeedbackId: me[PROP_WRITING_ID],\n\t\t\t\t\t\twritingId: me[PROP_WRITING_ID],\n\t\t\t\t\t\tcomments: me[$ELEMENT].find('[name=\"comments\"]').val()\n\t\t\t\t\t};\n\t\t\t\t\tQUESTIONS.forEach(function (question) {\n\t\t\t\t\t\tvar rating = me[$ELEMENT].find('[name=\"' + question.inputName + '\"]:checked').val();\n\t\t\t\t\t\tsurveyData[question.inputName] = rating ? parseInt(rating, 10) : null;\n\t\t\t\t\t});\n\t\t\t\t\treturn updateHelper.submitWritingCorrectionRating(surveyData);\n\t\t\t\t})\n\t\t\t\t.then(function () {\n\t\t\t\t\tme[$ELEMENT].find(SEL_FORM).hide();\n\t\t\t\t\tme[$ELEMENT].find(SEL_CONFIRMATION).show();\n\t\t\t\t})\n\t\t\t\t.otherwise(errorMatch.bind(null, ERR_FORM_NOT_VALID), ignoreError)\n\t\t\t\t.otherwise(ignoreError);\n\t\t},\n\t\t\"dom:input.ets-pr-radio-ie8/change\": function (event) {\n\t\t\tvar $target = $(event.target);\n\t\t\t$target.addClass('checked');\n\t\t\tvar name = $target.attr('name');\n\t\t\t$target.closest('form, body')\n\t\t\t\t.find('input.ets-pr-radio-ie8[name=\"' + name + '\"]')\n\t\t\t\t.not($target)\n\t\t\t\t.removeClass('checked');\n\t\t},\n\n\t\t\"validateForm\": function () {\n\t\t\tvar me = this;\n\t\t\t//cannot use Array.some, bug in poly for IE8: https://github.com/cujojs/poly/issues/39\n\t\t\tvar hasCheckedAllRatings = QUESTIONS.every(function (question) {\n\t\t\t\tvar inputSelector = 'input[name=\"' + question.inputName + '\"]:checked';\n\t\t\t\treturn me[$ELEMENT].find(inputSelector).length !== 0;\n\t\t\t});\n\n\t\t\treturn when.promise(function (resolve, reject) {\n\t\t\t\tvar valid = (hasCheckedAllRatings);\n\t\t\t\tvar $submitButton = me[$ELEMENT].find(SEL_SUBMIT_BUTTON);\n\t\t\t\t$submitButton.toggleClass('disabled', !valid);\n\t\t\t\tif (valid) {\n\t\t\t\t\t$submitButton.tooltip('hide').tooltip('disable');\n\t\t\t\t\tresolve(true);\n\t\t\t\t} else {\n\t\t\t\t\t$submitButton.tooltip('enable');\n\t\t\t\t\treject(new Error(ERR_FORM_NOT_VALID));\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t});\n});\n\n","\ndefine('troopjs-requirejs/template!school-ui-progress-report/widget/container/feedback/feedback.html',[],function() { return function template(data) { var o = \"<div class=\\\"ets-pr-header\\\">\\n\\t<div class=\\\"ets-pr-header-title ets-pr-header-content\\\">\\n\\t\\t<p data-weave=\\\"troopjs-ef/blurb/widget\\\" data-blurb-id=\\\"708939\\\" data-text-en=\\\"CLASS REVIEW & FEEDBACK\\\"></p>\\n\\t</div>\\n</div>\\n<div class=\\\"ets-pr-body\\\">\\n\\t<div class=\\\"ets-pr-content\\\">\\n\\t\\t<table class=\\\"ets-pr-feedback\\\">\\n\\t\\t\\t<thead data-weave=\\\"school-ui-progress-report/widget/container/feedback/feedback-head/main\\\"></thead>\\n\\t\\t\\t<tbody data-weave=\\\"school-ui-progress-report/widget/container/feedback/feedback-body/main(selectedItem)\\\"></tbody>\\n\\t\\t</table>\\n\\t\\t<div class=\\\"ets-pr-pagination\\\" data-weave=\\\"school-ui-progress-report/widget/container/feedback/pagination/main(items, selectedItem)\\\"></div>\\n\\t</div>\\n</div>\"; return o; }; });\n","define('school-ui-progress-report/widget/container/feedback/main',[\n\t\"jquery\",\n\t\"json2\",\n\t\"moment\",\n\t\"troopjs-ef/component/widget\",\n\t\"troopjs-browser/loom/config\",\n\t\"troopjs-browser/loom/weave\",\n\t\"template!./feedback.html\"\n], function ($, JSON, Moment, Widget, loom, weave, tFeedback) {\n\t\"use strict\";\n\n\tvar $ELEMENT = \"$element\";\n\tvar INIT_DATA = \"_init_data\";\n\n\tvar SEL_FEEDBACK_BODY = \".ets-pr-feedback tbody\";\n\tvar SEL_PAGINATION = \".ets-pr-pagination\";\n\n\treturn Widget.extend(function ($element, path, initData) {\n\t\tthis[INIT_DATA] = initData;\n\t}, {\n\t\t\"sig/start\": function () {\n\t\t\tvar me = this;\n\t\t\tvar feedbacks = me[INIT_DATA].feedbacks;\n\n\t\t\tvar selectedItem;\n\t\t\tif (me[INIT_DATA].fb_id) {\n\t\t\t\tvar itemData = me[INIT_DATA].fb_id.split(\"_\");\n\t\t\t\tselectedItem = {\n\t\t\t\t\ttypeCode: itemData[0],\n\t\t\t\t\tfeedbackId: itemData[1]\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tme[$ELEMENT].html(tFeedback());\n\t\t\tme[$ELEMENT].find(SEL_FEEDBACK_BODY).data(\"selectedItem\", selectedItem);\n\t\t\tme[$ELEMENT].find(SEL_PAGINATION).data(\"items\", feedbacks).data(\"selectedItem\", selectedItem);\n\t\t\treturn me.weave();\n\t\t}\n\t});\n});\n\n","\ndefine('troopjs-requirejs/template!school-ui-progress-report/widget/container/feedback/pagination/pagination.html',[],function() { return function template(data) { var o = \"<div class=\\\"pagination-wrapper\\\">\\n\\t<div class=\\\"section ets-none prev\\\">\\n\\t\\t<a class=\\\"prev icon-angle-left\\\"></a>\\n\\t</div>\\n\\t<div class=\\\"section ets-none start\\\">\\n\\t</div>\\n\\t<div class=\\\"section ets-none middle\\\">\\n\\t\\t<span class=\\\"ellipsis\\\"><span data-weave=\\\"school-ui-shared/widget/vector('school-ui-progress-report/vector/ico_dot_3',12,4)\\\"></span></span>\\n\\t\\t<span class=\\\"ellipsis\\\"><span data-weave=\\\"school-ui-shared/widget/vector('school-ui-progress-report/vector/ico_dot_3',12,4)\\\"></span></span>\\n\\t</div>\\n\\t<div class=\\\"section ets-none end\\\">\\n\\t</div>\\n\\t<div class=\\\"section ets-none next\\\">\\n\\t\\t<a class=\\\"next icon-angle-right\\\"></a>\\n\\t</div>\\n</div>\"; return o; }; });\n","define('school-ui-progress-report/widget/container/feedback/pagination/main',[\n\t\"jquery\",\n\t\"poly\",\n\t\"troopjs-ef/component/widget\",\n\t\"template!./pagination.html\"\n], function ($, poly, Widget, tPagination) {\n\t\"use strict\";\n\n\tvar UNDEF;\n\tvar $ELEMENT = \"$element\";\n\n\tvar CLS_NONE = \"ets-none\";\n\tvar CLS_ACTIVE = \"active\";\n\tvar CLS_NUM = \"num\";\n\tvar CLS_ELLIPSIS = \"ellipsis\";\n\n\tvar SEL_SECTION_START = \".section.start\";\n\tvar SEL_SECTION_MIDDLE = \".section.middle\";\n\tvar SEL_SECTION_END = \".section.end\";\n\tvar SEL_SECTION_PREV = \".section.prev\";\n\tvar SEL_SECTION_NEXT = \".section.next\";\n\tvar SEL_ACTIVE = \".\" + CLS_ACTIVE;\n\tvar SEL_NUM = \".\" + CLS_NUM;\n\tvar SEL_ELLIPSIS = \".\" + CLS_ELLIPSIS;\n\n\tvar PAGE_ITEMS = 10;     //how many items will be shown in one page\n\tvar ITEMS = \"_items\";\n\tvar SELECTED_ITEM_INFO = \"_selectedItemInfo\";\n\n\tvar MAX_START_NUMS = 1;\n\tvar MAX_MIDDLE_NUMS = 5;\n\tvar MAX_END_NUMS = 1;\n\n\tvar SECTION_START = \"_section_start\";\n\tvar SECTION_MIDDLE = \"_section_middle\";\n\tvar SECTION_END = \"_section_end\";\n\tvar PAGE_COUNT = \"_page_count\";\n\n\treturn Widget.extend(function ($element, path, items, selectedItemInfo) {\n\t\tvar me = this;\n\t\tme[ITEMS] = items;\n\t\tme[SELECTED_ITEM_INFO] = selectedItemInfo;\n\t}, {\n\t\t\"sig/start\": function () {\n\t\t\tvar me = this;\n\t\t\treturn me.html(tPagination).then(function () {\n\t\t\t\tvar totalItems = me[ITEMS].length;\n\t\t\t\tvar totalPages = Math.ceil(totalItems / PAGE_ITEMS);\n\t\t\t\tme.setPageCount(totalPages);\n\n\t\t\t\tif (totalPages > 0) {\n\t\t\t\t\tvar selectedIndex = -1;\n\t\t\t\t\tif (me[SELECTED_ITEM_INFO]) {\n\t\t\t\t\t\tvar typeCode = me[SELECTED_ITEM_INFO].typeCode;\n\t\t\t\t\t\tvar feedbackId = me[SELECTED_ITEM_INFO].feedbackId;\n\t\t\t\t\t\tme[ITEMS].every(function (item, index) {\n\t\t\t\t\t\t\tif (String(item.feedback_id) === feedbackId && (item.typeCode === typeCode || item.categoryCode === typeCode)) {\n\t\t\t\t\t\t\t\tselectedIndex = index;\n\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\n\t\t\t\t\tif (selectedIndex > -1) {\n\t\t\t\t\t\tvar selectedPageNum = Math.ceil((selectedIndex + 1) / PAGE_ITEMS);\n\t\t\t\t\t\tme.setActivePage(selectedPageNum);\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tme.setActivePage(1);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\t\"dom:a.num/click\": function (e) {\n\t\t\tvar pageNum = parseInt($(e.currentTarget).text());\n\t\t\tvar me = this;\n\t\t\tme.setActivePage(pageNum);\n\t\t},\n\t\t\"dom:a.prev/click\": function () {\n\t\t\tvar me = this;\n\t\t\tvar newPageNum = parseInt(me[$ELEMENT].find(SEL_ACTIVE).text()) - 1;\n\t\t\tif (newPageNum >= 1) {\n\t\t\t\tme.setActivePage(newPageNum);\n\t\t\t}\n\t\t},\n\t\t\"dom:a.next/click\": function () {\n\t\t\tvar me = this;\n\t\t\tvar newPageNum = parseInt(me[$ELEMENT].find(SEL_ACTIVE).text()) + 1;\n\t\t\tif (newPageNum <= me[PAGE_COUNT]) {\n\t\t\t\tme.setActivePage(newPageNum);\n\t\t\t}\n\t\t},\n\t\t\"dom:.pagination-wrapper/selectstart\": function () {\n\t\t\treturn false;\n\t\t},\n\t\t\"setPageCount\": function (pageCount) {\n\t\t\tpageCount = parseInt(pageCount);\n\t\t\tpageCount = (pageCount < 0 ? 0 : pageCount);\n\n\t\t\tvar me = this;\n\t\t\tme[PAGE_COUNT] = pageCount;\n\n\t\t\t//calculate\n\t\t\tvar startNumCount = Math.min(pageCount, MAX_START_NUMS);\n\t\t\tvar endNumCount = Math.min(pageCount - startNumCount, MAX_END_NUMS);\n\t\t\tvar middleNumCount = Math.min(pageCount - startNumCount - endNumCount, MAX_MIDDLE_NUMS);\n\t\t\tme[SECTION_START] = {\n\t\t\t\tmin: 1,\n\t\t\t\tmax: startNumCount,\n\t\t\t\tcount: startNumCount\n\t\t\t};\n\t\t\tme[SECTION_MIDDLE] = {\n\t\t\t\tmin: startNumCount + 1,\n\t\t\t\tmax: pageCount - endNumCount,\n\t\t\t\tcount: (middleNumCount ? pageCount - startNumCount - endNumCount : 0),\n\t\t\t\tdisplayCount: middleNumCount\n\t\t\t};\n\t\t\tme[SECTION_END] = {\n\t\t\t\tmin: pageCount - endNumCount + 1,\n\t\t\t\tmax: pageCount,\n\t\t\t\tcount: endNumCount\n\t\t\t};\n\n\t\t\t//render init\n\t\t\tvar i;\n\n\t\t\t//section start\n\t\t\tvar $sectionStart = me[$ELEMENT].find(SEL_SECTION_START).empty();\n\t\t\tfor (i = me[SECTION_START].min; i <= me[SECTION_START].max; i++) {\n\t\t\t\t$sectionStart.append($(\"<a></a>\", {\n\t\t\t\t\t\"class\": CLS_NUM,\n\t\t\t\t\t\"text\": i\n\t\t\t\t}));\n\t\t\t}\n\t\t\t$sectionStart.toggleClass(CLS_NONE, me[SECTION_START].count === 0);\n\n\t\t\t//section middle\n\t\t\tvar $sectionMiddle = me[$ELEMENT].find(SEL_SECTION_MIDDLE);\n\t\t\t$sectionMiddle.find(SEL_NUM).remove();\n\t\t\tvar $endEllipsis = $sectionMiddle.find(SEL_ELLIPSIS + \":last\");\n\t\t\tfor (i = 1; i <= me[SECTION_MIDDLE].displayCount; i++) {\n\t\t\t\t$endEllipsis.before($(\"<a></a>\", {\n\t\t\t\t\t\"class\": CLS_NUM\n\t\t\t\t}));\n\t\t\t}\n\t\t\t$sectionMiddle.toggleClass(CLS_NONE, me[SECTION_MIDDLE].count === 0);\n\n\t\t\t//section end\n\t\t\tvar $sectionEnd = me[$ELEMENT].find(SEL_SECTION_END).empty();\n\t\t\tfor (i = me[SECTION_END].min; i <= me[SECTION_END].max; i++) {\n\t\t\t\t$sectionEnd.append($(\"<a></a>\", {\n\t\t\t\t\t\"class\": CLS_NUM,\n\t\t\t\t\t\"text\": i\n\t\t\t\t}));\n\t\t\t}\n\t\t\t$sectionEnd.toggleClass(CLS_NONE, me[SECTION_END].count === 0);\n\n\t\t\t//section prev & next\n\t\t\tme[$ELEMENT].find(SEL_SECTION_PREV).toggleClass(CLS_NONE, me[PAGE_COUNT] === 0);\n\t\t\tme[$ELEMENT].find(SEL_SECTION_NEXT).toggleClass(CLS_NONE, me[PAGE_COUNT] === 0);\n\t\t},\n\t\t\"setActivePage\": function (pageNum) {\n\t\t\tfunction updateMiddleSection(minPageNum) {\n\t\t\t\tvar $sectionMiddle = me[$ELEMENT].find(SEL_SECTION_MIDDLE);\n\t\t\t\tfor (var i = 1; i <= me[SECTION_MIDDLE].displayCount; i++) {\n\t\t\t\t\t$sectionMiddle.find(SEL_NUM + \":nth-of-type(\" + (i) + \")\").text(minPageNum + i - 1);\n\t\t\t\t}\n\n\t\t\t\t$sectionMiddle.find(SEL_ELLIPSIS + \":first\").toggleClass(CLS_NONE, minPageNum === me[SECTION_START].max + 1);\n\t\t\t\t$sectionMiddle.find(SEL_ELLIPSIS + \":last\").toggleClass(CLS_NONE, minPageNum + me[SECTION_MIDDLE].displayCount - 1 === me[SECTION_MIDDLE].max);\n\t\t\t}\n\n\t\t\tfunction setActiveNum($newActiveNum) {\n\t\t\t\t$activeNum.removeClass(CLS_ACTIVE);\n\t\t\t\t$newActiveNum.addClass(CLS_ACTIVE);\n\t\t\t}\n\n\t\t\tvar me = this;\n\t\t\tvar $activeNum = me[$ELEMENT].find(SEL_ACTIVE);\n\t\t\tif ($activeNum.text() === pageNum.toString()) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (pageNum >= me[SECTION_START].min && pageNum <= me[SECTION_START].max) {\n\t\t\t\t//active num is in start section\n\t\t\t\tupdateMiddleSection(me[SECTION_MIDDLE].min);\n\t\t\t\tvar $newActiveNum = me[$ELEMENT].find(SEL_SECTION_START + \" \" + SEL_NUM + \":nth-child(\" + pageNum + \")\");\n\t\t\t\tsetActiveNum($newActiveNum);\n\t\t\t}\n\t\t\telse if (pageNum >= me[SECTION_END].min && pageNum <= me[SECTION_END].max) {\n\t\t\t\t//active num is in end section\n\t\t\t\tupdateMiddleSection(me[SECTION_MIDDLE].max - me[SECTION_MIDDLE].displayCount + 1);\n\t\t\t\tvar $newActiveNum = me[$ELEMENT].find(SEL_SECTION_END + \" \" + SEL_NUM + \":nth-child(\" + (pageNum - me[SECTION_MIDDLE].max + \")\"));\n\t\t\t\tsetActiveNum($newActiveNum);\n\t\t\t}\n\t\t\telse {\n\t\t\t\t//active num is in middle section\n\t\t\t\tvar middleSectionNumStart = pageNum - Math.floor((me[SECTION_MIDDLE].displayCount - 1) / 2);\n\t\t\t\tif (middleSectionNumStart < me[SECTION_MIDDLE].min) {\n\t\t\t\t\tmiddleSectionNumStart = me[SECTION_MIDDLE].min;\n\t\t\t\t}\n\t\t\t\telse if (middleSectionNumStart + me[SECTION_MIDDLE].displayCount - 1 > me[SECTION_MIDDLE].max) {\n\t\t\t\t\tmiddleSectionNumStart = me[SECTION_MIDDLE].max - me[SECTION_MIDDLE].displayCount + 1;\n\t\t\t\t}\n\t\t\t\tupdateMiddleSection(middleSectionNumStart);\n\n\t\t\t\tvar $newActiveNum = me[$ELEMENT].find(SEL_SECTION_MIDDLE + \" \" + SEL_NUM + \":nth-of-type(\" + (pageNum - middleSectionNumStart + 1) + \")\");\n\t\t\t\tsetActiveNum($newActiveNum);\n\t\t\t}\n\n\t\t\tme.publishPagedItems(pageNum)\n\t\t},\n\t\t\"publishPagedItems\": function (pageNum) {\n\t\t\tvar me = this;\n\t\t\tvar startIndex = (pageNum - 1) * PAGE_ITEMS;\n\t\t\tvar pagedItems = me[ITEMS].slice(startIndex, startIndex + PAGE_ITEMS);\n\t\t\tvar renderItems = pagedItems.map(function (item) {\n\t\t\t\treturn $.extend({}, item);\n\t\t\t});\n\t\t\tme.publish(\"feedback/update-items\", renderItems);\n\t\t}\n\t});\n});\n\n","\ndefine('troopjs-requirejs/template!school-ui-progress-report/widget/shared/callout/callout.html',[],function() { return function template(data) { var o = \"<div class=\\\"ets-pr-callout-pointer \" + (data.isIE8 ? 'ets-pr-isIE8' : '') + \"\\\"></div>\"; return o; }; });\n","define('school-ui-progress-report/widget/shared/callout/main',[\n\t\"poly\",\n\t\"troopjs-ef/component/widget\",\n\t\"school-ui-shared/utils/browser-check\",\n\t\"template!./callout.html\"\n], function (poly, Widget, browserCheck, template) {\n\t\"use strict\";\n\n\tvar $ELEMENT = \"$element\";\n\n\tvar CLS_CALLOUT = \"ets-pr-callout\";\n\n\tvar SEL_POINTER = \".ets-pr-callout-pointer\";\n\n\treturn Widget.extend(function () {\n\t}, {\n\t\t\"sig/start\": function () {\n\t\t\tvar me = this;\n\t\t\tme[$ELEMENT].addClass(CLS_CALLOUT);\n\t\t\treturn me.html(template, {\n\t\t\t\tisIE8: browserCheck.browser === \"msie\" && parseInt(browserCheck.version) === 8\n\t\t\t});\n\t\t},\n\t\t\"pointerTo\": function ($target) {\n\t\t\tvar me = this;\n\t\t\tvar $pointer = me[$ELEMENT].find(SEL_POINTER);\n\t\t\tif ($target && $target.length > 0) {\n\t\t\t\tvar centeringOffset = $target.width() / 2 - $pointer.width() / 2;\n\t\t\t\tvar left = $target.offset().left - $pointer.offsetParent().offset().left;\n\n\t\t\t\t$pointer.show().css(\"left\", Math.round(left + centeringOffset) + \"px\");\n\t\t\t} else {\n\t\t\t\t$pointer.hide();\n\t\t\t}\n\t\t}\n\t});\n});\n","define('school-ui-progress-report/widget/container/ge/level-navigation/callout',[\n\t\"school-ui-progress-report/widget/shared/callout/main\"\n], function (CalloutWidget) {\n\t\"use strict\";\n\n\treturn CalloutWidget.extend({\n\t\t\"hub/progress-report/ge/callout/pointer-to\": function ($target) {\n\t\t\tthis.pointerTo($target);\n\t\t}\n\t});\n});\n","\ndefine('troopjs-requirejs/template!school-ui-progress-report/widget/container/ge/level-navigation/level-navigation.html',[],function() { return function template(data) { var o = \"\";\n\tfunction computeIconState(level) {\n\t\tif (this.progressState.hasPassed(level.progress.state)) {\n\t\t\treturn \"passed\";\n\t\t} else if (level.id === data.currentLevelId) {\n\t\t\treturn \"current\";\n\t\t} else if (this.progressState.hasStarted(level.progress.state)) {\n\t\t\treturn \"progress\";\n\t\t} else {\n\t\t\treturn \"normal\";\n\t\t}\n\t}\no += \"\\n\\n<div class=\\\"ets-pr-level-nav ets-pr-header-content\\\">\\n\\t<div class=\\\"ets-pr-level-holder\\\">\\n\\t\\t<span class=\\\"ets-pr-line\\\"></span>\\n\\t\\t\";\n\t\tvar index = 0;\n\n\t\tfor(var n=0; n < data.levelStages.length; n++){\n\t\t\tvar stage = data.levelStages[n];\n\t\t\tvar stage_normal_state = \"ets-pr-normal\";\n\t\to += \"\\n\\t\\t\\t<div class=\\\"ets-pr-level-stage\\\">\\n\\t\\t\\t\\t\";\n\t\t\t\tfor (var i=0; i < stage.levels.length; i++){\n\t\t\t\t\tvar level = stage.levels[i];\n\t\t\t\t\tvar iconState = computeIconState.call(this, level);\n\n\t\t\t\t\tif(iconState !== \"normal\") {\n\t\t\t\t\t\tstage_normal_state = \"\";\n\t\t\t\t\t}\n\t\t\t\to += \"\\n\\t\\t\\t\\t\\t<div class=\\\"ets-pr-level-point \" + (iconState==='normal'?'ets-pr-normal':'') + \"\\\">\\n\\t\\t\\t\\t\\t\\t<div class=\\\"ets-pr-level-icon\\\" data-state=\\\"\" + iconState + \"\\\"\\n\\t\\t\\t\\t\\t\\t    data-id=\\\"\" + level.id + \"\\\"\\n\\t\\t\\t\\t\\t\\t    data-archive-e10-id=\\\"\" + (level.archiveId && level.archiveId.e10 || '') + \"\\\"\\n\\t\\t\\t\\t\\t\\t\\tdata-archive-e13-id=\\\"\" + (level.archiveId && level.archiveId.e13 || '') + \"\\\"\\n\\t\\t\\t\\t\\t\\t    data-weave=\\\"school-ui-progress-report/widget/container/ge/level-navigation/state-circle\\\"></div>\\n\\t\\t\\t\\t\\t\\t<span class=\\\"ets-pr-level-num\\\">\" + level.levelNo+ \"</span>\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\";\n\t\t\t\t\tindex++;\n\t\t\t\t}\n\t\t\t\to += \"\\n\\t\\t\\t\\t<span class=\\\"ets-pr-stage \" + stage_normal_state + \"\\\">\\n\\t\\t\\t\\t\\t<span data-weave=\\\"school-ui-shared/widget/hyphenate('troopjs-ef/blurb/widget')\\\"\\n\\t\\t\\t\\t\\t      data-blurb-id=\\\"\" + stage.blurbId+ \"\\\" data-text-en=\\\"\" + stage.blurbTextEn+ \"\\\"></span>\\n\\t\\t\\t\\t</span>\\n\\t\\t\\t</div>\\n\\t\\t\";\n\t\t}\n\t\to += \"\\n\\t</div>\\n</div>\\n<div class=\\\"ets-pr-nav-bottom-border\\\"\\n     data-weave=\\\"school-ui-progress-report/widget/container/ge/level-navigation/callout\\\"></div>\"; return o; }; });\n","define('school-ui-progress-report/widget/container/ge/level-navigation/main',[\n\t\"when\",\n\t\"poly\",\n\t\"jquery\",\n\t\"snapsvg\",\n\t\"troopjs-ef/component/widget\",\n\t\"school-ui-progress-report/utils/load\",\n\t\"school-ui-shared/utils/progress-state\",\n\t\"template!./level-navigation.html\"\n], function (when, poly, $, snapsvg, Widget, Load, progressState, tLevelNav) {\n\t\"use strict\";\n\n\tvar STAGES = {\n\t\t\"beginner\" \t\t\t: {blurbId:659668, blurbTextEn:\"Beginner\", levelCodes:[\"0A\",\"0B\",\"1\"]},\n\t\t\"elementary\" \t\t: {blurbId:659669, blurbTextEn:\"Elementary\", levelCodes:[\"2\",\"3\",\"4\"]},\n\t\t\"intermediate\" \t\t: {blurbId:659670, blurbTextEn:\"Intermediate\", levelCodes:[\"5\",\"6\",\"7\"]},\n\t\t\"upperIntermediate\" : {blurbId:659671, blurbTextEn:\"Upper Intermediate\", levelCodes:[\"8\",\"9\",\"10\"]},\n\t\t\"advanced\" \t\t\t: {blurbId:659672, blurbTextEn:\"Advanced\", levelCodes:[\"11\",\"12\",\"13\"]},\n\t\t\"upperAdvanced\" \t: {blurbId:659673, blurbTextEn:\"Upper Advanced\", levelCodes:[\"14\"]}\n\t};\n\n\tvar $ELEMENT = \"$element\";\n\n\tvar CLS_SELECTED = \"ets-pr-selected\";\n\n\tvar SEL_ICON = \".ets-pr-level-icon\";\n\tvar SEL_SELECTED = \".\" + CLS_SELECTED;\n\n\tvar DATA = \"_data\";\n\tvar PROP_INIT_DATA = \"_init_data\";\n\tvar SELECTED_LEVEL = \"_selected_level\";\n\n\tvar STATE_NORMAL = 'normal';\n\n\tfunction selectIcon($target) {\n\t\t$target.find(\"i svg path[data-d-select]\").each(function(){\n\t\t\tvar d_select = $(this).data(\"d-select\");\n\t\t\tsnapsvg($(this)[0]).animate({\n\t\t\t\td: d_select\n\t\t\t}, 100);\n\t\t});\n\t}\n\n\tfunction unSelectIcon() {\n\t\tvar me = this;\n\t\tme.$element.find(\".\" + CLS_SELECTED).find(\"i svg path[data-d-origin]\").each(function(){\n\t\t\tvar d_origin = $(this).data(\"d-origin\");\n\t\t\tsnapsvg($(this)[0]).animate({\n\t\t\t\td: d_origin\n\t\t\t}, 100);\n\t\t});\n\t}\n\n\tfunction pointerTo($target) {\n\t\tthis.publish('progress-report/ge/callout/pointer-to', $target);\n\t}\n\n\treturn Widget.extend(function($element, path, renderData){\n\t\tthis[PROP_INIT_DATA] = renderData;\n\t},{\n\t\t\"progressState\" : progressState,\n\t\t\"sig/start\" : function(){\n\t\t\tvar me = this;\n\t\t\tvar data = me[PROP_INIT_DATA];\n\t\t\tvar currentEnroll = data.currentEnroll;\n\t\t\tvar currentCourseEnroll = data.course.currentEnroll;\n\n\t\t\t//save aviliabe level in each stages\n\t\t\tvar levelStages = [];\n\t\t\tvar breakToLevel;\n\t\t\tvar levels = data.course.children;\n\n\t\t\tme[DATA] = data.course.children;\n\n\t\t\t//each level in course levels data\n\t\t\tfor(var index in levels){\n\t\t\t\tbreakToLevel = false;\n\t\t\t\t//each level number in STAGES\n\t\t\t\tfor (var name in STAGES){\n\t\t\t\t\tfor (var num in STAGES[name].levelCodes){\n\t\t\t\t\t\tif(levels[index].levelCode === STAGES[name].levelCodes[num]){\n\t\t\t\t\t\t\tvar stage = levelStages[levelStages.length - 1];\n\t\t\t\t\t\t\tif(stage && stage.name === name){\n\t\t\t\t\t\t\t\tstage.levels.push(levels[index]);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse{\n\t\t\t\t\t\t\t\tlevelStages.push({\n\t\t\t\t\t\t\t\t\tname : name,\n\t\t\t\t\t\t\t\t\tblurbId : STAGES[name].blurbId,\n\t\t\t\t\t\t\t\t\tblurbTextEn : STAGES[name].blurbTextEn,\n\t\t\t\t\t\t\t\t\tlevels : [ levels[index] ]\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreakToLevel = true;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif(breakToLevel){\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\t//levelStages looks like : [{name:\"beginner\", blurb:\"beginner\", levels:[{/**/},{/**/},{/**/}]},]\n\n\t\t\treturn me.html(tLevelNav, {\n\t\t\t\tcurrentLevelId : currentEnroll.studentLevel.id,\n\t\t\t\tlevelStages : levelStages,\n\t\t\t\tlevelContent : me[DATA]\n\t\t\t}).then(function () {\n\t\t\t\t//landing logic\n\t\t\t\tvar defaultLevel = currentCourseEnroll && currentCourseEnroll.studentLevel || data.course.children[0];\n\t\t\t\tvar archiveId = defaultLevel.archiveId;\n\t\t\t\tme.load(defaultLevel.id, {\n\t\t\t\t\te10: archiveId && archiveId.e10,\n\t\t\t\t\te13: archiveId && archiveId.e13\n\t\t\t\t});\n\t\t\t\tpointerTo.call(me, me[$ELEMENT].find(SEL_SELECTED));\n\t\t\t});\n\t\t},\n\n\t\t\"dom:.ets-pr-level-icon/mouseenter\" : function(e){\n\t\t\tvar $target = $(e.currentTarget);\n\t\t\tif ($target.data('state') !== STATE_NORMAL) {\n\t\t\t\tthis.publish('progress-report/ge/state-circle/hovered', $target.data(\"id\"));\n\t\t\t}\n\t\t},\n\t\t\"dom:.ets-pr-level-icon/mouseleave\": function () {\n\t\t\tthis.publish('progress-report/ge/state-circle/hovered', null);\n\t\t},\n\t\t\"dom:.ets-pr-level-icon/click\" : function(element){\n\t\t\tvar me = this;\n\t\t\tvar $target = $(element.currentTarget);\n\t\t\tvar $data = $target.data();\n\t\t\tvar id = $data.id;\n\n\t\t\tif ($target.data('state') !== STATE_NORMAL && !$target.hasClass(CLS_SELECTED)) {\n\t\t\t\tme.load(id, {\n\t\t\t\t\te10: $data.archiveE10Id,\n\t\t\t\t\te13: $data.archiveE13Id\n\t\t\t\t});\n\t\t\t\tpointerTo.call(me, $target);\n\t\t\t}\n\t\t},\n\t\t\"load\" : function(levelId, archiveId){\n\t\t\tvar me = this;\n\t\t\tvar levelIndex = -1;\n\t\t\tvar $allIcon;\n\n\t\t\tif(me[SELECTED_LEVEL] !== levelId){\n\n\t\t\t\tme.publish('progress-report/ge/state-circle/selected', levelId);\n\t\t\t\t$allIcon = me.$element.find(SEL_ICON);\n\n\t\t\t\tme[DATA] && me[DATA].forEach(function(levelContent, index){\n\t\t\t\t\tif(levelContent.id === levelId){\n\t\t\t\t\t\tlevelIndex = index;\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tif(levelIndex !== -1){\n\t\t\t\t\tme[SELECTED_LEVEL] = levelId;\n\t\t\t\t\tLoad.loadLevel(\"ge\", levelId, archiveId);\n\n\t\t\t\t\tunSelectIcon.call(me);\n\n\t\t\t\t\t//change style\n\t\t\t\t\t$allIcon.removeClass(CLS_SELECTED);\n\t\t\t\t\t$($allIcon[levelIndex]).addClass(CLS_SELECTED);\n\t\t\t\t\tselectIcon($($allIcon[levelIndex]));\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t});\n});\n","define('school-ui-progress-report/widget/container/ge/level-navigation/state-circle',[\n\t\"school-ui-progress-report/widget/shared/state-circle/main\"\n], function (StateCircleWidget) {\n\t\"use strict\";\n\n\treturn StateCircleWidget.extend({\n\t\t\"hub:memory/progress-report/ge/state-circle/selected\": function (selectedId) {\n\t\t\tthis.setSelected(selectedId);\n\t\t},\n\t\t\"hub:memory/progress-report/ge/state-circle/hovered\": function (hoveredId) {\n\t\t\tthis.setHovered(hoveredId);\n\t\t}\n\t});\n});\n","\ndefine('troopjs-requirejs/template!school-ui-progress-report/widget/container/ge/level-test/level-test.html',[],function() { return function template(data) { var o = \"<div class=\\\"ets-pr-level-test-container\\\">\\n\\t<h2 class=\\\"ets-pr-score-title\\\" data-weave=\\\"school-ui-progress-report/widget/container/ge/level-test/level-test-name\\\"></h2>\\n\\t<div class=\\\"ets-pr-score-all\\\">\\n\\t\\t<div class=\\\"ets-pr-score\\\">\\n\\t\\t\\t<span class=\\\"ets-pr-percentage\\\">\" + data.overallScore+ \"</span>%\\n\\t\\t</div>\\n\\t\\t<div class=\\\"ets-pr-overall\\\">\\n\\n\\t\\t\\t<i class=\\\"ets-pr-complete \" + (data.passed ? '' : 'ets-none')+ \"\\\">\\n\\t\\t\\t\\t<div data-weave=\\\"school-ui-shared/widget/vector('school-ui-progress-report/vector/ico_checkmark',32,32)\\\"></div>\\n\\t\\t\\t</i>\\n\\t\\t\\t<br/>\\n\\t\\t\\t<span class=\\\"ets-pr-tips\\\" data-weave=\\\"troopjs-ef/blurb/widget\\\" data-blurb-id=\\\"660190\\\" data-text-en=\\\"Overall Score\\\"></span>\\n\\t\\t</div>\\n\\t</div>\\n\\n\\t<div class=\\\"ets-pr-score-section\\\">\\n\\t\\t\"; for (var n=0; n<data.steps.length; n++){\n\t\t\tvar step = data.steps[n];\n\t\t\to += \"\\n\\t\\t<div class=\\\"ets-pr-score-each\\\">\\n\\t\\t\\t<span class=\\\"ets-pr-score-topic\\\">\" + step.name+ \"</span>\\n\\t\\t\\t<div class=\\\"ets-pr-score \" + (step.passed ? '' : 'ets-failed')+ \"\\\">\\n\\t\\t\\t\\t\"; if(n === 0){ o += \"\\n\\t\\t\\t\\t\\t<i class=\\\"ets-pr-flag\\\" style=\\\"left:\" + (data.passPercent + '%') + \"\\\">\\n\\t\\t\\t\\t\\t<div data-weave=\\\"school-ui-shared/widget/vector('school-ui-progress-report/vector/ico_flag',20,200)\\\"></div>\\n\\t\\t\\t\\t\\t</i>\\n\\t\\t\\t\\t\"; } o += \"\\n\\t\\t\\t\\t<span class=\\\"ets-pr-score-progress\\\"></span>\\n\\t\\t\\t</div>\\n\\t\\t\\t<span class=\\\"ets-pr-score-score\\\">\" + step.score+ \"%</span>\\n\\t\\t</div>\\n\\t\\t\"; } o += \"\\n\\t</div>\\n\\t<a class=\\\"ets-pr-retake\\\" data-weave=\\\"troopjs-ef/blurb/widget\\\" data-blurb-id=\\\"660191\\\" data-text-en=\\\"Retake the test\\\"></a>\\n</div>\"; return o; }; });\n","define('school-ui-progress-report/widget/container/ge/level-test/legacy/main',[\n\t\"when\",\n\t\"poly\",\n\t\"jquery\",\n\t\"client-tracking\",\n\t\"troopjs-ef/component/widget\",\n\t\"template!../level-test.html\"\n], function (when, poly, $, ct, Widget, tLevelTest) {\n\t\"use strict\";\n\n\tvar UNIT_STRUCTURE_URL = \"/services/school/courseware/GetUnitStructure.ashx\";\n\tvar UNIT_SCORE_URL = \"/services/school/courseware/GetUnitScore.ashx\";\n\n\tvar SEL_STEPS = \".ets-pr-score-progress\";\n\tvar SEL_FLAG = \".ets-pr-flag\";\n\n\tvar $ELEMENT = \"$element\";\n\tvar SITE_VERSION = \"siteVersion\";\n\tvar LANGUAGE_CODE = \"languageCode\";\n\tvar PARTNER_CODE = \"partnerCode\";\n\tvar MEMBER_ID = \"memberid\";\n\tvar LEVEL_ID = \"_levelid\";\n\tvar RETAKE_LEVEL_ID = \"_retake_levelid\";\n\tvar CONTEXT = \"_context\";\n\tvar MARKET_CODE = \"marketCode\";\n\tvar DATA = \"_data\";\n\n\n\treturn Widget.extend({\n\t\t\"hub:memory/load/level\": function onLevel(page, data){\n\t\t\tvar me = this;\n\t\t\tme[RETAKE_LEVEL_ID] = data.level.legacyLevelId;\n\t\t\tme.query(\"leveltest_best_levelid!\" + data.level.levelCode).spread(function(data){\n\t\t\t\tme.render(me[CONTEXT], me[LEVEL_ID] = data && data.levelId);\n\t\t\t});\n\t\t},\n\t\t\"hub:memory/context\":function(context){\n\t\t\tvar me = this;\n\t\t\tif(context){\n\t\t\t\tme.render(me[CONTEXT] = context, me[LEVEL_ID]);\n\t\t\t}\n\t\t},\n\t\t\"render\" : function(context, levelId){\n\t\t\tvar me = this;\n\n\t\t\tif(context && levelId){\n\n\t\t\t\tme[SITE_VERSION] = context[SITE_VERSION];\n\t\t\t\tme[LANGUAGE_CODE] = context.cultureCode;\n\t\t\t\tme[PARTNER_CODE] = context[PARTNER_CODE];\n\t\t\t\tme[MEMBER_ID] = context.user.member_id;\n\t\t\t\tme[MARKET_CODE] = context.countryCode;\n\n\t\t\t\twhen.all([\n\t\t\t\t\tme.getUnitStructure(),\n\t\t\t\t\tme.getUnitScore()\n\t\t\t\t]).spread(function(unitStructure, unitScore){\n\t\t\t\t\tvar structure = unitStructure && unitStructure[0];\n\t\t\t\t\tvar score = unitScore && unitScore[0];\n\t\t\t\t\tvar passPercent;\n\t\t\t\t\tvar steps;\n\t\t\t\t\t//we need to calc this value, because backend service api do not cover this status\n\t\t\t\t\tvar attempted;\n\n\n\t\t\t\t\tif(structure && score){\n\t\t\t\t\t\tsteps = structure.Unit.Lessons[0].Steps.map(function(item, index){\n\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\tname : item.StepTypeName\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\tscore.Unit.Lessons[0].Steps.forEach(function(item, index){\n\t\t\t\t\t\t\tvar step = steps[index];\n\t\t\t\t\t\t\t//Step State:  2: Incomplete, 3: Complete\n\t\t\t\t\t\t\tattempted = attempted || item.State === 3;\n\n\t\t\t\t\t\t\tstep.correct = item.CorrectAnswerCount;\n\t\t\t\t\t\t\tstep.incorrect = item.QuestionCount - item.CorrectAnswerCount;\n\t\t\t\t\t\t\tstep.score = item.Score;\n\t\t\t\t\t\t\tstep.passed = item.Score >= structure.Unit.Lessons[0].StepPassPercent;\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\tme[DATA] = {\n\t\t\t\t\t\t\tretakeLevelId : me[RETAKE_LEVEL_ID],\n\t\t\t\t\t\t\tlevelId : me[LEVEL_ID],\n\t\t\t\t\t\t\toverallScore : score.Unit.Score,\n\t\t\t\t\t\t\tsteps : steps,\n\t\t\t\t\t\t\tpassPercent : structure.Unit.StepPassPercent,\n\t\t\t\t\t\t\t//Lesson State,  0： InProgress, 1: Passed\n\t\t\t\t\t\t\tpassed : score.Unit.Lessons[0].State === 1\n\t\t\t\t\t\t};\n\n\t\t\t\t\t\tif(attempted){\n\t\t\t\t\t\t\tme.html(tLevelTest, me[DATA]).delay(0).then(function(){\n\t\t\t\t\t\t\t\tvar $steps = me[$ELEMENT].find(SEL_STEPS);\n\t\t\t\t\t\t\t\t$steps.each(function(index, step){\n\t\t\t\t\t\t\t\t\t$(step).css({\n\t\t\t\t\t\t\t\t\t\twidth : me[DATA].steps[index].score + \"%\"\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\tme[$ELEMENT].empty();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t\telse{\n\t\t\t\tme[$ELEMENT].empty();\n\t\t\t}\n\n\t\t},\n\t\t\"getUnitStructure\" : function(){\n\t\t\tvar me = this;\n\t\t\treturn me[LEVEL_ID] && me.publish(\"ajax\", {\n\t\t\t\turl : UNIT_STRUCTURE_URL,\n\t\t\t\tdata : {\n\t\t\t\t\ttype : 1,\n\t\t\t\t\tshowBlurbs : 0,\n\t\t\t\t\tsiteVersion : me[SITE_VERSION],\n\t\t\t\t\tlanguageCode : me[LANGUAGE_CODE],\n\t\t\t\t\tpartnerCode : me[PARTNER_CODE],\n\t\t\t\t\tmemberid : me[MEMBER_ID],\n\t\t\t\t\tareaCode : \"Etown\",\n\t\t\t\t\tmarketCode : me[MARKET_CODE],\n\t\t\t\t\tcultureCode : me[LANGUAGE_CODE],\n\t\t\t\t\tlevelid : me[LEVEL_ID]\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\t\"getUnitScore\" : function(){\n\t\t\tvar me = this;\n\t\t\treturn me[LEVEL_ID] && me.publish(\"ajax\", {\n\t\t\t\turl : UNIT_SCORE_URL,\n\t\t\t\tdata : {\n\t\t\t\t\ttype : 2,\n\t\t\t\t\tsiteVersion : me[SITE_VERSION],\n\t\t\t\t\tlanguageCode : me[LANGUAGE_CODE],\n\t\t\t\t\tpartnerCode : me[PARTNER_CODE],\n\t\t\t\t\tmemberid : me[MEMBER_ID],\n\t\t\t\t\tlevelid : me[LEVEL_ID]\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\t\"dom:.ets-pr-retake/click\": function (evt) {\n\t\t\tvar me = this;\n\t\t\tct.useraction({\n\t\t\t\t\"action.levelTest\": \"1\"\n\t\t\t});\n\t\t\twindow.open(\"/school/content/leveltest.aspx?testid=\" + me[RETAKE_LEVEL_ID] + \"&isredo=true\");\n\t\t}\n\n\t});\n});\n\n","define('school-ui-progress-report/widget/container/ge/level-test/level-test-name',[\n\t\"when\",\n\t\"jquery\",\n\t\"troopjs-ef/component/widget\"\n], function (when, $, Widget, tLevelTestName) {\n\t\"use strict\";\n\n\treturn Widget.extend({\n\t\t\"sig/start\": function () {\n\t\t\tvar me = this;\n\n\t\t\tvar defaultNamePromise = me.query('blurb!660189').spread(function (blurbLevelTest) {\n\t\t\t\treturn blurbLevelTest.translation;\n\t\t\t});\n\t\t\tvar mappedNamePromise = me.query('ccl!\"school.courseware.level.mapping.query\"').spread(function (cclMappingQuery) {\n\t\t\t\tif (!cclMappingQuery.value) {\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\t\t\t\treturn me.query(cclMappingQuery.value).spread(function (mapped) {\n\t\t\t\t\treturn mapped.courseLevelTestNameMap;\n\t\t\t\t});\n\t\t\t});\n\n\t\t\treturn when.all([\n\t\t\t\tdefaultNamePromise,\n\t\t\t\tmappedNamePromise\n\t\t\t]).spread(function (defaultName, mappedName) {\n\t\t\t\tme.defaultName = defaultName;\n\t\t\t\tme.mappedName = mappedName;\n\t\t\t});\n\t\t},\n\t\t\"hub:memory/load/level\": function onLevel(page, data) {\n\t\t\tvar me = this;\n\t\t\tif (page === \"ge\") {\n\t\t\t\tvar levelCode = data.level.levelCode;\n\t\t\t\tvar levelTestName = me.mappedName && me.mappedName[levelCode] || me.defaultName || 'Level Test';\n\t\t\t\tme.text(levelTestName);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tme.text('');\n\t\t\t}\n\t\t}\n\t});\n});\n\n","define('school-ui-progress-report/widget/container/ge/level-test/platform2/main',[\n\t\"module\",\n\t\"jquery\",\n\t\"client-tracking\",\n\t\"troopjs-ef/component/widget\",\n\t\"school-ui-shared/utils/progress-state\",\n\t\"school-ui-progress-report/enum/score-state\",\n\t\"template!../level-test.html\"\n], function (module, $, ct, Widget, progressState, scoreState, tLevelTest) {\n\t\"use strict\";\n\n\tvar MODULE_CONFIG = $.extend({\n\t\tlevelTestPath: \"/school/content/leveltest.aspx\"\n\t}, module.config() || {});\n\n\tvar SEL_STEPS = \".ets-pr-score-progress\";\n\n\treturn Widget.extend(function (path, $element, page) {\n\t\tthis.page = page;\n\t}, {\n\t\t\"hub:memory/load/level\": function onLevel(page, data) {\n\t\t\tvar me = this;\n\n\t\t\tif (page !== me.page) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (!data.level.levelTest || data.level.levelTest.isTemplate) {\n\t\t\t\tme.$element.empty();\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar level = data.level;\n\t\t\tvar levelTest = data.level.levelTest;\n\t\t\tif (progressState.notStarted(levelTest.progress.state)) {\n\t\t\t\tme.$element.empty();\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tme.templateLevelId = level.templateLevelId;\n\n\t\t\tvar renderData = {\n\t\t\t\toverallScore: levelTest.progress.score,\n\t\t\t\tpassPercent: scoreState.passScore,\n\t\t\t\tpassed: progressState.hasPassed(levelTest.progress.state),\n\t\t\t\tsteps: levelTest.progress.testSections.sort(function(prev,next){\n\t\t\t\t\treturn (prev.sectionOrder || 0) - (next.sectionOrder || 0);\n\t\t\t\t}).map(function (sectionScoreInfo) {\n\t\t\t\t\treturn {\n\t\t\t\t\t\tname: sectionScoreInfo.sectionName,\n\t\t\t\t\t\tscore: sectionScoreInfo.score || 0,\n\t\t\t\t\t\tpassed: sectionScoreInfo.score >= scoreState.passScore\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t};\n\n\t\t\tme.html(tLevelTest, renderData).delay(0).then(function () {\n\t\t\t\tvar $steps = me.$element.find(SEL_STEPS);\n\t\t\t\t$steps.each(function (stepIndex, step) {\n\t\t\t\t\t$(step).width(renderData.steps[stepIndex].score + \"%\");\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\t\"dom:.ets-pr-retake/click\": function (evt) {\n\t\t\tvar me = this;\n\t\t\tct.useraction({\n\t\t\t\t\"action.levelTest\": \"1\"\n\t\t\t});\n\t\t\twindow.open((MODULE_CONFIG.levelTestPath || \"/school/content/leveltest.aspx\") + \"?testid=\" + me.templateLevelId + \"&isredo=true\");\n\t\t}\n\n\t});\n});\n\n","define('school-ui-progress-report/widget/container/ge/level-test/version-selector',[\n\t\"jquery\",\n\t\"troopjs-ef/component/widget\"\n], function ($, Widget) {\n\t\"use strict\";\n\n\tvar MSS_LEVEL_TEST_VERSION = \"member_site_setting!'school;student.leveltest.version'\";\n\n\treturn Widget.extend(function (path, $element, page) {\n\t\tthis.page = page;\n\t}, {\n\t\t\"sig/start\": function () {\n\t\t\tvar me = this;\n\n\t\t\tme.query(MSS_LEVEL_TEST_VERSION).spread(function (mssLevelTestVersion) {\n\t\t\t\tvar levelTestWidget = \"school-ui-progress-report/widget/container/ge/level-test/\";\n\n\t\t\t\tvar levelTestVersion = parseInt(mssLevelTestVersion && mssLevelTestVersion.value || 1);\n\t\t\t\tif (levelTestVersion === 1) {\n\t\t\t\t\tlevelTestWidget += \"legacy/main('\" + me.page + \"')\";\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tlevelTestWidget += \"platform2/main('\" + me.page + \"')\";\n\t\t\t\t}\n\n\t\t\t\tvar $widget = $('<div></div>', {\n\t\t\t\t\t\"data-weave\": levelTestWidget\n\t\t\t\t});\n\t\t\t\tme.$element.replaceWith($widget);\n\t\t\t\t$widget.weave();\n\t\t\t});\n\t\t}\n\t});\n});\n","\ndefine('troopjs-requirejs/template!school-ui-progress-report/widget/container/ge/ge.html',[],function() { return function template(data) { var o = \"<div class=\\\"ets-pr-header\\\">\\n\\t<div class=\\\"ets-pr-header-nav\\\" data-weave=\\\"school-ui-progress-report/widget/container/ge/level-navigation/main('initData')\\\"></div>\\n\\t<div class=\\\"ets-pr-level-info ets-pr-header-content\\\" data-weave=\\\"school-ui-progress-report/widget/shared/level-info/main('ge')\\\"></div>\\n</div>\\n<div class=\\\"ets-pr-body\\\">\\n\\t<div class=\\\"ets-pr-content\\\">\\n\\t\\t<div class=\\\"ets-pr-unit\\\">\\n\\t\\t\\t<div class=\\\"ets-pr-unit-list\\\" data-weave=\\\"school-ui-progress-report/widget/shared/unit-list/normal/main('ge', 'initData')\\\"></div>\\n\\t\\t\\t<div class=\\\"ets-pr-level-test\\\" data-weave=\\\"school-ui-progress-report/widget/container/ge/level-test/version-selector('ge')\\\"></div>\\n\\t\\t\\t<div class=\\\"ets-pr-unit-list-e10-archive\\\" data-weave=\\\"school-ui-progress-report/widget/shared/unit-list/e10-archive/main('ge', 'initData')\\\"></div>\\n\\t\\t</div>\\n\\t</div>\\n</div>\"; return o; }; });\n","define('school-ui-progress-report/widget/container/ge/main',[\n\t\"jquery\",\n\t\"troopjs-ef/component/widget\",\n\t\"template!./ge.html\"\n], function ($, Widget, tGe) {\n\t\"use strict\";\n\n\tvar INIT_DATA = \"_init_data\";\n\n\tvar $ELEMENT = \"$element\";\n\n\treturn Widget.extend(function($element, path, initData){\n\t\tthis[INIT_DATA] = initData;\n\t},{\n\t\t'sig/start' : function(){\n\t\t\tvar me = this;\n\t\t\tme[$ELEMENT].html(tGe());\n\t\t\tme[$ELEMENT].find(\".ets-pr-header-nav\").data(\"initData\", me[INIT_DATA]);\n\t\t\tme[$ELEMENT].find(\".ets-pr-ge-level-info\").data(\"initData\", me[INIT_DATA]);\n\t\t\tme[$ELEMENT].find(\".ets-pr-unit-list\").data(\"initData\", me[INIT_DATA]);\n\t\t\tme[$ELEMENT].find(\".ets-pr-unit-list-e10-archive\").data(\"initData\", me[INIT_DATA]);\n\t\t\treturn me.weave();\n\t\t}\n\t});\n});\n","\ndefine('troopjs-requirejs/template!school-ui-progress-report/widget/container/ind/ind-navigation/ind-navigation.html',[],function() { return function template(data) { var o = \"\";\nvar cardsPerPage = data.cardsPerPage;\nvar spinCards = data.spinCards;\n\nfunction renderSpinCard(spinCard) {\n\tvar classes = ['ets-pr-spin-nav-card'];\n\tif (spinCard.levelId === data.selectedLevelId) {\n\t\tclasses.push('ets-pr-selected');\n\t}\n\t// be careful not to leave line return or spaces around cards\no += \"<span class=\\\"\" +classes.join(' ')+ \"\\\" data-id=\\\"\" +spinCard.levelId+ \"\\\" data-archive-e13-level-id=\\\"\" +(spinCard.archiveId && spinCard.archiveId.e13 || '') + \"\\\">\\n\\t<span class=\\\"ets-pr-spin-nav-card-header\\\">\\n\\t\\t<span class=\\\"ets-pr-spin-nav-card-image\\\"></span>\\n\\t</span>\\n\\t<span class=\\\"ets-pr-spin-nav-card-content\\\">\\n\\t\\t<span class=\\\"ets-pr-spin-nav-card-course\\\">\" +spinCard.courseName+ \"</span>\\n\\t\\t<span class=\\\"ets-pr-spin-nav-card-level\\\">\" +spinCard.levelName+ \"</span>\\n\\t</span>\\n\\t<span data-state=\\\"\" +spinCard.state+ \"\\\" data-id=\\\"\" +spinCard.levelId+ \"\\\"\\n\\t      class=\\\"ets-pr-spin-nav-card-progress\\\"\\n\\t     data-weave=\\\"school-ui-progress-report/widget/container/ind/ind-navigation/state-circle\\\"></span>\\n</span>\";\n}\n\nfunction renderSpinCardsPage(pageCards, pageIndex) {\n\tvar classes = ['ets-pr-spin-nav-page'];\n\tif (pageIndex !== data.selectedPage) {\n\t\tclasses.push('ets-none');\n\t}\no += \"<div class=\\\"\" +classes.join(' ')+ \"\\\">\";\n\tpageCards.forEach(renderSpinCard);\no += \"</div>\";\n}\n\n\n// TEMPLATE BEGIN\n\no += \"\\n<div class=\\\"ets-pr-spin-nav ets-pr-header-content\\\">\\n\";\n\tvar pageIndex = 0;\n\tfor (var cardIndex = 0; cardIndex < spinCards.length; cardIndex+=cardsPerPage) {\n\t\tvar pageCards = spinCards.slice(cardIndex, cardIndex+cardsPerPage);\n\t\trenderSpinCardsPage(pageCards, pageIndex);\n\t\t++pageIndex;\n\t}\no += \"\\n\"; if (spinCards.length > cardsPerPage) { o += \"\\n\\t<div data-weave=\\\"school-ui-shared/widget/vector('school-ui-progress-report/vector/ico_spin_previous_page',11,21)\\\"\\n\\t     class=\\\"ets-pr-spin-nav-previous-page ets-pr-disabled\\\" data-action=\\\"previous-page\\\"></div>\\n\\t<div data-weave=\\\"school-ui-shared/widget/vector('school-ui-progress-report/vector/ico_spin_next_page',11,21)\\\"\\n\\t     class=\\\"ets-pr-spin-nav-next-page ets-pr-disabled\\\" data-action=\\\"next-page\\\"></div>\\n\\t<div class=\\\"ets-pr-spin-nav-pagination\\\" data-weave=\\\"troopjs-ef/blurb/widget\\\"\\n\\t     data-blurb-id=\\\"694984\\\" data-text-en=\\\"^number^ / ^total^\\\"\\n\\t     data-values=\\\"{&quot;total&quot;:\" +String(data.maxPageIndex+1)+ \"}\\\">\\n\\t\\t<span class=\\\"ets-pr-spin-nav-page-num\\\" data-value-name=\\\"number\\\"></span>\\n\\t</div>\\n\"; } o += \"\\n\"; if (spinCards.length === 0) { o += \"\\n\\t<div class=\\\"ets-pr-header-no-course\\\">\\n\\t\\t<div class=\\\"ets-pr-header-no-course-content\\\">\\n\\t\\t\\t<div class=\\\"ets-pr-header-content-start\\\" data-weave=\\\"troopjs-ef/blurb/widget\\\" data-blurb-id=\\\"719531\\\"></div>\\n\\t\\t\\t<div class=\\\"ets-pr-header-content-detail\\\" data-weave=\\\"troopjs-ef/blurb/widget\\\" data-blurb-id=\\\"719532\\\"></div>\\n\\t\\t</div>\\n\\t</div>\\n\"; } o += \"\\n</div>\\n<div class=\\\"ets-pr-nav-bottom-border\\\"></div>\"; return o; }; });\n","\ndefine('troopjs-requirejs/template!school-ui-progress-report/widget/container/ind/ind-navigation/ind-card-image.html',[],function() { return function template(data) { var o = \"<div style=\\\"background-image: url('\" +data.imageUrl+ \"')\\\"\\n\\t\\tclass=\\\"ets-pr-spin-nav-card-image\\\"></div>\"; return o; }; });\n","define('school-ui-progress-report/widget/container/ind/ind-navigation/main',[\n\t\"poly\",\n\t\"jquery\",\n\t\"when\",\n\t\"shadow!jquery.jscrollpane#$=jquery&jQuery=jquery&exports=jQuery\",\n\t\"shadow!jquery.mousewheel#$=jquery&jQuery=jquery&exports=jQuery\",\n\t\"troopjs-ef/component/widget\",\n\t\"school-ui-progress-report/utils/load\",\n\t\"school-ui-shared/utils/progress-state\",\n\t\"template!./ind-navigation.html\",\n\t\"template!./ind-card-image.html\"\n], function (\n\tpoly,\n\t$,\n\twhen,\n\tjScrollPane,\n\tmouseWheel,\n\tWidget,\n\tLoad,\n\tprogressState,\n\ttemplate,\n\timageTemplate\n) {\n\t\"use strict\";\n\n\tvar $ELEMENT = \"$element\";\n\tvar SPIN_CARDS = '_spinCards';\n\tvar MAX_PAGE_INDEX = '_maxPageIndex';\n\tvar SELECTED_PAGE = '_selectedPage';\n\tvar QUERIED_PAGE_IMAGES = '_queriedPageImages';\n\tvar HTML_PROMISE = '_htmlPromise';\n\n\tvar CLS_SELECTED = \"ets-pr-selected\";\n\tvar CLS_NONE = 'ets-none';\n\tvar CLS_DISABLED = 'ets-pr-disabled';\n\n\tvar SEL_CARD = '.ets-pr-spin-nav-card';\n\tvar SEL_PAGE = '.ets-pr-spin-nav-page';\n\tvar SEL_CARD_IMAGE = '.ets-pr-spin-nav-card-image';\n\tvar SEL_SELECTED = '.' + CLS_SELECTED;\n\tvar SEL_PAGE_NUM = '.ets-pr-spin-nav-page-num';\n\tvar SEL_PREVIOUS_PAGE_BUTTON = '.ets-pr-spin-nav-previous-page';\n\tvar SEL_NEXT_PAGE_BUTTON = '.ets-pr-spin-nav-next-page';\n\n\tvar CARDS_PER_PAGE = 3;\n\n\tfunction hasLevelProgressOrIsCurrent(studentLevel, currentEnroll) {\n\t\treturn \t(studentLevel && studentLevel.progress && studentLevel.progress.state) ||\n\t\t\t(studentLevel.id === currentEnroll.studentLevel.id);\n\t}\n\n\tfunction compareCourses(prev, next) {\n\t\treturn prev.children.length - next.children.length;\n\t}\n\n\tfunction computeSpinCards(initData) {\n\t\tvar currentEnroll = initData.currentEnroll;\n\t\tvar courses = initData.course.slice(0); // clone array\n\t\tcourses.sort(compareCourses);\n\t\tvar spinCards = [];\n\t\tcourses.forEach(function (course) {\n\t\t\tcourse.children.forEach(function (level) {\n\t\t\t\tif (hasLevelProgressOrIsCurrent(level, currentEnroll)) {\n\t\t\t\t\tvar current = level.studentLevelId === currentEnroll.studentLevelId;\n\t\t\t\t\tvar passed = progressState.hasPassed(level.progress.state);\n\t\t\t\t\tvar state;\n\t\t\t\t\tif (passed) {\n\t\t\t\t\t\tstate = 'passed';\n\t\t\t\t\t} else if (current) {\n\t\t\t\t\t\tstate = 'current';\n\t\t\t\t\t} else {\n\t\t\t\t\t\tstate = 'progress';\n\t\t\t\t\t}\n\t\t\t\t\tspinCards.push({\n\t\t\t\t\t\tcourseName: course.courseName,\n\t\t\t\t\t\tlevelId: level.id,\n\t\t\t\t\t\tlevelName: level.levelName,\n\t\t\t\t\t\tfirstUnitId: level.children[0].id,\n\t\t\t\t\t\tstate: state,\n\t\t\t\t\t\tcurrent: current,\n\t\t\t\t\t\tarchiveId: {\n\t\t\t\t\t\t\te13: level.archiveId && level.archiveId.e13\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t\treturn spinCards;\n\t}\n\n\tfunction quietQuery(queries) {\n\t\t// don't use this.query to avoid displaying spinner on page change\n\t\treturn this.publish('query', queries);\n\t}\n\n\tfunction showSelectedPageImages() {\n\t\tvar me = this;\n\t\tvar pageIndex = me[SELECTED_PAGE];\n\t\tif (me[QUERIED_PAGE_IMAGES][pageIndex]) {\n\t\t\treturn; // already queried images for this page\n\t\t}\n\t\tme[QUERIED_PAGE_IMAGES][pageIndex] = true;\n\t\tvar queriedSpinCards = me[SPIN_CARDS].slice(pageIndex * CARDS_PER_PAGE, (pageIndex + 1) * CARDS_PER_PAGE);\n\t\tvar queries = queriedSpinCards.map(function (spinCard) {\n\t\t\treturn spinCard.firstUnitId + '.unitImage';\n\t\t});\n\t\tvar htmlPromise = me[HTML_PROMISE];\n\t\treturn when.all([\n\t\t\tquietQuery.call(me, queries),\n\t\t\thtmlPromise\n\t\t]).spread(function (units) {\n\t\t\tif (htmlPromise !== me[HTML_PROMISE]) {\n\t\t\t\treturn; // race condition check\n\t\t\t}\n\t\t\tvar $element = me[$ELEMENT];\n\t\t\tqueriedSpinCards.forEach(function (spinCard, index) {\n\t\t\t\tvar unit = units[index];\n\t\t\t\tif (unit.unitImage && unit.unitImage.url) {\n\t\t\t\t\t$element.find(SEL_CARD + '[data-id=\"' + spinCard.levelId + '\"] ' + SEL_CARD_IMAGE)\n\t\t\t\t\t\t.css('background-image', \"url('\" + unit.unitImage.url + \"')\");\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t}\n\n\tfunction updateShownPage() {\n\t\tvar me = this;\n\t\tvar selectedPage = me[SELECTED_PAGE];\n\t\tvar maxPageIndex = me[MAX_PAGE_INDEX];\n\t\tvar $element = me[$ELEMENT];\n\n\t\tvar $pages = $element.find(SEL_PAGE);\n\t\t$pages.addClass(CLS_NONE);\n\t\tvar $selectedPage = $pages.eq(selectedPage);\n\t\t$selectedPage.removeClass(CLS_NONE);\n\t\tvar pageNumText = String(selectedPage + 1);\n\t\t$element.find(SEL_PAGE_NUM).text(pageNumText);\n\t\t$element.find(SEL_PREVIOUS_PAGE_BUTTON)\n\t\t\t.toggleClass(CLS_DISABLED, selectedPage === 0);\n\t\t$element.find(SEL_NEXT_PAGE_BUTTON)\n\t\t\t.toggleClass(CLS_DISABLED, selectedPage >= maxPageIndex);\n\n\t\tshowSelectedPageImages.call(me);\n\t}\n\n\tfunction selectLevel(levelId, archiveId) {\n\t\tvar me = this;\n\t\tme.publish('progress-report/spin/state-circle/selected', levelId);\n\t\tLoad.loadLevel(\"ind\", levelId, archiveId);\n\t}\n\n\treturn Widget.extend(function ($element, name, initData) {\n\t\tthis[SPIN_CARDS] = computeSpinCards(initData);\n\t\tthis[MAX_PAGE_INDEX] = Math.floor((this[SPIN_CARDS].length - 1) / CARDS_PER_PAGE);\n\t\tthis[QUERIED_PAGE_IMAGES] = {}; // mapping page index -> boolean (true if queried)\n\t\tthis[HTML_PROMISE] = null;\n\t}, {\n\t\t\"sig/start\": function () {\n\t\t\tvar me = this;\n\t\t\tvar spinCards = this[SPIN_CARDS];\n\n\t\t\tvar selectedPage = 0;\n\t\t\tvar selectedSpinCard = spinCards[0];\n\t\t\tspinCards.every(function (spinCard, cardIndex) {\n\t\t\t\tif (spinCard.current) {\n\t\t\t\t\tselectedSpinCard = spinCard;\n\t\t\t\t\tselectedPage = Math.floor(cardIndex / CARDS_PER_PAGE);\n\t\t\t\t\treturn false;\n\t\t\t\t} else {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t});\n\t\t\tvar selectedLevelId = selectedSpinCard && selectedSpinCard.levelId;\n\t\t\tvar selectedArchiveLevelId = selectedSpinCard && selectedSpinCard.archiveId;\n\n\t\t\tme[SELECTED_PAGE] = selectedPage;\n\n\t\t\tme[QUERIED_PAGE_IMAGES] = {};\n\t\t\tme[HTML_PROMISE] = me.html(template, {\n\t\t\t\tselectedLevelId: selectedLevelId,\n\t\t\t\tselectedPage: selectedPage,\n\t\t\t\tspinCards: spinCards,\n\t\t\t\tcardsPerPage: CARDS_PER_PAGE,\n\t\t\t\tmaxPageIndex: me[MAX_PAGE_INDEX]\n\t\t\t}).then(function(){\n\t\t\t\tupdateShownPage.call(me);\n\t\t\t});\n\n\t\t\tshowSelectedPageImages.call(me); // early query of current page images\n\t\t\tselectLevel.call(me, selectedLevelId, selectedArchiveLevelId);\n\t\t},\n\t\t\"sig/stop\": function () {\n\t\t\tthis[QUERIED_PAGE_IMAGES] = {};\n\t\t\tthis[HTML_PROMISE] = null;\n\t\t},\n\t\t\"dom:[data-action=previous-page]/click\": function () {\n\t\t\tvar me = this;\n\t\t\tif (me[SELECTED_PAGE] > 0) {\n\t\t\t\tme[SELECTED_PAGE] -= 1;\n\t\t\t\tupdateShownPage.call(me);\n\t\t\t}\n\t\t},\n\t\t\"dom:[data-action=next-page]/click\": function () {\n\t\t\tvar me = this;\n\t\t\tif (me[SELECTED_PAGE] < me[MAX_PAGE_INDEX]) {\n\t\t\t\tme[SELECTED_PAGE] += 1;\n\t\t\t\tupdateShownPage.call(me);\n\t\t\t}\n\t\t},\n\t\t\"dom:.ets-pr-spin-nav-card/click\": function (evt) {\n\t\t\tvar me = this;\n\t\t\tvar $target = $(evt.currentTarget);\n\t\t\tif (!$target.hasClass(CLS_SELECTED)) {\n\t\t\t\tvar levelId = $target.data(\"id\");\n\t\t\t\tvar archiveE13LevelId=$target.data(\"archiveE13LevelId\");\n\t\t\t\tme[$ELEMENT].find(SEL_SELECTED).removeClass(CLS_SELECTED);\n\t\t\t\t$target.addClass(CLS_SELECTED);\n\t\t\t\tselectLevel.call(me, levelId, {e13: archiveE13LevelId});\n\t\t\t}\n\t\t}\n\t});\n});\n\n","define('school-ui-progress-report/widget/container/ind/ind-navigation/state-circle',[\n\t\"school-ui-progress-report/widget/shared/state-circle/main\"\n], function (StateCircleWidget) {\n\t\"use strict\";\n\n\treturn StateCircleWidget.extend({\n\t\t\"hub:memory/progress-report/spin/state-circle/selected\": function (selectedId) {\n\t\t\tthis.setSelected(selectedId);\n\t\t}\n\t});\n});\n","\ndefine('troopjs-requirejs/template!school-ui-progress-report/widget/container/ind/ind.html',[],function() { return function template(data) { var o = \"<div class=\\\"ets-pr-header\\\">\\n\\t<div class=\\\"ets-pr-header-nav\\\" data-weave=\\\"school-ui-progress-report/widget/container/ind/ind-navigation/main('initData')\\\"></div>\\n\\t<div class=\\\"ets-pr-level-info ets-pr-header-content\\\" data-weave=\\\"school-ui-progress-report/widget/shared/level-info/main('ind')\\\"></div>\\n</div>\\n<div class=\\\"ets-pr-body\\\">\\n\\t<div class=\\\"ets-pr-content\\\">\\n\\t\\t<div class=\\\"ets-pr-unit\\\">\\n\\t\\t\\t<div class=\\\"ets-pr-unit-list\\\" data-weave=\\\"school-ui-progress-report/widget/shared/unit-list/normal/main('ind','initData')\\\"></div>\\n\\t\\t</div>\\n\\t</div>\\n</div>\"; return o; }; });\n","define('school-ui-progress-report/widget/container/ind/main',[\n\t\"jquery\",\n\t\"troopjs-ef/component/widget\",\n\t\"school-ui-progress-report/utils/load\",\n\t\"template!./ind.html\"\n], function ($, Widget, Load, tSpin) {\n\t\"use strict\";\n\n\tvar INIT_DATA = \"_init_data\";\n\tvar $ELEMENT = \"$element\";\n\n\treturn Widget.extend(function ($element, path, initData) {\n\t\tthis[INIT_DATA] = initData;\n\t}, {\n\t\t\"sig/start\": function () {\n\t\t\tvar me = this;\n\t\t\tme[$ELEMENT].html(tSpin());\n\t\t\tme[$ELEMENT].find(\".ets-pr-header-nav\").data(\"initData\", me[INIT_DATA]);\n\t\t\tme[$ELEMENT].find(\".ets-pr-unit-list\").data(\"initData\", me[INIT_DATA]);\n\t\t\treturn me.weave();\n\t\t}\n\t});\n});\n\n","define('school-ui-progress-report/widget/container/main',[\n\t\"jquery\",\n\t\"when\",\n\t\"poly\",\n\t\"client-tracking\",\n\t\"troopjs-ef/component/widget\",\n\t\"school-ui-shared/enum/course-type\"\n], function ($, when, poly, ct, Widget, courseType) {\n\t\"use strict\";\n\n\tvar $ELEMENT = \"$element\";\n\n\tvar CLS_NONE = \"ets-none\";\n\tvar CLS_CONTAINER = \"ets-pr-container\";\n\tvar CLS_CONTAINER_ITEM = \"ets-pr-container-item\";\n\n\tvar COURSE = \"enrollable_course\";\n\tvar ENROLL = \"current_enroll\";\n\tvar FEEDBACKS= \"feedbacks\";\n\tvar TEST_RESULTS_WIDGET = \"test_results_widget\";\n\tvar DATA = \"_data\";\n\tvar PAGENAME = \"_pagename\";\n\n\tfunction initContainer(tabName, initData) {\n\t\tvar me = this;\n\t\tvar widgetClass = CLS_CONTAINER + \"-\" + tabName;\n\t\tvar $widget = me[$ELEMENT].find(\".\" + widgetClass);\n\t\tif ($widget.length === 0) {\n\t\t\t$widget = $(\"<div/>\", {\n\t\t\t\t\"class\": widgetClass + \" \" + CLS_CONTAINER_ITEM + \" \" + CLS_NONE,\n\t\t\t\t\"data-weave\": \"school-ui-progress-report/widget/container/\" + tabName + \"/main(initData)\"\n\t\t\t})\n\t\t\t.data(\"initData\", initData)\n\t\t\t.appendTo(me[$ELEMENT]);\n\n\t\t\tswitchContainer($widget);\n\t\t\treturn $widget.weave();\n\t\t}\n\t\telse {\n\t\t\tswitchContainer($widget);\n\n\t\t\tct.pagename(me[\"_\" + tabName + \"_\" + PAGENAME]);\n\n\t\t\treturn when.resolve();\n\t\t}\n\t}\n\n\tfunction switchContainer($container) {\n\t\t$container.removeClass(CLS_NONE).siblings().addClass(CLS_NONE);\n\t}\n\n\treturn Widget.extend(function(){\n\t\tvar me = this;\n\t\tme[DATA] = me[$ELEMENT].data(\"assets\");\n\t},{\n\t\t\"hub:memory/navigate/to\": function (uri) {\n\t\t\tvar me = this;\n\t\t\tvar tabName;\n\n\t\t\tswitch (uri.path.toString()) {\n\t\t\t\tcase \"general-english\":\n\t\t\t\t\ttabName = \"ge\";\n\n\t\t\t\t\tme[DATA][COURSE].items.forEach(function(entry, entryIndex){\n\t\t\t\t\t\tif(courseType.isGECourse(entry.courseTypeCode)) {\n\t\t\t\t\t\t\tinitContainer.call(me, tabName, {\n\t\t\t\t\t\t\t\t\"course\": entry,\n\t\t\t\t\t\t\t\t\"currentEnroll\": me[DATA][ENROLL]\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\n\t\t\t\t\tbreak;\n        case \"business-english\":\n          tabName = \"be\";\n          var course_list = [];\n          me[DATA][COURSE].items.forEach(function(entry, entryIndex){\n            if(courseType.BusinessEnglish === entry.courseTypeCode) {\n              course_list.push(entry);\n            }\n          });\n\n          initContainer.call(me, tabName, {\n            \"course\": course_list,\n            \"currentEnroll\": me[DATA][ENROLL]\n          });\n\n          break;\n        case \"industry-english\":\n          tabName = \"ind\";\n          var course_list = [];\n          me[DATA][COURSE].items.forEach(function(entry, entryIndex){\n            if(courseType.IndustryEnglish === entry.courseTypeCode) {\n              course_list.push(entry);\n            }\n          });\n          initContainer.call(me, tabName, {\n            \"course\": course_list,\n            \"currentEnroll\": me[DATA][ENROLL]\n          });\n\n          break;\n\t\t\t\tcase \"special-interest-courses\":\n\t\t\t\t\ttabName = \"spin\";\n\n\t\t\t\t\tvar course_list = [];\n\t\t\t\t\tme[DATA][COURSE].items.forEach(function(entry, entryIndex){\n\t\t\t\t\t\tif(courseType.isSpinCourse(entry.courseTypeCode)) {\n\t\t\t\t\t\t\tcourse_list.push(entry);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\n\t\t\t\t\tinitContainer.call(me, tabName, {\n\t\t\t\t\t\t\"course\": course_list,\n\t\t\t\t\t\t\"currentEnroll\": me[DATA][ENROLL]\n\t\t\t\t\t});\n\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"teacher-feedback\":\n\t\t\t\t\ttabName = \"feedback\";\n\n\t\t\t\t\tinitContainer.call(me, tabName, {\n\t\t\t\t\t\tfeedbacks: me[DATA][FEEDBACKS],\n\t\t\t\t\t\t\"fb_id\": uri.query && uri.query.fb_id\n\t\t\t\t\t}).then(function(){\n\t\t\t\t\t\tct.pagename(\"ProgressReport:TeacherFeedback\");\n\t\t\t\t\t});\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"test-results\":\n\t\t\t\t\ttabName = \"test-results\";\n\n\t\t\t\t\tinitContainer.call(me, tabName, me[DATA][TEST_RESULTS_WIDGET]).then(function(){\n\t\t\t\t\t\tct.pagename(\"ProgressReport:TestResults\");\n\t\t\t\t\t});\n\t\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\treturn when.resolve();\n\t\t},\n\n\t\t\"hub/tracking/pagename\": function(courseType, pagename) {\n\t\t\tvar me = this;\n\t\t\tme[\"_\" + courseType + \"_\" + PAGENAME] = pagename;\n\t\t}\n\t});\n});\n","\ndefine('troopjs-requirejs/template!school-ui-progress-report/widget/container/spin/spin.html',[],function() { return function template(data) { var o = \"<div class=\\\"ets-pr-header\\\">\\n\\t<div class=\\\"ets-pr-header-nav\\\" data-weave=\\\"school-ui-progress-report/widget/container/spin/spin-navigation/main('initData')\\\"></div>\\n\\t<div class=\\\"ets-pr-level-info ets-pr-header-content\\\" data-weave=\\\"school-ui-progress-report/widget/shared/level-info/main('spin')\\\"></div>\\n</div>\\n<div class=\\\"ets-pr-body\\\">\\n\\t<div class=\\\"ets-pr-content\\\">\\n\\t\\t<div class=\\\"ets-pr-unit\\\">\\n\\t\\t\\t<div class=\\\"ets-pr-unit-list\\\" data-weave=\\\"school-ui-progress-report/widget/shared/unit-list/normal/main('spin','initData')\\\"></div>\\n\\t\\t</div>\\n\\t</div>\\n</div>\"; return o; }; });\n","define('school-ui-progress-report/widget/container/spin/main',[\n\t\"jquery\",\n\t\"troopjs-ef/component/widget\",\n\t\"school-ui-progress-report/utils/load\",\n\t\"template!./spin.html\"\n], function ($, Widget, Load, tSpin) {\n\t\"use strict\";\n\n\tvar INIT_DATA = \"_init_data\";\n\tvar $ELEMENT = \"$element\";\n\n\treturn Widget.extend(function ($element, path, initData) {\n\t\tthis[INIT_DATA] = initData;\n\t}, {\n\t\t\"sig/start\": function () {\n\t\t\tvar me = this;\n\t\t\tme[$ELEMENT].html(tSpin());\n\t\t\tme[$ELEMENT].find(\".ets-pr-header-nav\").data(\"initData\", me[INIT_DATA]);\n\t\t\tme[$ELEMENT].find(\".ets-pr-unit-list\").data(\"initData\", me[INIT_DATA]);\n\t\t\treturn me.weave();\n\t\t}\n\t});\n});\n\n","\ndefine('troopjs-requirejs/template!school-ui-progress-report/widget/container/spin/spin-navigation/spin-navigation.html',[],function() { return function template(data) { var o = \"\";\nvar cardsPerPage = data.cardsPerPage;\nvar spinCards = data.spinCards;\n\nfunction renderSpinCard(spinCard) {\n\tvar classes = ['ets-pr-spin-nav-card'];\n\tif (spinCard.levelId === data.selectedLevelId) {\n\t\tclasses.push('ets-pr-selected');\n\t}\n\t// be careful not to leave line return or spaces around cards\no += \"<span class=\\\"\" +classes.join(' ')+ \"\\\" data-id=\\\"\" +spinCard.levelId+ \"\\\" data-archive-e13-level-id=\\\"\" +(spinCard.archiveId && spinCard.archiveId.e13 || '') + \"\\\">\\n\\t<span class=\\\"ets-pr-spin-nav-card-header\\\">\\n\\t\\t<span class=\\\"ets-pr-spin-nav-card-image\\\"></span>\\n\\t</span>\\n\\t<span class=\\\"ets-pr-spin-nav-card-content\\\">\\n\\t\\t<span class=\\\"ets-pr-spin-nav-card-course\\\">\" +spinCard.courseName+ \"</span>\\n\\t\\t<span class=\\\"ets-pr-spin-nav-card-level\\\">\" +spinCard.levelName+ \"</span>\\n\\t</span>\\n\\t<span data-state=\\\"\" +spinCard.state+ \"\\\" data-id=\\\"\" +spinCard.levelId+ \"\\\"\\n\\t      class=\\\"ets-pr-spin-nav-card-progress\\\"\\n\\t     data-weave=\\\"school-ui-progress-report/widget/container/spin/spin-navigation/state-circle\\\"></span>\\n</span>\";\n}\n\nfunction renderSpinCardsPage(pageCards, pageIndex) {\n\tvar classes = ['ets-pr-spin-nav-page'];\n\tif (pageIndex !== data.selectedPage) {\n\t\tclasses.push('ets-none');\n\t}\no += \"<div class=\\\"\" +classes.join(' ')+ \"\\\">\";\n\tpageCards.forEach(renderSpinCard);\no += \"</div>\";\n}\n\n\n// TEMPLATE BEGIN\n\no += \"\\n<div class=\\\"ets-pr-spin-nav ets-pr-header-content\\\">\\n\";\n\tvar pageIndex = 0;\n\tfor (var cardIndex = 0; cardIndex < spinCards.length; cardIndex+=cardsPerPage) {\n\t\tvar pageCards = spinCards.slice(cardIndex, cardIndex+cardsPerPage);\n\t\trenderSpinCardsPage(pageCards, pageIndex);\n\t\t++pageIndex;\n\t}\no += \"\\n\"; if (spinCards.length > cardsPerPage) { o += \"\\n\\t<div data-weave=\\\"school-ui-shared/widget/vector('school-ui-progress-report/vector/ico_spin_previous_page',11,21)\\\"\\n\\t     class=\\\"ets-pr-spin-nav-previous-page ets-pr-disabled\\\" data-action=\\\"previous-page\\\"></div>\\n\\t<div data-weave=\\\"school-ui-shared/widget/vector('school-ui-progress-report/vector/ico_spin_next_page',11,21)\\\"\\n\\t     class=\\\"ets-pr-spin-nav-next-page ets-pr-disabled\\\" data-action=\\\"next-page\\\"></div>\\n\\t<div class=\\\"ets-pr-spin-nav-pagination\\\" data-weave=\\\"troopjs-ef/blurb/widget\\\"\\n\\t     data-blurb-id=\\\"694984\\\" data-text-en=\\\"^number^ / ^total^\\\"\\n\\t     data-values=\\\"{&quot;total&quot;:\" +String(data.maxPageIndex+1)+ \"}\\\">\\n\\t\\t<span class=\\\"ets-pr-spin-nav-page-num\\\" data-value-name=\\\"number\\\"></span>\\n\\t</div>\\n\"; } o += \"\\n</div>\\n<div class=\\\"ets-pr-nav-bottom-border\\\"></div>\"; return o; }; });\n","\ndefine('troopjs-requirejs/template!school-ui-progress-report/widget/container/spin/spin-navigation/spin-card-image.html',[],function() { return function template(data) { var o = \"<div style=\\\"background-image: url('\" +data.imageUrl+ \"')\\\"\\n\\t\\tclass=\\\"ets-pr-spin-nav-card-image\\\"></div>\"; return o; }; });\n","define('school-ui-progress-report/widget/container/spin/spin-navigation/main',[\n\t\"poly\",\n\t\"jquery\",\n\t\"when\",\n\t\"shadow!jquery.jscrollpane#$=jquery&jQuery=jquery&exports=jQuery\",\n\t\"shadow!jquery.mousewheel#$=jquery&jQuery=jquery&exports=jQuery\",\n\t\"troopjs-ef/component/widget\",\n\t\"school-ui-progress-report/utils/load\",\n\t\"school-ui-shared/utils/progress-state\",\n\t\"template!./spin-navigation.html\",\n\t\"template!./spin-card-image.html\"\n], function (\n\tpoly,\n\t$,\n\twhen,\n\tjScrollPane,\n\tmouseWheel,\n\tWidget,\n\tLoad,\n\tprogressState,\n\ttemplate,\n\timageTemplate\n) {\n\t\"use strict\";\n\n\tvar $ELEMENT = \"$element\";\n\tvar SPIN_CARDS = '_spinCards';\n\tvar MAX_PAGE_INDEX = '_maxPageIndex';\n\tvar SELECTED_PAGE = '_selectedPage';\n\tvar QUERIED_PAGE_IMAGES = '_queriedPageImages';\n\tvar HTML_PROMISE = '_htmlPromise';\n\n\tvar CLS_SELECTED = \"ets-pr-selected\";\n\tvar CLS_NONE = 'ets-none';\n\tvar CLS_DISABLED = 'ets-pr-disabled';\n\n\tvar SEL_CARD = '.ets-pr-spin-nav-card';\n\tvar SEL_PAGE = '.ets-pr-spin-nav-page';\n\tvar SEL_CARD_IMAGE = '.ets-pr-spin-nav-card-image';\n\tvar SEL_SELECTED = '.' + CLS_SELECTED;\n\tvar SEL_PAGE_NUM = '.ets-pr-spin-nav-page-num';\n\tvar SEL_PREVIOUS_PAGE_BUTTON = '.ets-pr-spin-nav-previous-page';\n\tvar SEL_NEXT_PAGE_BUTTON = '.ets-pr-spin-nav-next-page';\n\n\tvar CARDS_PER_PAGE = 3;\n\n\tfunction hasLevelProgressOrIsCurrent(studentLevel, currentEnroll) {\n\t\treturn \t(studentLevel && studentLevel.progress && studentLevel.progress.state) ||\n\t\t\t(studentLevel.id === currentEnroll.studentLevel.id);\n\t}\n\n\tfunction compareCourses(prev, next) {\n\t\treturn prev.children.length - next.children.length;\n\t}\n\n\tfunction computeSpinCards(initData) {\n\t\tvar currentEnroll = initData.currentEnroll;\n\t\tvar courses = initData.course.slice(0); // clone array\n\t\tcourses.sort(compareCourses);\n\t\tvar spinCards = [];\n\t\tcourses.forEach(function (course) {\n\t\t\tcourse.children.forEach(function (level) {\n\t\t\t\tif (hasLevelProgressOrIsCurrent(level, currentEnroll)) {\n\t\t\t\t\tvar current = level.studentLevelId === currentEnroll.studentLevelId;\n\t\t\t\t\tvar passed = progressState.hasPassed(level.progress.state);\n\t\t\t\t\tvar state;\n\t\t\t\t\tif (passed) {\n\t\t\t\t\t\tstate = 'passed';\n\t\t\t\t\t} else if (current) {\n\t\t\t\t\t\tstate = 'current';\n\t\t\t\t\t} else {\n\t\t\t\t\t\tstate = 'progress';\n\t\t\t\t\t}\n\t\t\t\t\tspinCards.push({\n\t\t\t\t\t\tcourseName: course.courseName,\n\t\t\t\t\t\tlevelId: level.id,\n\t\t\t\t\t\tlevelName: level.levelName,\n\t\t\t\t\t\tfirstUnitId: level.children[0].id,\n\t\t\t\t\t\tstate: state,\n\t\t\t\t\t\tcurrent: current,\n\t\t\t\t\t\tarchiveId: {\n\t\t\t\t\t\t\te13: level.archiveId && level.archiveId.e13\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t\treturn spinCards;\n\t}\n\n\tfunction quietQuery(queries) {\n\t\t// don't use this.query to avoid displaying spinner on page change\n\t\treturn this.publish('query', queries);\n\t}\n\n\tfunction showSelectedPageImages() {\n\t\tvar me = this;\n\t\tvar pageIndex = me[SELECTED_PAGE];\n\t\tif (me[QUERIED_PAGE_IMAGES][pageIndex]) {\n\t\t\treturn; // already queried images for this page\n\t\t}\n\t\tme[QUERIED_PAGE_IMAGES][pageIndex] = true;\n\t\tvar queriedSpinCards = me[SPIN_CARDS].slice(pageIndex * CARDS_PER_PAGE, (pageIndex + 1) * CARDS_PER_PAGE);\n\t\tvar queries = queriedSpinCards.map(function (spinCard) {\n\t\t\treturn spinCard.firstUnitId + '.unitImage';\n\t\t});\n\t\tvar htmlPromise = me[HTML_PROMISE];\n\t\treturn when.all([\n\t\t\tquietQuery.call(me, queries),\n\t\t\thtmlPromise\n\t\t]).spread(function (units) {\n\t\t\tif (htmlPromise !== me[HTML_PROMISE]) {\n\t\t\t\treturn; // race condition check\n\t\t\t}\n\t\t\tvar $element = me[$ELEMENT];\n\t\t\tqueriedSpinCards.forEach(function (spinCard, index) {\n\t\t\t\tvar unit = units[index];\n\t\t\t\tif (unit.unitImage && unit.unitImage.url) {\n\t\t\t\t\t$element.find(SEL_CARD + '[data-id=\"' + spinCard.levelId + '\"] ' + SEL_CARD_IMAGE)\n\t\t\t\t\t\t.css('background-image', \"url('\" + unit.unitImage.url + \"')\");\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t}\n\n\tfunction updateShownPage() {\n\t\tvar me = this;\n\t\tvar selectedPage = me[SELECTED_PAGE];\n\t\tvar maxPageIndex = me[MAX_PAGE_INDEX];\n\t\tvar $element = me[$ELEMENT];\n\n\t\tvar $pages = $element.find(SEL_PAGE);\n\t\t$pages.addClass(CLS_NONE);\n\t\tvar $selectedPage = $pages.eq(selectedPage);\n\t\t$selectedPage.removeClass(CLS_NONE);\n\t\tvar pageNumText = String(selectedPage + 1);\n\t\t$element.find(SEL_PAGE_NUM).text(pageNumText);\n\t\t$element.find(SEL_PREVIOUS_PAGE_BUTTON)\n\t\t\t.toggleClass(CLS_DISABLED, selectedPage === 0);\n\t\t$element.find(SEL_NEXT_PAGE_BUTTON)\n\t\t\t.toggleClass(CLS_DISABLED, selectedPage >= maxPageIndex);\n\n\t\tshowSelectedPageImages.call(me);\n\t}\n\n\tfunction selectLevel(levelId, archiveId) {\n\t\tvar me = this;\n\t\tme.publish('progress-report/spin/state-circle/selected', levelId);\n\t\tLoad.loadLevel(\"spin\", levelId, archiveId);\n\t}\n\n\treturn Widget.extend(function ($element, name, initData) {\n\t\tthis[SPIN_CARDS] = computeSpinCards(initData);\n\t\tthis[MAX_PAGE_INDEX] = Math.floor((this[SPIN_CARDS].length - 1) / CARDS_PER_PAGE);\n\t\tthis[QUERIED_PAGE_IMAGES] = {}; // mapping page index -> boolean (true if queried)\n\t\tthis[HTML_PROMISE] = null;\n\t}, {\n\t\t\"sig/start\": function () {\n\t\t\tvar me = this;\n\t\t\tvar spinCards = this[SPIN_CARDS];\n\n\t\t\tvar selectedPage = 0;\n\t\t\tvar selectedSpinCard = spinCards[0];\n\t\t\tspinCards.every(function (spinCard, cardIndex) {\n\t\t\t\tif (spinCard.current) {\n\t\t\t\t\tselectedSpinCard = spinCard;\n\t\t\t\t\tselectedPage = Math.floor(cardIndex / CARDS_PER_PAGE);\n\t\t\t\t\treturn false;\n\t\t\t\t} else {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t});\n\t\t\tvar selectedLevelId = selectedSpinCard && selectedSpinCard.levelId;\n\t\t\tvar selectedArchiveLevelId = selectedSpinCard && selectedSpinCard.archiveId;\n\n\t\t\tme[SELECTED_PAGE] = selectedPage;\n\n\t\t\tme[QUERIED_PAGE_IMAGES] = {};\n\t\t\tme[HTML_PROMISE] = me.html(template, {\n\t\t\t\tselectedLevelId: selectedLevelId,\n\t\t\t\tselectedPage: selectedPage,\n\t\t\t\tspinCards: spinCards,\n\t\t\t\tcardsPerPage: CARDS_PER_PAGE,\n\t\t\t\tmaxPageIndex: me[MAX_PAGE_INDEX]\n\t\t\t}).then(function(){\n\t\t\t\tupdateShownPage.call(me);\n\t\t\t});\n\n\t\t\tshowSelectedPageImages.call(me); // early query of current page images\n\t\t\tselectLevel.call(me, selectedLevelId, selectedArchiveLevelId);\n\t\t},\n\t\t\"sig/stop\": function () {\n\t\t\tthis[QUERIED_PAGE_IMAGES] = {};\n\t\t\tthis[HTML_PROMISE] = null;\n\t\t},\n\t\t\"dom:[data-action=previous-page]/click\": function () {\n\t\t\tvar me = this;\n\t\t\tif (me[SELECTED_PAGE] > 0) {\n\t\t\t\tme[SELECTED_PAGE] -= 1;\n\t\t\t\tupdateShownPage.call(me);\n\t\t\t}\n\t\t},\n\t\t\"dom:[data-action=next-page]/click\": function () {\n\t\t\tvar me = this;\n\t\t\tif (me[SELECTED_PAGE] < me[MAX_PAGE_INDEX]) {\n\t\t\t\tme[SELECTED_PAGE] += 1;\n\t\t\t\tupdateShownPage.call(me);\n\t\t\t}\n\t\t},\n\t\t\"dom:.ets-pr-spin-nav-card/click\": function (evt) {\n\t\t\tvar me = this;\n\t\t\tvar $target = $(evt.currentTarget);\n\t\t\tif (!$target.hasClass(CLS_SELECTED)) {\n\t\t\t\tvar levelId = $target.data(\"id\");\n\t\t\t\tvar archiveE13LevelId=$target.data(\"archiveE13LevelId\");\n\t\t\t\tme[$ELEMENT].find(SEL_SELECTED).removeClass(CLS_SELECTED);\n\t\t\t\t$target.addClass(CLS_SELECTED);\n\t\t\t\tselectLevel.call(me, levelId, {e13: archiveE13LevelId});\n\t\t\t}\n\t\t}\n\t});\n});\n\n","define('school-ui-progress-report/widget/container/spin/spin-navigation/state-circle',[\n\t\"school-ui-progress-report/widget/shared/state-circle/main\"\n], function (StateCircleWidget) {\n\t\"use strict\";\n\n\treturn StateCircleWidget.extend({\n\t\t\"hub:memory/progress-report/spin/state-circle/selected\": function (selectedId) {\n\t\t\tthis.setSelected(selectedId);\n\t\t}\n\t});\n});\n","define('school-ui-progress-report/widget/container/test-results/main',[\n\t\"jquery\",\n\t\"logger\",\n\t\"troopjs-ef/component/widget\"\n], function ($, Logger, Widget) {\n\t\"use strict\";\n\n\tvar $ELEMENT = \"$element\";\n\tvar PROP_TEST_RESULTS_WIDGET = \"_testResultsWidget\";\n\n\treturn Widget.extend(function ($element, path, testResultsWidget) {\n\t\tthis[PROP_TEST_RESULTS_WIDGET] = testResultsWidget;\n\t}, {\n\t\t\"sig/start\": function () {\n\t\t\tvar me = this;\n\t\t\tvar widgetPath = me[PROP_TEST_RESULTS_WIDGET];\n\t\t\tif (widgetPath) {\n\t\t\t\tvar $widget = $(\"<div></div>\", {\n\t\t\t\t\t\"data-weave\": widgetPath\n\t\t\t\t});\n\n\t\t\t\t$widget.appendTo(me[$ELEMENT]).weave();\n\t\t\t}\n\t\t\telse {\n\t\t\t\tLogger.log(\"Progress Report: test results widget not found.\")\n\t\t\t}\n\t\t}\n\t});\n});\n\n","\ndefine('troopjs-requirejs/template!school-ui-progress-report/widget/navigation/navigation.html',[],function() { return function template(data) { var o = \"\";\nvar nav_item = data.nav_item;\no += \"\\n<div class=\\\"ets-pr-top-title\\\">\\n\\t<div class=\\\"ets-pr-top-title-content\\\">\\n\\t\\t<div class=\\\"ets-pr-icon\\\">\\n\\t\\t\\t<div data-weave=\\\"school-ui-shared/widget/vector('school-ui-progress-report/vector/ico_progress',20,20)\\\"></div>\\n\\t\\t</div>\\n\\t\\t<h1 data-weave=\\\"troopjs-ef/blurb/widget\\\" data-blurb-id=\\\"707546\\\" data-text-en=\\\"Progress &amp; Tests\\\"></h1>\\n\\t</div>\\n</div>\\n<div class=\\\"ets-pr-nav-list\\\">\\n\\t\"; for(var i = 0; i < nav_item.length ; i++) {\n\to += \"\\n\\t<div class=\\\"ets-pr-nav-button \" + (nav_item[i].enabled ? '' : 'ets-unavailable')+ \"\\\"\\n\\t     data-hash-path=\\\"\" +nav_item[i].hashPath+ \"\\\"\\n\\t     data-disable-bottom-border-when-selected=\\\"\" + (nav_item[i].disableBottomBorderWhenSelected ? 'true' : 'false') + \"\\\"\\n\\t     data-item-index=\\\"\" +i+ \"\\\">\\n\\t\\t<span data-weave=\\\"troopjs-ef/blurb/widget\\\" data-blurb-id=\\\"\" +nav_item[i].blurbId+ \"\\\" data-text-en=\\\"\" +nav_item[i].name+ \"\\\"></span>\\n\\t\\t\"; if (!nav_item[i].enabled){ o += \"\\n\\t\\t\\t<div class=\\\"ets-pr-nav-tip\\\" data-weave=\\\"troopjs-ef/blurb/widget\\\" data-blurb-id=\\\"\" + nav_item[i].disableBlurbId + \"\\\" data-text-en=\\\"\" + nav_item[i].disableTipsEn + \"\\\"></div>\\n\\t\\t\"; } o += \"\\n\\t</div>\\n\\t\";}o += \"\\n</div>\\n<div class=\\\"ets-pr-nav-bottom-border\\\"></div>\"; return o; }; });\n","\ndefine('troopjs-requirejs/template!school-ui-progress-report/widget/navigation/navigation-b2b.html',[],function() { return function template(data) { var o = \"\";\n\tvar nav_item = data.nav_item;\n\tvar type = data.type;\n\tvar isDisplayCompanyGoal = data.isDisplayCompanyGoal;\n\tvar courseTitle;\n\tif(type === 'general-english') {\n\t\tcourseTitle = 659680;\n\t}\n\tif(type === 'business-english') {\n\t\tcourseTitle = 718696;\n\t}\n\tif(type === 'industry-english') {\n\t\tcourseTitle = 718697;\n\t}\no += \"\\n<div class=\\\"ets-pr-top-container\\\">\\n\\t<div class=\\\"bread-crumb-nav\\\">\\n\\t\\t<a href=\\\"/2/progress-goals/\\\" data-weave=\\\"troopjs-ef/blurb/widget\\\" data-blurb-id=\\\"717604\\\" data-text-en=\\\"My progress & goals\\\"></a>\\n\\t\\t<span class=\\\"nav-arrow\\\"> > </span>\\n\\t\\t<span data-weave=\\\"troopjs-ef/blurb/widget\\\" data-blurb-id=\\\"\" +courseTitle+ \"\\\"> </span>\\n\\t</div>\\n\\t<div class=\\\"ets-pr-top-title-content\\\">\\n\\t\\t<h2 data-weave=\\\"troopjs-ef/blurb/widget\\\" data-blurb-id=\\\"\" +courseTitle+ \"\\\"></h2>\\n\\t</div>\\n\\t\"; if(isDisplayCompanyGoal) {o += \"\\n\\t<div class=\\\"company-goal\\\">\\n\\t<span data-weave=\\\"troopjs-ef/blurb/widget\\\" data-blurb-id=\\\"717614\\\" data-text-en=\\\"Company Goal\\\"></span>\\n\\t<div data-weave=\\\"school-ui-shared/widget/vector('school-ui-progress-report/vector/ico_progress_flag',14,14)\\\"\\n    class=\\\"progress-flag\\\"></div>\\n\\t</div>\\n\\t\"; } o += \"\\n</div>\\n<div class=\\\"ets-pr-nav-bottom-border\\\"></div>\"; return o; }; });\n","define('school-ui-progress-report/widget/navigation/main',[\n\t\"jquery\",\n\t\"when\",\n\t\"poly\",\n\t\"troopjs-ef/component/widget\",\n\t\"school-ui-shared/enum/course-type\",\n\t\"school-ui-shared/utils/progress-state\",\n\t\"school-ui-shared/utils/feature-access\",\n  \"troopjs-browser/route/uri\",\n\t\"template!./navigation.html\",\n  \"template!./navigation-b2b.html\"\n], function ($, when, poly, Widget, courseType, progressState, featureAccess, URI,  tNavigation, b2bNavigation) {\n\t\"use strict\";\n\n\tvar $ELEMENT = \"$element\";\n\n\tvar CLS_ACTIVE = \"ets-active\";\n\tvar CLS_UNAVA = \"ets-unavailable\";\n\tvar CLS_BOTTOM_BORDER = \".ets-pr-nav-bottom-border\";\n\n\tvar NAV_ITEMS = \"_nav_items\";\n\tvar NAV_ITEMS_PROMISE = \"_nav_items_promise\";\n\tvar ENROLLABLE_COURSES = \"_course\";\n\tvar CURRENT_ENROLLMENT = \"_current_enrollment\";\n\tvar FEEDBACKS = \"_feedbacks\";\n\tvar ARCHIVE_WRITING = \"_archive_writing\";\n\tvar TEST_RESULTS_WIDGET = \"_test_results_widget\";\n  var HASH_PROMISE = \"_hash_promise\";\n\n\tvar NAME_GE = \"General English\";\n\tvar NAME_FEEDBACK = \"Teacher Feedback\";\n\tvar NAME_TEST_RESULTS = \"Test Results\";\n\tvar NAME_SPIN = \"Special Interest Courses\";\n\n\tvar CCL_HAS_BEST_TEST=\"ccl!'school.ui.progress.report.has.best.test'\";\n\n\tvar ROUTE_COURSE_MAP = {\n\t\t'general-english': 'GE',\n\t\t'business-english': 'BE',\n\t\t'industry-english': 'IE'\n\t}\n\n\tfunction hasStartedCourse(courses) {\n\t\treturn !courses.every(function (courseItem) {\n\t\t\treturn courseItem.children.every(function (level) {\n\t\t\t\treturn progressState.notStarted(level.progress.state);\n\t\t\t});\n\t\t});\n\t}\n\n\tfunction getGECourses(enrollableCourses) {\n\t\treturn enrollableCourses.items.filter(function (studentCourse) {\n\t\t\treturn courseType.isGECourse(studentCourse.courseTypeCode);\n\t\t});\n\t}\n\n\tfunction getSpinCourses(enrollableCourses) {\n\t\treturn enrollableCourses.items.filter(function (studentCourse) {\n\t\t\treturn courseType.isSpinCourse(studentCourse.courseTypeCode);\n\t\t});\n\t}\n\n  function hashProcess(nav_items, uri) {\n    var hashCheck = uri.path && nav_items.reduce(function (prev, item) {\n      return prev || (uri.path.toString() === item.hashPath && item.enabled);\n    }, false);\n\n    if (hashCheck) {\n      return uri.source;\n    }\n    else {\n      return nav_items.reduce(function (prev, next) {\n            return prev || (next.isCurrentCourse && next.hashPath);\n          }, false) || nav_items[0].hashPath;\n    }\n  }\n\n  function useB2BTemplate(hash){\n    return hash === 'general-english' || hash === 'business-english' || hash === 'industry-english';\n  }\n\n\tfunction isBECourse(courseTypeCode) {\n\t\treturn courseType.BusinessEnglish === courseTypeCode.toUpperCase();\n\t}\n\n\tfunction isINDCourse(courseTypeCode) {\n\t\treturn courseType.IndustryEnglish === courseTypeCode.toUpperCase();\n\t}\n\n\tfunction getCookieItem (sKey) {\n\t\tif (!sKey) { return null; }\n\t\treturn decodeURIComponent(document.cookie.replace(new RegExp(\"(?:(?:^|.*;)\\\\s*\" + encodeURIComponent(sKey).replace(/[\\-\\.\\+\\*]/g, \"\\\\$&\") + \"\\\\s*\\\\=\\\\s*([^;]*).*$)|^.*$\"), \"$1\")) || null;\n\t}\n\n\tfunction getLicense(header){\n\t\treturn $.ajax({\n\t\t\turl:'/2/api/corporate-licensing/v1/studentlicenses',\n\t\t\theaders: header,\n\t\t\ttype: 'GET'\n\t\t});\n\t}\n\n\tfunction getProgress(header, licenseID){\n\t\treturn $.ajax({\n\t\t\turl:'/2/api/progress-goals/v1/progress/' + licenseID + '/company',\n\t\t\theaders: header,\n\t\t\ttype: 'GET'\n\t\t});\n\t}\n\n\tfunction getCompanyGoal(){\n\t\tvar token = getCookieItem('efid_tokens');\n\t\tvar auth = JSON.parse(token);\n\t\tvar header = {\n\t\t\tAuthorization: \"Bearer \" + auth.access,\n\t\t\t\"X-EF-Access\": auth.account\n\t\t};\n\n\t\tvar licensePromise = getLicense(header);\n\n\t\treturn licensePromise.then(function(data){\n\t\t\tvar licenseID = data.length > 0 && data[0].licenseId;\n\t\t\treturn getProgress(header, licenseID);\n\t\t})\n\t}\n\n\tfunction isDisplayCompanyGoal(hash, companyGoals){\n\t\tvar courseCode = ROUTE_COURSE_MAP[hash];\n\t\treturn companyGoals.some(function(item){\n\t\t\treturn item.type.toUpperCase() === courseCode;\n\t\t});\n\t}\n\n\treturn Widget.extend(function(){\n\t\tvar me = this;\n\t\tvar data = me[$ELEMENT].data(\"assets\");\n\t\tme[ENROLLABLE_COURSES] = data[\"enrollable_course\"];\n\t\tme[CURRENT_ENROLLMENT] = data[\"current_enroll\"];\n\t\tme[FEEDBACKS] = data[\"feedbacks\"];\n\t\tme[TEST_RESULTS_WIDGET] = data[\"test_results_widget\"];\n\t\tme[NAV_ITEMS_PROMISE] = when.defer();\n    me[HASH_PROMISE] = when.defer();\n\t},{\n\t\t\"render\": function() {\n\t\t\tvar me = this;\n\t\t\tvar studentCourse = me[CURRENT_ENROLLMENT].studentCourse;\n\t\t\tvar courseTypeCode = studentCourse ? studentCourse.courseTypeCode : null;\n\t\t\tvar currentCourseIsGE = courseType.isGECourse(courseTypeCode);\n\t\t\tvar currentCourseIsBE = isBECourse(courseTypeCode);\n\t\t\tvar currentCourseIsIND = isINDCourse(courseTypeCode);\n\t\t\tvar currentCourseIsSpin = courseType.isSpinCourse(courseTypeCode);\n\t\t\tvar geCourses = getGECourses(me[ENROLLABLE_COURSES]);\n\t\t\tvar spinCourses = getSpinCourses(me[ENROLLABLE_COURSES]);\n\t\t\treturn me.query(CCL_HAS_BEST_TEST, me[HASH_PROMISE].promise, getCompanyGoal()).spread(function(cclHasBestTest, hash, companyGoals){\n\t\t\t\tvar hasBestTest = (cclHasBestTest.value === \"true\");\n\t\t\t\tvar hasFeedbacks = me[FEEDBACKS].length > 0;\n\n\t\t\t\tme[NAV_ITEMS] = [\n\t\t\t\t\t{\n\t\t\t\t\t\t\"name\": NAME_GE,\n\t\t\t\t\t\t\"blurbId\": \"659680\",\n\t\t\t\t\t\t\"isCurrentCourse\": currentCourseIsGE,\n\t\t\t\t\t\t\"disableBottomBorderWhenSelected\": true,\n\t\t\t\t\t\t\"enabled\": true,\n\t\t\t\t\t\t\"visible\": geCourses.length > 0\n\t\t\t\t\t},\n          {\n            \"name\": 'Industry English',\n            \"blurbId\": \"718697\",\n            \"isCurrentCourse\": currentCourseIsIND,\n            \"disableBottomBorderWhenSelected\": true,\n            \"enabled\": true,\n            \"visible\": true\n          },\n          {\n            \"name\": 'Business English',\n            \"blurbId\": \"718696\",\n            \"isCurrentCourse\": currentCourseIsBE,\n            \"disableBottomBorderWhenSelected\": true,\n            \"enabled\": true,\n            \"visible\": true\n          },\n\t\t\t\t\t{\n\t\t\t\t\t\t\"name\": NAME_SPIN,\n\t\t\t\t\t\t\"blurbId\": \"659681\",\n\t\t\t\t\t\t\"isCurrentCourse\": currentCourseIsSpin,\n\t\t\t\t\t\t\"disableBottomBorderWhenSelected\": true,\n\t\t\t\t\t\t\"disableTextEn\": \"You haven't taken any special interest course yet.\",\n\t\t\t\t\t\t\"disableBlurbId\": \"660187\",\n\t\t\t\t\t\t\"enabled\": hasStartedCourse(spinCourses) || currentCourseIsSpin,\n\t\t\t\t\t\t\"visible\": spinCourses.length > 0\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\t\"name\": NAME_FEEDBACK,\n\t\t\t\t\t\t\"blurbId\": \"708939\",\n\t\t\t\t\t\t\"disableTipsEn\": \"You haven't got any teacher feedback yet.\",\n\t\t\t\t\t\t\"disableBlurbId\": \"660188\",\n\t\t\t\t\t\t\"enabled\": hasFeedbacks,\n\t\t\t\t\t\t\"visible\": featureAccess.hasWritingClassFeature() || featureAccess.hasGLClassFeature() || featureAccess.hasPLClassFeature() || featureAccess.hasCP20ClassFeature() || featureAccess.hasEFTClassFeature() || hasFeedbacks\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\t\"name\": NAME_TEST_RESULTS,\n\t\t\t\t\t\t\"blurbId\": \"666790\",\n\t\t\t\t\t\t\"disableTipsEn\": \"You haven't got any test results yet.\",\n\t\t\t\t\t\t\"disableBlurbId\": \"666792\",\n\t\t\t\t\t\t\"enabled\": me[TEST_RESULTS_WIDGET],\n\t\t\t\t\t\t\"visible\": hasBestTest || me[TEST_RESULTS_WIDGET]\n\t\t\t\t\t}\n\t\t\t\t];\n\n\t\t\t\tme[NAV_ITEMS] = me[NAV_ITEMS].filter(function (item) {\n\t\t\t\t\treturn item.visible;\n\t\t\t\t});\n\t\t\t\tme[NAV_ITEMS].forEach(function (item) {\n\t\t\t\t\titem.hashPath = item.name.toLocaleLowerCase().replace(/ /g, \"-\");\n\t\t\t\t});\n\n        var _hash = hashProcess(me[NAV_ITEMS], hash);\n\n        var template = useB2BTemplate(_hash) ? b2bNavigation : tNavigation;\n\n        return me.html(template, {\n          \"nav_item\": me[NAV_ITEMS],\n\t\t\t\t\t\"type\": _hash,\n\t\t\t\t\t'isDisplayCompanyGoal': isDisplayCompanyGoal(_hash, companyGoals)\n        }).then(function () {\n          me[$ELEMENT].find(CLS_BOTTOM_BORDER).hide();\n\n          me[NAV_ITEMS_PROMISE].resolve(me[NAV_ITEMS]);\n        });\n\t\t\t});\n\t\t},\n\n    \"hub:memory/navigate\": function (hash) {\n      var me = this;\n      me[HASH_PROMISE] = when.defer();\n      me[HASH_PROMISE].resolve(URI(hash));\n      if(me.hash !== hash) {\n        this.render();\n        me.hash = hash;\n      }\n    },\n\n\t\t\"hub:memory/context\": function onContext(context){\n\t\t\tfeatureAccess.setFeaturesUnicode(context.featureAccessBits);\n\t\t\tthis.render();\n\t\t},\n\n\t\t\"hub/navigation/verify\": function (uri) {\n\t\t\tvar me = this;\n\t\t\treturn me[NAV_ITEMS_PROMISE].promise.then(function (nav_items) {\n\t\t\t\treturn [hashProcess(nav_items, uri)];\n\t\t\t});\n\t\t},\n\n\t\t\"hub:memory/navigate/to\": function(uri){\n\t\t\tvar me = this;\n\t\t\tvar $activeItem = me[$ELEMENT].find(\"[data-hash-path=\" + uri.path + \"]\");\n\t\t\t$activeItem.addClass(CLS_ACTIVE).siblings().removeClass(CLS_ACTIVE);\n\t\t\tme[$ELEMENT].find(CLS_BOTTOM_BORDER)\n\t\t\t\t.toggle($activeItem.data('disableBottomBorderWhenSelected') !== true);\n\t\t\treturn when.resolve();\n\t\t},\n\n\t\t\"dom:.ets-pr-nav-button/click\": function ($evt) {\n\t\t\tvar me = this;\n\t\t\tvar $target = $($evt.currentTarget);\n\t\t\t!$target.hasClass(CLS_UNAVA) && me.publish(\"navigate\", $target.attr('data-hash-path'));\n\t\t}\n\t});\n});\n\n","\ndefine('troopjs-requirejs/template!school-ui-progress-report/widget/shared/certificate/certificate.html',[],function() { return function template(data) { var o = \"\";\n\tvar showCertTip = data.showCertTip;\no += \"\\n<div class=\\\"ets-pr-cert-wrapper\\\">\\n\\t<button class=\\\"ets-pr-cert-view\\\">\\n\\t\\t<span class=\\\"ets-pr-button-text\\\" data-weave=\\\"troopjs-ef/blurb/widget\\\" data-blurb-id=\\\"659688\\\" data-text-en=\\\"View certificate\\\"></span>\\n\\t\\t<span data-weave=\\\"school-ui-shared/widget/vector('school-ui-progress-report/vector/ico_arrow_light_right', 21, 11)\\\"></span>\\n\\t</button>\\n\\t<div class=\\\"ets-pr-cert-tip \" +(showCertTip ? '' : 'ets-none')+ \"\\\">\\n\\t\\t<div class=\\\"ets-pr-cert-description\\\">\\n\\t\\t\\t<p class=\\\"ets-pr-cert-subtitle\\\" data-weave=\\\"troopjs-ef/blurb/widget\\\" data-blurb-id=\\\"659684\\\" data-text-en=\\\"You have earned a\\\"></p>\\n\\t\\t\\t<h4 data-weave=\\\"troopjs-ef/blurb/widget\\\" data-blurb-id=\\\"659685\\\" data-text-en=\\\"Certificate\\\"></h4>\\n\\t\\t\\t<div class=\\\"ets-pr-cert-icon\\\">\\n\\t\\t\\t\\t<div class=\\\"ets-pr-cert-icon-vector\\\" data-weave=\\\"school-ui-shared/widget/vector('school-ui-progress-report/vector/ico_cert', 40, 40)\\\"></div>\\n\\t\\t\\t\\t<hr />\\n\\t\\t\\t</div>\\n\\t\\t\\t<p data-weave=\\\"troopjs-ef/blurb/widget\\\" data-blurb-id=\\\"659686\\\" data-text-en=\\\"Click on 'View certificate' to see the details\\\"></p>\\n\\t\\t</div>\\n\\t\\t<button class=\\\"ets-pr-btn ets-pr-btn-cert\\\" data-weave=\\\"troopjs-ef/blurb/widget\\\" data-blurb-id=\\\"659687\\\" data-text-en=\\\"Ok, got it!\\\"></button>\\n\\t</div>\\n</div>\"; return o; }; });\n","define('school-ui-progress-report/widget/shared/certificate/main',[\n\t\"module\",\n\t\"jquery\",\n\t\"when\",\n\t\"poly\",\n\t\"client-tracking\",\n\t\"moment\",\n\t\"troopjs-ef/component/widget\",\n\t\"school-ui-shared/enum/course-type\",\n\t\"template!./certificate.html\"\n], function (module, $, when, poly, ct, Moment, Widget, CourseType, tCert) {\n\t\"use strict\";\n\n\tvar MODULE_CONFIG = module.config() || {};\n\tMODULE_CONFIG.certUrl = MODULE_CONFIG.certUrl || \"/school/course/CertificateBoard.aspx?key=\";\n\n\tvar $ELEMENT = \"$element\";\n\n\tvar SEL_CERT_TIP = \".ets-pr-cert-tip\";\n\n\tvar CLS_NONE = \"ets-none\";\n\n\tvar PROP_CERT_TIP_CLOSED = \"_cert_tip_closed\";\n\tvar PROP_CERT_KEY = \"_cert_key\";\n\tvar CURRENT_LEVEL_ID = \"_current_level_id\";\n\n\tvar certUrl = MODULE_CONFIG.certUrl;\n\tvar certWidth = 984;\n\tvar certHeight = 550;\n\n\tvar localStorage = window.localStorage;\n\n\tfunction openWindow(url, width, height) {\n\t\tvar win = window.open(url, 'newwindow', 'height=' + height + ', width=' + width + ', toolbar=no, menubar=no, scrollbars=yes, resizable=yes,location=no, status=no');\n\t\twin.focus();\n\t}\n\n\tfunction convertToLegacyItem(certItem) {\n\t\treturn {\n\t\t\t\"date\": Moment(certItem.certificateDate).locale(\"en\").format(\"MMM DD, YYYY\"),\n\t\t\t\"course\": certItem.courseName || \"\",\n\t\t\t\"level\": certItem.levelName,\n\t\t\t\"Key\": certItem.key,\n\t\t\t\"levelCertificate\": certItem.certificateName,\n\t\t\t\"coursetype\": 2,\n\t\t\t\"name\": certItem.studentName\n\t\t};\n\t}\n\n\tfunction initCertificateData(certItems, archiveCertItems) {\n\t\tvar me = this;\n\t\tvar certDataGE = [];\n\t\tvar certDataSPIN = [];\n\n\t\tcertItems.forEach(function (item) {\n\t\t\tif (me[CURRENT_LEVEL_ID] === item.studentLevelId) {\n\t\t\t\tme[PROP_CERT_KEY] = item.key;\n\t\t\t}\n\t\t});\n\n\t\t[certItems, archiveCertItems].forEach(function (items) {\n\t\t\titems.forEach(function (item) {\n\t\t\t\tvar legacyItem = convertToLegacyItem(item);\n\t\t\t\tif (CourseType.isGECourse(item.courseTypeCode)) {\n\t\t\t\t\tcertDataGE.push(legacyItem)\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tcertDataSPIN.push(legacyItem);\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\n\t\twindow.generalCertificates = certDataGE;\n\t\twindow.spinCertificates = certDataSPIN;\n\t}\n\n\treturn Widget.extend(function ($element, name, currentLevelId) {\n\t\tvar me = this;\n\t\tme[CURRENT_LEVEL_ID] = currentLevelId;\n\t\tme[PROP_CERT_KEY] = \"\";\n\t}, {\n\t\t\"sig/start\": function () {\n\t\t\tvar me = this;\n\n\t\t\tvar renderPromise = me.html(tCert, {\n\t\t\t\tshowCertTip: localStorage && !localStorage.getItem(PROP_CERT_TIP_CLOSED)\n\t\t\t});\n\n\t\t\tvar queryPromise = me.query([\n\t\t\t\t\"student_certificate!*\",\n\t\t\t\t\"student_archive_certificate!*\"\n\t\t\t]).spread(function (studentCert, studentArchiveCert) {\n\t\t\t\tvar certItems = $.extend(true, [], studentCert.items);\n\t\t\t\tvar archiveCertItems = $.extend(true, [], studentArchiveCert.items);\n\t\t\t\tinitCertificateData.call(me, certItems, archiveCertItems);\n\t\t\t});\n\n\t\t\treturn when.all([renderPromise, queryPromise]);\n\t\t},\n\t\t\"dom:.ets-pr-cert-view/click\": function () {\n\t\t\tvar me = this;\n\t\t\tct.useraction({\n\t\t\t\t\"action.viewCertificate\": \"1\"\n\t\t\t});\n\t\t\topenWindow(certUrl + me[PROP_CERT_KEY], certWidth, certHeight);\n\t\t},\n\t\t\"dom:.ets-pr-btn-cert/click\": function () {\n\t\t\tvar me = this;\n\t\t\tme[$ELEMENT].find(SEL_CERT_TIP).addClass(CLS_NONE);\n\t\t\tlocalStorage && localStorage.setItem(PROP_CERT_TIP_CLOSED, \"true\");\n\t\t}\n\t});\n});\n\n","\ndefine('troopjs-requirejs/template!school-ui-progress-report/widget/shared/level-info/level-info.html',[],function() { return function template(data) { var o = \"\";if (data.unCompletedLessons === 0) {o += \"\\n\\t\";if (data.hasLevelCertificate) {o += \"\\n\\t\\t<div class=\\\"ets-pr-completed-medal\\\" data-weave=\\\"school-ui-shared/widget/vector('school-ui-progress-report/vector/ico_medal',32,40)\\\"></div>\\n\\t\";} else {o += \"\\n\\t\\t<div class=\\\"ets-pr-completed-checkmark\\\" data-weave=\\\"school-ui-shared/widget/vector('school-ui-progress-report/vector/ico_checkmark',32,32)\\\"></div>\\n\\t\";}o += \"\\n\\t<div class=\\\"ets-pr-completed-text\\\" data-weave=\\\"troopjs-ef/blurb/widget\\\" data-blurb-id=\\\"669820\\\" data-text-en=\\\"Completed\\\"></div>\\n\";}o += \"\\n<h2>\" +data.level.levelName+ \"</h2>\\n\";if (data.unCompletedLessons > 0) {o += \"\\n\\t<h3>\" +data.lessonsLeft+ \"</h3>\\n\";}o += \"\\n\";if (data.canShowCertificate) {o += \"\\n\\t<div data-weave=\\\"school-ui-progress-report/widget/shared/certificate/main('\" +data.level.studentLevelId+ \"')\\\"></div>\\n\";} return o; }; });\n","define('school-ui-progress-report/widget/shared/level-info/main',[\n\t\"troopjs-ef/component/widget\",\n\t\"school-ui-shared/utils/progress-state\",\n\t\"school-ui-shared/enum/course-type\",\n\t\"template!./level-info.html\"\n], function (Widget, progressState, courseType, tLevelInfo) {\n\t\"use strict\";\n\n\tvar PAGE = \"_page\";\n\tvar STUDENT_ARCHIVE_CERT = \"_student_archive_certificate\";\n\n\tfunction hasLevelCertificate(level, studentCert) {\n\t\treturn studentCert.items.reduce(function (prev, certItem) {\n\t\t\treturn prev || (certItem.studentLevelId && certItem.studentLevelId === level.studentLevelId);\n\t\t}, false);\n\t}\n\n\tfunction canShowCertificate(currentLevel, studentCert, studentArchiveCert) {\n\t\tif (courseType.isGECourse(currentLevel.parent.courseTypeCode)) {\n\t\t\treturn hasLevelCertificate(currentLevel, studentCert);\n\t\t}\n\t\telse {\n\t\t\treturn hasLevelCertificate(currentLevel, studentCert) || studentArchiveCert.items.length;\n\t\t}\n\t}\n\n\tfunction getCompletedLessonCount(level) {\n\t\tvar completedLessons = 0;\n\t\tlevel.children.forEach(function (unit) {\n\t\t\tunit.children.forEach(function (lesson) {\n\t\t\t\tprogressState.hasPassed(lesson.progress.state) && completedLessons++;\n\t\t\t});\n\t\t});\n\t\treturn completedLessons;\n\t}\n\n\tfunction getTotalLessonCount(level) {\n\t\tvar totalLessons = 0;\n\t\tlevel.children.forEach(function (unit) {\n\t\t\ttotalLessons += unit.children.length;\n\t\t});\n\t\treturn totalLessons;\n\t}\n\n\tfunction initBlurb() {\n\t\treturn {\n\t\t\tsingleLessonLeft: {\n\t\t\t\tid: 669819,\n\t\t\t\ten: \"^uncompleted^ lesson left of ^total^\"\n\t\t\t},\n\t\t\tmultiLessonsLeft: {\n\t\t\t\tid: 669818,\n\t\t\t\ten: \"^uncompleted^ lessons left of ^total^\"\n\t\t\t}\n\t\t};\n\t}\n\n\treturn Widget.extend(function (path, $element, page) {\n\t\tvar me = this;\n\t\tme[PAGE] = page;\n\t}, {\n\t\t\"sig/start\": function () {\n\t\t\tvar me = this;\n\t\t\treturn me.query(\"student_archive_certificate!*\").spread(function (studentArchiveCert) {\n\t\t\t\tme[STUDENT_ARCHIVE_CERT] = studentArchiveCert;\n\t\t\t});\n\t\t},\n\t\t\"hub:memory/load/level\": function onLevel(page, data) {\n\t\t\tvar me = this;\n\t\t\tif (me[PAGE] === page) {\n\t\t\t\tvar level = data.level;\n\n\t\t\t\tvar completedLessons = getCompletedLessonCount(level);\n\t\t\t\tvar totalLessons = getTotalLessonCount(level);\n\t\t\t\tvar unCompletedLessons = totalLessons - completedLessons;\n\n\t\t\t\tvar blurbs = initBlurb();\n\t\t\t\tvar blurbLessonsLeft = \"blurb!\" + (unCompletedLessons <= 1 ? blurbs.singleLessonLeft.id : blurbs.multiLessonsLeft.id);\n\t\t\t\tme.query([\n\t\t\t\t\tblurbLessonsLeft,\n\t\t\t\t\t\"student_certificate!\" + level.studentLevelId\n\t\t\t\t]).spread(function (blurbLessonsLeftResult, studentCert) {\n\t\t\t\t\tvar lessonsLeft = blurbLessonsLeftResult.translation || blurbLessonsLeft.en;\n\t\t\t\t\tlessonsLeft = lessonsLeft.replace(\"^uncompleted^\", \"<span>\" + unCompletedLessons + \"</span>\");\n\t\t\t\t\tlessonsLeft = lessonsLeft.replace(\"^total^\", totalLessons);\n\n\t\t\t\t\tme.html(tLevelInfo, {\n\t\t\t\t\t\tpage: page,\n\t\t\t\t\t\tlevel: level,\n\t\t\t\t\t\thasLevelCertificate: hasLevelCertificate(level, studentCert),\n\t\t\t\t\t\tcanShowCertificate: canShowCertificate(level, studentCert, me[STUDENT_ARCHIVE_CERT]),\n\t\t\t\t\t\tlessonsLeft: lessonsLeft,\n\t\t\t\t\t\tunCompletedLessons: unCompletedLessons,\n\t\t\t\t\t\ttotalLessons: totalLessons\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t});\n});\n","\ndefine('troopjs-requirejs/template!school-ui-progress-report/widget/shared/unit-list/unit-list.html',[],function() { return function template(data) { var o = \"\";\n\tvar units = data.units;\n\tvar lessonLinks = data.lessonLinks;\n\tvar _getUnitState = this._getUnitState;\n\tvar _hasLessonPassed = this._hasLessonPassed;\n\tvar _progressState = this._progressState;\no += \"\\n<div class=\\\"ets-pr-unit-list-header\\\">\\n\\t<div class=\\\"ets-pr-lesson-name\\\"></div>\\n\\t<div class=\\\"ets-pr-lesson-time-spent\\\">\\n\\t\\t<span class=\\\"ets-pr-text\\\" data-weave=\\\"troopjs-ef/blurb/widget\\\" data-blurb-id=\\\"666926\\\" data-text-en=\\\"Total time\\\"></span>\\n\\t</div>\\n\\t<div class=\\\"ets-pr-lesson-score\\\">\\n\\t\\t<span class=\\\"ets-pr-text\\\" data-weave=\\\"troopjs-ef/blurb/widget\\\" data-blurb-id=\\\"666925\\\" data-text-en=\\\"Total score\\\"></span>\\n\\t\\t<span class=\\\"ets-pr-icon\\\" data-toggle=\\\"popover\\\" data-placement=\\\"right\\\" data-trigger=\\\"hover\\\" data-html=\\\"true\\\">?</span>\\n\\t</div>\\n\\t<div class=\\\"ets-pr-lesson-state\\\"></div>\\n</div>\\n\\n\";\nfunction renderLessonItems(lessons) {\n\tfor(var lessonIndex = 0, lessonCount = lessons.length; lessonIndex < lessonCount; lessonIndex++) {\n\tvar lesson = lessons[lessonIndex];\n\to += \"\\n\\t<div class=\\\"ets-pr-lesson\\\">\\n\\t\\t<div class=\\\"ets-pr-lesson-name\\\" data-merged-template-lesson-id=\\\"\" +lesson.templateLessonId+ \"\\\" data-actual-template-lesson-id=\\\"\" +(lesson.actualLesson && lesson.actualLesson.templateLessonId)+ \"\\\">\\n\\t\\t\\t\";if (lesson.lessonLink) {o += \"\\n\\t\\t\\t<a href=\\\"\" +lesson.lessonLink+ \"\\\">\" + (lesson.actualLesson && lesson.actualLesson.lessonName || lesson.lessonName) + \"</a>\\n\\t\\t\\t\";} else {o += \"\\n\\t\\t\\t\" + (lesson.actualLesson && lesson.actualLesson.lessonName || lesson.lessonName) + \"\\n\\t\\t\\t\";}o += \"\\n\\t\\t</div>\\n\\t\\t<div class=\\\"ets-pr-lesson-time-spent\\\">\\n\\t\\t\\t\"; if (lesson.progress.timeSpent === 1) { o += \"\\n\\t\\t\\t\" + lesson.progress.timeSpent + \" <span data-weave=\\\"troopjs-ef/blurb/widget\\\" data-blurb-id=\\\"668332\\\" data-text-en=\\\"minute\\\"></span>\\n\\t\\t\\t\"; } else if (lesson.progress.timeSpent > 1) { o += \"\\n\\t\\t\\t\" + lesson.progress.timeSpent + \" <span data-weave=\\\"troopjs-ef/blurb/widget\\\" data-blurb-id=\\\"668333\\\" data-text-en=\\\"minutes\\\"></span>\\n\\t\\t\\t\"; } else { o += \"\\n\\t\\t\\t<span class=\\\"ets-pr-empty-content\\\">--</span>\\n\\t\\t\\t\"; } o += \"\\n\\t\\t</div>\\n\\t\\t<div class=\\\"ets-pr-lesson-score\\\">\\n\\t\\t\\t\"; if (_progressState.hasPassed(lesson.progress.state)) { o += \"\\n\\t\\t\\t\" + lesson.progress.score + \"%\\n\\t\\t\\t\"; } else { o += \"\\n\\t\\t\\t<span class=\\\"ets-pr-empty-content\\\">--</span>\\n\\t\\t\\t\"; } o += \"\\n\\t\\t</div>\\n\\t\\t<div class=\\\"ets-pr-lesson-state\\\">\\n\\t\\t\\t<div class=\\\"ets-pr-ico-mobilephone\\\">\\n\\t\\t\\t\\t\"; if (_hasLessonPassed(lesson,'MOBLesson')){ o += \"\\n\\t\\t\\t\\t<div data-weave=\\\"school-ui-shared/widget/vector('school-ui-progress-report/vector/ico_mobilephone',20,22)\\\" data-at-device=\\\"mobile\\\"></div>\\n\\t\\t\\t\\t\"; } o += \"\\n\\t\\t\\t</div>\\n\\t\\t\\t<div class=\\\"ets-pr-ico-pc\\\">\\n\\t\\t\\t\\t\"; if (_hasLessonPassed(lesson,'PCLesson')){ o += \"\\n\\t\\t\\t\\t<div data-weave=\\\"school-ui-shared/widget/vector('school-ui-progress-report/vector/ico_pc',44,29)\\\" data-at-device=\\\"desktop\\\"></div>\\n\\t\\t\\t\\t\"; } o += \"\\n\\t\\t\\t</div>\\n\\t\\t\\t\"; if (_progressState.hasPassed(lesson.progress.state)) { o += \"\\n\\t\\t\\t<div class=\\\"ets-pr-checkmark ets-pr-checkmark-passed\\\" data-weave=\\\"school-ui-shared/widget/vector('school-ui-progress-report/vector/ico_checkmark',24,24)\\\"></div>\\n\\t\\t\\t\"; } else { o += \"\\n\\t\\t\\t<div class=\\\"ets-pr-checkmark ets-pr-checkmark-not-passed\\\" data-weave=\\\"school-ui-shared/widget/vector('school-ui-progress-report/vector/ico_circle_gray',24,24)\\\"></div>\\n\\t\\t\\t\"; } o += \"\\n\\t\\t</div>\\n\\t</div>\\n\\t\";\n\t}\n}\no += \"\\n\\n\";\nfor(var i = 0; i < units.length ; i++) {\n\tvar unit = units[i];\n\tvar unitState = _getUnitState(unit);\no += \"\\n<div class=\\\"ets-pr-unit-item\\\">\\n\\t<div class=\\\"ets-pr-unit-header\\\">\\n\\t\\t<p class=\\\"ets-pr-unit-no\\\">\\n\\t\\t\\t<span data-weave=\\\"troopjs-ef/blurb/widget\\\" data-blurb-id=\\\"659676\\\" data-text-en=\\\"Unit\\\"></span>\\n\\t\\t\\t<span>\" + unit.unitNo + \"</span>\\n\\t\\t\\t\"; if (unit.archiveUnit) {o += \"\\n\\t\\t\\t\\t<span class=\\\"ets-pr-lesson-list-switch to-new switched\\\"><span data-weave=\\\"troopjs-ef/blurb/widget\\\" data-blurb-id=\\\"705112\\\" data-text-en=\\\"New\\\"></span>\";if (_progressState.hasPassed(unit.progress.state)) {o += \"<span class=\\\"ets-pr-checkmark\\\" data-weave=\\\"school-ui-shared/widget/vector('school-ui-progress-report/vector/ico_checkmark',16,16)\\\"></span>\";}o += \"</span>\\n\\t\\t\\t\\t<span class=\\\"ets-pr-lesson-list-switch to-old\\\"><span data-weave=\\\"troopjs-ef/blurb/widget\\\" data-blurb-id=\\\"705113\\\" data-text-en=\\\"Old\\\"></span>\";if (_progressState.hasPassed(unit.archiveUnit.progress.state)) {o += \"<span class=\\\"ets-pr-checkmark\\\" data-weave=\\\"school-ui-shared/widget/vector('school-ui-progress-report/vector/ico_checkmark',16,16)\\\"></span>\";}o += \"</span>\\n\\t\\t\\t\"; } else if (_progressState.hasPassed(unit.progress.state)) { o += \"\\n\\t\\t\\t\\t<span class=\\\"ets-pr-checkmark\\\" data-weave=\\\"school-ui-shared/widget/vector('school-ui-progress-report/vector/ico_checkmark',24,24)\\\"></span>\\n\\t\\t\\t\"; } o += \"\\n\\t\\t</p>\\n\\t\\t<p class=\\\"ets-pr-unit-name\\\"><span data-weave=\\\"school-ui-shared/widget/hyphenate\\\">\" + unit.unitName + \"</span></p>\\n\\t\\t\"; if(unitState) { o += \"\\n\\t\\t\\t<p class=\\\"ets-pr-unit-state ets-pr-unit-state-\" +unitState.stateName+ \"\\\"><span data-weave=\\\"troopjs-ef/blurb/widget\\\" data-blurb-id=\\\"\" + unitState.blurbId+ \"\\\" data-text-en=\\\"\" + unitState.blurbTextEn+ \"\\\"></span> \" +unitState.suffix+ \"</p>\\n\\t\\t\"; } o += \"\\n\\t</div>\\n\\t<div class=\\\"ets-pr-unit-detail\\\">\\n\\t\\t<div class=\\\"ets-pr-lesson-list is-new switched ets-show\\\">\\n\\t\\t\\t\"; renderLessonItems(unit.children); o += \"\\n\\t\\t</div>\\n\\t\\t\";if (unit.archiveUnit) {o += \"\\n\\t\\t<div class=\\\"ets-pr-lesson-list is-old\\\">\\n\\t\\t\\t\"; renderLessonItems(unit.archiveUnit.children); o += \"\\n\\t\\t</div>\\n\\t\\t\";}o += \"\\n\\t</div>\\n</div>\\n\"; }  return o; }; });\n","define('school-ui-progress-report/widget/shared/unit-list/base',[\n\t\"jquery\",\n\t\"jquery.gudstrap\",\n\t\"when\",\n\t\"moment\",\n\t\"poly\",\n\t\"troopjs-ef/component/widget\",\n\t\"school-ui-shared/utils/progress-state\",\n\t\"school-ui-shared/enum/moment-language\",\n\t\"template!./unit-list.html\"\n], function ($, GUD, when, Moment, Poly, Widget, progressState, momentLang, tUnitList) {\n\t\"use strict\";\n\n\tvar PAGE = \"_page\";\n\tvar PROMISE_BLURBS = \"_promise_blurbs\";\n\tvar CURRENT_ENROLLMENT = \"_currentEnroll\";\n\tvar SEL_UNIT_ITEM = \".ets-pr-unit-item\";\n\tvar SEL_LESSON_LIST_SWITCH = \".ets-pr-lesson-list-switch\";\n\tvar SEL_LESSON_LIST = \".ets-pr-lesson-list\";\n\tvar SEL_IS_NEW = \".is-new\";\n\tvar SEL_IS_OLD = \".is-old\";\n\tvar SEL_SCORE_ICON = \".ets-pr-unit-list-header .ets-pr-lesson-score .ets-pr-icon\";\n\tvar CLS_SWITCHED = \"switched\";\n\tvar CLS_SHOW = \"ets-show\";\n\n\tfunction initBlurbs() {\n\t\tvar me = this;\n\t\tvar blurbs = {\n\t\t\tscoreTitle: {\n\t\t\t\tid: \"666900\",\n\t\t\t\ten: \"How is the total score calculated?\"\n\t\t\t},\n\t\t\tscoreContent1: {\n\t\t\t\tid: \"666901\",\n\t\t\t\ten: \"The total score shows the score that is the highest from either the web, tablet or phone.\"\n\t\t\t},\n\t\t\tscoreContent2: {\n\t\t\t\tid: \"666902\",\n\t\t\t\ten: \"The score on your phone is represented by stars, but shown as % in the progress report.\"\n\t\t\t}\n\t\t};\n\n\t\tvar blurbNames = Object.keys(blurbs);\n\t\tvar blurbIds = blurbNames.map(function (blurbName) {\n\t\t\treturn \"blurb!\" + blurbs[blurbName].id;\n\t\t});\n\n\t\treturn me.query(blurbIds).then(function (blurbResults) {\n\t\t\tblurbResults.forEach(function (blurbResult, index) {\n\t\t\t\tblurbs[blurbNames[index]].translation = blurbResult.translation || blurbs[blurbNames[index]].en;\n\t\t\t});\n\n\t\t\treturn blurbs;\n\t\t});\n\t}\n\n\tfunction doRender(context, level) {\n\t\tvar me = this;\n\n\t\tif (!context || !level) {\n\t\t\treturn;\n\t\t}\n\n\t\tme._getUnitState = function (unit) {\n\t\t\tvar unitProgress = unit.progress;\n\t\t\tif (progressState.notStarted(unitProgress.state)) {\n\t\t\t\treturn {\n\t\t\t\t\tblurbId: \"659677\",\n\t\t\t\t\tblurbTextEn: \"Not yet started\",\n\t\t\t\t\tstateName: \"not-started\",\n\t\t\t\t\tsuffix: \"\"\n\t\t\t\t};\n\t\t\t}\n\t\t\telse if (progressState.hasStarted(unitProgress.state)) {\n\t\t\t\tif (me[CURRENT_ENROLLMENT].studentUnit.id === unit.id) {\n\t\t\t\t\treturn {\n\t\t\t\t\t\tblurbId: \"659679\",\n\t\t\t\t\t\tblurbTextEn: \"Ongoing\",\n\t\t\t\t\t\tstateName: \"on-going\",\n\t\t\t\t\t\tsuffix: \"\"\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\treturn {\n\t\t\t\t\t\tblurbId: \"\",\n\t\t\t\t\t\tblurbTextEn: \"\",\n\t\t\t\t\t\tstateName: \"started\",\n\t\t\t\t\t\tsuffix: \"\"\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if (progressState.hasPassed(unitProgress.state)) {\n\t\t\t\tvar momentPassed = Moment(unitProgress.completionDate);\n\t\t\t\tmomentPassed.locale(momentLang[context.cultureCode.toLowerCase()] || \"en\");\n\t\t\t\treturn {\n\t\t\t\t\tblurbId: \"659678\",\n\t\t\t\t\tblurbTextEn: \"Passed on\",\n\t\t\t\t\tstateName: \"passed\",\n\t\t\t\t\tsuffix: momentPassed.format(\"ll\")\n\t\t\t\t};\n\t\t\t}\n\t\t};\n\n\t\tme._hasLessonPassed = function (studentLesson, typeCode) {\n\t\t\tvar detail = studentLesson.progress.detail;\n\t\t\treturn detail && detail.items && detail.items.reduce(function (prev, item) {\n\t\t\t\t\treturn prev || (item.sourceTypeCode === typeCode && progressState.hasPassed(item.state));\n\t\t\t\t}, false);\n\t\t};\n\n\t\tme._progressState = progressState;\n\n\t\tvar renderPromise = me.html(tUnitList, {\n\t\t\t\"units\": level.children\n\t\t});\n\n\t\treturn when.all([\n\t\t\tme[PROMISE_BLURBS],\n\t\t\trenderPromise\n\t\t]).spread(function (blurbs) {\n\t\t\t$(SEL_SCORE_ICON).popover({\n\t\t\t\t\"title\": \"<p data-blurb-id='\" + blurbs.scoreTitle.id + \"' data-text-en='\" + blurbs.scoreTitle.en + \"'>\" + blurbs.scoreTitle.translation + \"</p>\",\n\t\t\t\t\"content\": \"<p data-blurb-id='\" + blurbs.scoreContent1.id + \"' data-text-en='\" + blurbs.scoreContent1.en + \"'>\" + blurbs.scoreContent1.translation + \"</p>\" +\n\t\t\t\t\"<p data-blurb-id='\" + blurbs.scoreContent2.id + \"' data-text-en='\" + blurbs.scoreContent2.en + \"'>\" + blurbs.scoreContent2.translation + \"</p>\"\n\t\t\t});\n\t\t});\n\t}\n\n\tfunction switchLessonList($switchLabel, selTargetList) {\n\t\t$switchLabel = $($switchLabel);\n\t\tif (!$switchLabel.hasClass(CLS_SWITCHED)) {\n\t\t\t$switchLabel.addClass(CLS_SWITCHED);\n\n\t\t\tvar $otherSwitchLabels = $switchLabel.siblings(SEL_LESSON_LIST_SWITCH);\n\t\t\t$otherSwitchLabels.removeClass(CLS_SWITCHED);\n\n\t\t\tvar $lessonLists = $switchLabel.closest(SEL_UNIT_ITEM).find(SEL_LESSON_LIST);\n\t\t\t$lessonLists.removeClass(CLS_SWITCHED).removeClass(CLS_SHOW);\n\n\t\t\tvar $switchedLessonList = $lessonLists.filter(selTargetList);\n\t\t\t$switchedLessonList.addClass(CLS_SWITCHED);\n\t\t\t(window.requestAnimationFrame || setTimeout)(function () {  //fade animation\n\t\t\t\t$switchedLessonList.addClass(CLS_SHOW);\n\t\t\t});\n\t\t}\n\t}\n\n\treturn Widget.extend(function (path, $element, page, initData) {\n\t\tvar me = this;\n\t\tme[PAGE] = page;\n\t\tme[CURRENT_ENROLLMENT] = initData.currentEnroll;\n\t}, {\n\t\t\"sig/start\": function () {\n\t\t\tvar me = this;\n\t\t\tme[PROMISE_BLURBS] = initBlurbs.call(me);\n\t\t},\n\t\t\"dom:.ets-pr-lesson-list-switch.to-new:not(.switched)/click\": function (e) {\n\t\t\tswitchLessonList(e.currentTarget, SEL_IS_NEW);\n\t\t},\n\t\t\"dom:.ets-pr-lesson-list-switch.to-old:not(.switched)/click\": function (e) {\n\t\t\tswitchLessonList(e.currentTarget, SEL_IS_OLD);\n\t\t},\n\t\t\"render\": doRender\n\t});\n});\n","\ndefine('troopjs-requirejs/template!school-ui-progress-report/widget/shared/unit-list/e10-archive/notice.html',[],function() { return function template(data) { var o = \"<p class=\\\"ets-pr-archive-unit-notice\\\" data-weave=\\\"troopjs-ef/blurb/widget\\\" data-blurb-id=\\\"684697\\\" data-text-en=\\\"These units are part of an outdated course structure. You will always be able to check your progress and access your feedback reports, but you can't open these outdated units.\\\"></p>\"; return o; }; });\n","define('school-ui-progress-report/widget/shared/unit-list/e10-archive/main',[\n\t\"when\",\n\t\"../base\",\n\t\"template!./notice.html\"\n], function (when, BaseWidget, tNotice) {\n\t\"use strict\";\n\n\tvar $ELEMENT = \"$element\";\n\tvar CONTEXT = \"_context\";\n\tvar PAGE = \"_page\";\n\tvar LEVEL = \"_level\";\n\tvar SEL_NOTICE = \".ets-pr-archive-unit-notice\";\n\n\tfunction renderArchiveUnits(context, level) {\n\t\tvar me = this;\n\t\tvar renderResult = me.render(context, level);\n\t\trenderResult && renderResult.then(function () {\n\t\t\tif (!me[$ELEMENT].find(SEL_NOTICE).length) {\n\t\t\t\t//if render was called many times, make sure add notice only once\n\t\t\t\tme.prepend(tNotice);\n\t\t\t}\n\t\t});\n\t}\n\n\treturn BaseWidget.extend({\n\t\t\"hub:memory/context\": function (context) {\n\t\t\tvar me = this;\n\t\t\trenderArchiveUnits.call(me, me[CONTEXT] = context, me[LEVEL]);\n\t\t},\n\t\t\"hub:memory/load/level\": function onLevel(page, data) {\n\t\t\tvar me = this;\n\t\t\tif (me[PAGE] === page) {\n\t\t\t\tvar level = data.level;\n\t\t\t\tvar ArchiveE10Level = data.archiveLevel && data.archiveLevel.e10;\n\n\t\t\t\tif (ArchiveE10Level && ArchiveE10Level.children.length > level.children.length) {\n\t\t\t\t\tArchiveE10Level.children = ArchiveE10Level.children.sort(function (prev, curr) {\n\t\t\t\t\t\treturn (prev.unitNo || 0) - (curr.unitNo || 0);\n\t\t\t\t\t}).slice(level.children.length);\n\n\t\t\t\t\tArchiveE10Level.children.forEach(function (archiveUnit) {\n\t\t\t\t\t\tarchiveUnit.children && archiveUnit.children.length && archiveUnit.children.sort(function (prevLesson, currLesson) {\n\t\t\t\t\t\t\treturn prevLesson.lessonNo - currLesson.lessonNo;\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\n\t\t\t\t\trenderArchiveUnits.call(me, me[CONTEXT], me[LEVEL] = ArchiveE10Level);\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tme[$ELEMENT].empty();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t});\n});\n","define('school-ui-progress-report/widget/shared/unit-list/normal/main',[\n\t\"jquery\",\n\t\"when\",\n\t\"underscore\",\n\t\"../base\",\n\t\"school-ui-shared/utils/typeid-parser\",\n\t\"school-ui-shared/utils/progress-state\"\n], function ($, when, _, BaseWidget, typeidParser, progressState) {\n\t\"use strict\";\n\n\tvar CONTEXT = \"_context\";\n\tvar PAGE = \"_page\";\n\tvar LEVEL = \"_level\";\n\n\tvar LINK_TYPE_E13 = \"e13\";\n\tvar LINK_TYPE_STUDYPLAN = \"studyplan\";\n\tvar CCL_LESSON_LINK_TYPE = \"ccl!'school.ui.progress.report.lesson.link.type'\";\n\n\tfunction setActualLessonId(mergedLesson) {\n\t\tvar progress = mergedLesson.progress;\n\t\tvar progressItems = progress.detail.items;\n\t\tif (progressItems.length === 1) {\n\t\t\tmergedLesson.actualLessonId = 'student_lesson!' + progressItems[0].sourceProgressId;\n\t\t}\n\t\telse if (progressState.notStarted(progress.state)) {    //not started\n\t\t\tmergedLesson.actualLessonId = mergedLesson.id\n\t\t}\n\t\telse if (!progressState.hasPassed(progress.state)) {    //in progress\n\t\t\tvar actualLessonProgress = progressItems.reduce(function (prev, curr) {\n\t\t\t\treturn prev.startDate <= curr.startDate ? prev : curr;\n\t\t\t});\n\t\t\tmergedLesson.actualLessonId = 'student_lesson!' + actualLessonProgress.sourceProgressId;\n\t\t}\n\t\telse {  //finished\n\t\t\tvar finishedLessonProgress = progressItems.filter(function (item) {\n\t\t\t\treturn progressState.hasPassed(item.state);\n\t\t\t});\n\n\t\t\tif (finishedLessonProgress.length === 1) {\n\t\t\t\tactualLessonProgress = finishedLessonProgress[0];\n\t\t\t}\n\t\t\telse {\n\t\t\t\tactualLessonProgress = finishedLessonProgress.reduce(function (prev, curr) {\n\t\t\t\t\treturn prev.completionDate <= curr.completionDate ? prev : curr;\n\t\t\t\t});\n\t\t\t}\n\t\t\tmergedLesson.actualLessonId = 'student_lesson!' + actualLessonProgress.sourceProgressId;\n\t\t}\n\n\t\treturn mergedLesson.actualLessonId;\n\t}\n\n\n\tfunction getE13LessonLinks(level) {\n\t\tvar me = this;\n\t\tvar links = {};\n\t\tvar course = level.parent;\n\t\tvar units = level.children;\n\t\tvar lessonMapPromises = [];\n\n\t\tunits.filter(function (unit) {\n\t\t\treturn !progressState.notStarted(unit.progress.state);\n\t\t}).forEach(function (unit) {\n\t\t\tunit.children.forEach(function (lesson) {\n\t\t\t\tlessonMapPromises.push(me.query(\"pc_student_lesson_map!\" + lesson.templateLessonId).spread(function (lessonMap) {\n\t\t\t\t\t//url format: /school/studyunit#school/{studentCourseId}/{studentCourseId}/{studentLevelId}/{studentUnitId}/{pc-studentLessonId}\n\t\t\t\t\tvar url = \"/school/studyunit#school\" +\n\t\t\t\t\t\t\"/\" + course.studentCourseId +\n\t\t\t\t\t\t\"/\" + course.studentCourseId +\n\t\t\t\t\t\t\"/\" + level.studentLevelId +\n\t\t\t\t\t\t\"/\" + unit.studentUnitId +\n\t\t\t\t\t\t\"/\" + typeidParser.parseId(lessonMap.lesson.id);\n\t\t\t\t\tlinks[lesson.studentLessonId] = url;\n\t\t\t\t}));\n\t\t\t});\n\t\t});\n\n\t\treturn when.all(lessonMapPromises).then(function () {\n\t\t\treturn links;\n\t\t});\n\t}\n\n\tfunction getStudyplanLessonLinks(level) {\n\t\tvar me = this;\n\t\tvar links = {};\n\t\tvar units = level.children;\n\n\t\tvar studyplansQ = units.filter(function (unit) {\n\t\t\treturn !progressState.notStarted(unit.progress.state);\n\t\t}).map(function (unit) {\n\t\t\treturn \"student_unit_studyplan!\" + unit.templateUnitId + \".studyPlan.items,.studentUnit\";\n\t\t});\n\t\treturn me.query(studyplansQ).then(function (unitStudyplans) {\n\t\t\tunitStudyplans && unitStudyplans.forEach(function (unitStudyplan) {\n\t\t\t\tvar unit = unitStudyplan.studentUnit;\n\t\t\t\tvar studyplan = unitStudyplan.studyPlan;\n\n\t\t\t\tunit.children.forEach(function (lesson) {\n\t\t\t\t\tvar studyplanId = typeidParser.parseId(studyplan.id);\n\t\t\t\t\tvar studyplanItemId = typeidParser.parseId(studyplan.items.filter(function (studyplanItem) {\n\t\t\t\t\t\treturn studyplanItem.properties.templateLessonId === lesson.templateLessonId;\n\t\t\t\t\t})[0].id);\n\n\t\t\t\t\t//url format: /school/studyplan#study/{studyplannId}/{studyplanItemId}\n\t\t\t\t\tvar url = \"/school/studyplan#study\" +\n\t\t\t\t\t\t\"/\" + studyplanId +\n\t\t\t\t\t\t\"/\" + studyplanItemId;\n\t\t\t\t\tlinks[lesson.studentLessonId] = url;\n\t\t\t\t});\n\t\t\t});\n\n\t\t\treturn links;\n\t\t});\n\t}\n\n\tfunction getLessonLinks(level) {\n\t\t/* expected returned structure:\n\t\t{\n\t\t\t\"lessonid_1_of_unit_1\": \"link url\",\n\t\t\t\"lessonid_2_of_unit_1\": \"link url\",\n\t\t\t\"lessonid_3_of_unit_1\": \"link url\",\n\t\t\t\"lessonid_4_of_unit_1\": \"link url\",\n\n\t\t\t\"lessonid_1_of_unit_2\": \"link url\",\n\t\t\t\"lessonid_2_of_unit_2\": \"link url\",\n\t\t\t\"lessonid_3_of_unit_2\": \"link url\",\n\t\t\t\"lessonid_4_of_unit_2\": \"link url\"\n\t\t }\n\t\t*/\n\t\tvar me = this;\n\t\treturn me.query(CCL_LESSON_LINK_TYPE).spread(function (cclLessonLinkType) {\n\t\t\tif (cclLessonLinkType.value === LINK_TYPE_E13) {\n\t\t\t\treturn getE13LessonLinks.call(me, level);\n\t\t\t}\n\t\t\telse if (cclLessonLinkType.value === LINK_TYPE_STUDYPLAN) {\n\t\t\t\treturn getStudyplanLessonLinks.call(me, level);\n\t\t\t}\n\t\t\telse {\n\t\t\t\treturn {};\n\t\t\t}\n\t\t});\n\t}\n\n\tfunction hookArchiveUnit(units, archiveUnits) {\n\t\tarchiveUnits && units.forEach(function (unit) {\n\t\t\tvar archiveUnit = _.find(archiveUnits, function (archiveUnit) {\n\t\t\t\treturn unit.unitNo === archiveUnit.unitNo\n\t\t\t});\n\t\t\tif (archiveUnit) {\n\t\t\t\tarchiveUnit.children && archiveUnit.children.length && archiveUnit.children.sort(function (prevLesson, currLesson) {\n\t\t\t\t\treturn prevLesson.lessonNo - currLesson.lessonNo;\n\t\t\t\t});\n\t\t\t\tunit.archiveUnit = archiveUnit;\n\t\t\t}\n\t\t});\n\t}\n\n\treturn BaseWidget.extend({\n\t\t\"hub:memory/context\": function (context) {\n\t\t\tvar me = this;\n\t\t\tme.render(me[CONTEXT] = context, me[LEVEL]);\n\t\t},\n\t\t\"hub:memory/load/level\": function onLevel(page, data) {\n\t\t\tvar me = this;\n\t\t\tif (me[PAGE] === page) {\n\t\t\t\tvar level = $.extend({}, data.level);\n\t\t\t\tlevel.children = $.extend([], level.children);\n\n\t\t\t\tvar archiveLevel = data.archiveLevel && data.archiveLevel.e13;\n\t\t\t\thookArchiveUnit(level.children, archiveLevel && archiveLevel.children);\n\n\t\t\t\tvar actualLessonQueries = [];\n\n\t\t\t\tlevel.children.forEach(function (unit) {\n\t\t\t\t\tfor (var lessonIndex = 0; lessonIndex < unit.children.length; lessonIndex++) {\n\t\t\t\t\t\tunit.children[lessonIndex] = $.extend({}, unit.children[lessonIndex]);\n\t\t\t\t\t\tvar actualLessonId = setActualLessonId(unit.children[lessonIndex]);\n\t\t\t\t\t\tactualLessonId && actualLessonQueries.push(actualLessonId);\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tvar actualLessonQueriesPromise = actualLessonQueries.length ?\n\t\t\t\t\tme.query(actualLessonQueries) :\n\t\t\t\t\twhen.resolve([]);\n\n\t\t\t\twhen.all([\n\t\t\t\t\tactualLessonQueriesPromise,\n\t\t\t\t\tgetLessonLinks.call(me, level)\n\t\t\t\t]).spread(function (actualLessons, lessonLinks) {\n\t\t\t\t\tlevel.children.forEach(function (unit) {\n\t\t\t\t\t\tunit.children.forEach(function (lesson) {\n\t\t\t\t\t\t\t//attach actualLesson Object\n\t\t\t\t\t\t\tif (lesson.actualLessonId) {\n\t\t\t\t\t\t\t\tlesson.actualLesson = actualLessons.filter(function (actualLesson) {\n\t\t\t\t\t\t\t\t\treturn actualLesson.id === lesson.actualLessonId;\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\tif (lesson.actualLesson.length) {\n\t\t\t\t\t\t\t\t\tlesson.actualLesson = lesson.actualLesson[0];\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t//attach lesson link\n\t\t\t\t\t\t\tvar lessonLink = lessonLinks[lesson.studentLessonId];\n\t\t\t\t\t\t\tif (lessonLink) {\n\t\t\t\t\t\t\t\tlesson.lessonLink = lessonLink;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\n\t\t\t\t\tme.render(me[CONTEXT], me[LEVEL] = level);\n\t\t\t\t});\n\n\t\t\t}\n\t\t}\n\t});\n});\n","\ndefine('troopjs-requirejs/template!school-ui-progress-report/vector/ico_arrow_light_right.svg',[],function() { return function template(data) { var o = \"<?xml version=\\\"1.0\\\" encoding=\\\"utf-8\\\"?>\\n<!-- Generator: Adobe Illustrator 16.0.0, SVG Export Plug-In . SVG Version: 6.00 Build 0)  -->\\n<!DOCTYPE svg PUBLIC \\\"-//W3C//DTD SVG 1.1//EN\\\" \\\"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd\\\">\\n<svg version=\\\"1.1\\\" id=\\\"Layer_1\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" x=\\\"0px\\\" y=\\\"0px\\\"\\n\\t width=\\\"21px\\\" height=\\\"11px\\\" viewBox=\\\"0 0 21 11\\\" enable-background=\\\"new 0 0 21 11\\\" xml:space=\\\"preserve\\\">\\n<path fill-rule=\\\"evenodd\\\" clip-rule=\\\"evenodd\\\" fill=\\\"#FFFFFF\\\" d=\\\"M19.853,5.522L15.669,10L14.78,9.067l2.659-2.879H1L0.995,4.75\\n\\th16.457L14.78,1.976l0.889-0.933L19.853,5.522L19.853,5.522L19.853,5.522z\\\"/>\\n</svg>\"; return o; }; });\n","\ndefine('troopjs-requirejs/template!school-ui-progress-report/vector/ico_cert.svg',[],function() { return function template(data) { var o = \"<?xml version=\\\"1.0\\\" encoding=\\\"utf-8\\\"?>\\n<!-- Generator: Adobe Illustrator 16.0.0, SVG Export Plug-In . SVG Version: 6.00 Build 0)  -->\\n<!DOCTYPE svg PUBLIC \\\"-//W3C//DTD SVG 1.1//EN\\\" \\\"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd\\\">\\n<svg version=\\\"1.1\\\" id=\\\"Layer_1\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" x=\\\"0px\\\" y=\\\"0px\\\"\\n\\t width=\\\"40px\\\" height=\\\"40px\\\" viewBox=\\\"0 0 40 40\\\" enable-background=\\\"new 0 0 40 40\\\" xml:space=\\\"preserve\\\">\\n<path fill=\\\"#FFFFFF\\\" d=\\\"M29.629,13.332l2.873,1.933l-2.875,1.934l1.922,2.895l-3.387,0.678l0.676,3.418l-2.08-0.42l4.576,7.998\\n\\tl-5.256-1.418l-1.406,5.301l-4.549-7.949L20,27.887l-0.049-0.074l-4.483,7.84L14.06,30.35l-5.255,1.42l4.594-8.035l-2.24,0.451\\n\\tl0.677-3.418l-3.387-0.675l1.921-2.896l-2.871-1.932l2.872-1.933l-1.922-2.895l3.388-0.677L11.16,6.341l3.386,0.684l0.671-3.419\\n\\tl2.869,1.94L20,2.646l1.915,2.899l2.869-1.938l0.67,3.418l3.385-0.684L28.163,9.76l3.389,0.677L29.629,13.332z M24.344,33.137\\n\\tl1.055-3.977l3.943,1.061l-3.838-6.709l-0.049-0.01l-0.672,3.42l-2.867-1.939l-1.197,1.814L24.344,33.137z M10.798,30.225\\n\\tl3.942-1.062l1.055,3.977l3.562-6.227l-1.272-1.928l-2.87,1.939l-0.645-3.295L10.798,30.225z M20,8.47\\n\\tc-3.717,0-6.731,3.043-6.731,6.795c0,3.752,3.015,6.793,6.731,6.793c3.715,0,6.73-3.042,6.73-6.793\\n\\tC26.73,11.513,23.717,8.47,20,8.47z M20,20.119c-2.656,0-4.808-2.173-4.808-4.854s2.15-4.854,4.808-4.854s4.809,2.172,4.809,4.854\\n\\tC24.809,17.946,22.657,20.119,20,20.119z\\\"/>\\n</svg>\"; return o; }; });\n","\ndefine('troopjs-requirejs/template!school-ui-progress-report/vector/ico_checkmark.svg',[],function() { return function template(data) { var o = \"<?xml version=\\\"1.0\\\" encoding=\\\"utf-8\\\"?>\\n<!-- Generator: Adobe Illustrator 16.0.0, SVG Export Plug-In . SVG Version: 6.00 Build 0)  -->\\n<!DOCTYPE svg PUBLIC \\\"-//W3C//DTD SVG 1.1//EN\\\" \\\"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd\\\">\\n<svg version=\\\"1.1\\\" id=\\\"Layer_1\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" x=\\\"0px\\\" y=\\\"0px\\\"\\n\\t width=\\\"32px\\\" height=\\\"32px\\\" viewBox=\\\"0 0 32 32\\\" enable-background=\\\"new 0 0 32 32\\\" xml:space=\\\"preserve\\\">\\n<circle fill=\\\"#74D17F\\\" cx=\\\"16\\\" cy=\\\"16\\\" r=\\\"15\\\"/>\\n<path fill=\\\"#FFFFFF\\\" d=\\\"M15.11,21.63l-1.555,1.578L8.11,17.54l1.555-1.579l3.891,4.09l9.783-10.266l1.551,1.579L15.11,21.63z\\\"/>\\n</svg>\"; return o; }; });\n","\ndefine('troopjs-requirejs/template!school-ui-progress-report/vector/ico_circle_black.svg',[],function() { return function template(data) { var o = \"<?xml version=\\\"1.0\\\" encoding=\\\"utf-8\\\"?>\\n<!-- Generator: Adobe Illustrator 19.0.0, SVG Export Plug-In . SVG Version: 6.00 Build 0)  -->\\n<svg version=\\\"1.1\\\" id=\\\"Layer_1\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" x=\\\"0px\\\" y=\\\"0px\\\"\\n\\t viewBox=\\\"0 0 32 32\\\" style=\\\"enable-background:new 0 0 32 32;\\\" xml:space=\\\"preserve\\\" width=\\\"32\\\" height=\\\"32\\\">\\n<path style=\\\"fill:#FFFFFF;stroke:#000000;stroke-width:0.6px;\\\" d=\\\"M16,26.5c-5.8,0-10.5-4.7-10.5-10.5S10.2,5.5,16,5.5S26.5,10.2,26.5,16S21.8,26.5,16,26.5z\\\"/>\\n<path d=\\\"M16,16L16,16L16,16L16,16L16,16L16,16z\\\"\\n\\t\\tdata-d-origin=\\\"M16,16L16,16L16,16L16,16L16,16L16,16z\\\"\\n\\t\\tdata-d-select=\\\"M16,11c-2.8,0-5,2.2-5,5c0,2.8,2.2,5,5,5s5-2.2,5-5C21,13.2,18.8,11,16,11L16,11z\\\"/>\\n</svg>\"; return o; }; });\n","\ndefine('troopjs-requirejs/template!school-ui-progress-report/vector/ico_circle_blue.svg',[],function() { return function template(data) { var o = \"<?xml version=\\\"1.0\\\" encoding=\\\"utf-8\\\"?>\\n<!-- Generator: Adobe Illustrator 19.0.0, SVG Export Plug-In . SVG Version: 6.00 Build 0)  -->\\n<svg version=\\\"1.1\\\" id=\\\"Layer_1\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" x=\\\"0px\\\" y=\\\"0px\\\"\\n\\t viewBox=\\\"0 0 32 32\\\" style=\\\"enable-background:new 0 0 32 32;\\\" xml:space=\\\"preserve\\\" width=\\\"32\\\" height=\\\"32\\\">\\n<path id=\\\"XMLID_2_\\\" style=\\\"fill:#0078FF;\\\" d=\\\"M16,5C9.9,5,5,9.9,5,16s4.9,11,11,11s11-4.9,11-11S22.1,5,16,5L16,5z\\\"/>\\n<path id=\\\"XMLID_3_\\\" style=\\\"fill:#FFFFFF;\\\" d=\\\"M16,16L16,16L16,16L16,16L16,16L16,16z\\\"\\n\\t\\tdata-d-origin=\\\"M16,16L16,16L16,16L16,16L16,16L16,16z\\\"\\n\\t\\tdata-d-select=\\\"M16,11c-2.8,0-5,2.2-5,5s2.2,5,5,5s5-2.2,5-5S18.8,11,16,11L16,11z\\\"/>\\n</svg>\"; return o; }; });\n","\ndefine('troopjs-requirejs/template!school-ui-progress-report/vector/ico_circle_gray.svg',[],function() { return function template(data) { var o = \"<?xml version=\\\"1.0\\\" encoding=\\\"utf-8\\\"?>\\n<!-- Generator: Adobe Illustrator 19.0.0, SVG Export Plug-In . SVG Version: 6.00 Build 0)  -->\\n<svg version=\\\"1.1\\\" id=\\\"Layer_1\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" x=\\\"0px\\\" y=\\\"0px\\\"\\n\\t viewBox=\\\"0 0 32 32\\\" style=\\\"enable-background:new 0 0 32 32;\\\" xml:space=\\\"preserve\\\" width=\\\"32\\\" height=\\\"32\\\">\\n\\t<path style=\\\"fill:#FFFFFF;stroke:#808080;stroke-width:0.6px;\\\" d=\\\"M16,26.5c-5.8,0-10.5-4.7-10.5-10.5S10.2,5.5,16,5.5S26.5,10.2,26.5,16\\n\\t\\tS21.8,26.5,16,26.5z\\\"/>\\n</svg>\"; return o; }; });\n","\ndefine('troopjs-requirejs/template!school-ui-progress-report/vector/ico_circle_green.svg',[],function() { return function template(data) { var o = \"<?xml version=\\\"1.0\\\" encoding=\\\"utf-8\\\"?>\\n<!-- Generator: Adobe Illustrator 19.0.0, SVG Export Plug-In . SVG Version: 6.00 Build 0)  -->\\n<svg version=\\\"1.1\\\" id=\\\"Layer_1\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" x=\\\"0px\\\" y=\\\"0px\\\"\\n\\t viewBox=\\\"0 0 32 32\\\" style=\\\"enable-background:new 0 0 32 32;\\\" xml:space=\\\"preserve\\\" width=\\\"32\\\" height=\\\"32\\\">\\n<path id=\\\"XMLID_2_\\\" style=\\\"fill:#74D17F;\\\" d=\\\"M16,5C9.9,5,5,9.9,5,16s4.9,11,11,11s11-4.9,11-11S22.1,5,16,5L16,5z\\\"/>\\n<path style=\\\"fill:#FFFFFF;\\\" d=\\\"M15,19.7l-1.1,1.1L10,16.7l1.1-1.1l2.8,2.9l7-7.4l1.1,1.1L15,19.7z\\\"\\n\\tdata-d-origin=\\\"M15,19.7l-1.1,1.1L10,16.7l1.1-1.1l2.8,2.9l7-7.4l1.1,1.1L15,19.7z\\\"\\n\\tdata-d-select=\\\"M16,11c-2.8,0-5,2.2-5,5s2.2,5,5,5s5-2.2,5-5S18.8,11,16,11L16,11z\\\"/>\\n</svg>\"; return o; }; });\n","\ndefine('troopjs-requirejs/template!school-ui-progress-report/vector/ico_close.svg',[],function() { return function template(data) { var o = \"<?xml version=\\\"1.0\\\" encoding=\\\"utf-8\\\"?>\\n<!-- Generator: Adobe Illustrator 19.0.0, SVG Export Plug-In . SVG Version: 6.00 Build 0)  -->\\n<svg version=\\\"1.1\\\" id=\\\"Layer_1\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" x=\\\"0px\\\" y=\\\"0px\\\" width=\\\"30px\\\" height=\\\"30px\\\"\\n\\t viewBox=\\\"0 0 30 30\\\" enable-background=\\\"new 0 0 30 30\\\" xml:space=\\\"preserve\\\">\\n<g>\\n\\t<line fill=\\\"none\\\" stroke=\\\"#000000\\\" stroke-miterlimit=\\\"10\\\" x1=\\\"21\\\" y1=\\\"9\\\" x2=\\\"9\\\" y2=\\\"21\\\"/>\\n\\t<line fill=\\\"none\\\" stroke=\\\"#000000\\\" stroke-miterlimit=\\\"10\\\" x1=\\\"21\\\" y1=\\\"21\\\" x2=\\\"9\\\" y2=\\\"9\\\"/>\\n</g>\\n<circle fill=\\\"none\\\" stroke=\\\"#000000\\\" stroke-miterlimit=\\\"10\\\" cx=\\\"15\\\" cy=\\\"15\\\" r=\\\"14\\\"/>\\n</svg>\"; return o; }; });\n","\ndefine('troopjs-requirejs/template!school-ui-progress-report/vector/ico_confirmation.svg',[],function() { return function template(data) { var o = \"<?xml version=\\\"1.0\\\" encoding=\\\"utf-8\\\"?>\\n<!-- Generator: Adobe Illustrator 19.0.0, SVG Export Plug-In . SVG Version: 6.00 Build 0)  -->\\n<svg version=\\\"1.1\\\" id=\\\"Layer_1\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" x=\\\"0px\\\" y=\\\"0px\\\" width=\\\"102px\\\" height=\\\"94px\\\"\\n\\t viewBox=\\\"0 0 102 94\\\" enable-background=\\\"new 0 0 102 94\\\" xml:space=\\\"preserve\\\">\\n<polyline fill=\\\"none\\\" stroke=\\\"#74D17F\\\" stroke-width=\\\"4\\\" stroke-linecap=\\\"round\\\" stroke-linejoin=\\\"round\\\" stroke-miterlimit=\\\"10\\\" points=\\\"\\n\\t29,40.1 47.4,58.5 100,6 \\\"/>\\n<path fill=\\\"none\\\" stroke=\\\"#74D17F\\\" stroke-width=\\\"4\\\" stroke-linecap=\\\"round\\\" stroke-linejoin=\\\"round\\\" stroke-miterlimit=\\\"10\\\" d=\\\"\\n\\tM90.4,35c1.1,3.8,1.6,7.8,1.6,12c0,24.9-20.1,45-45,45S2,71.9,2,47S22.1,2,47,2c10.1,0,19.5,3.3,27,9\\\"/>\\n</svg>\"; return o; }; });\n","\ndefine('troopjs-requirejs/template!school-ui-progress-report/vector/ico_dot_3.svg',[],function() { return function template(data) { var o = \"<?xml version=\\\"1.0\\\" encoding=\\\"utf-8\\\"?>\\n<!-- Generator: Adobe Illustrator 16.0.0, SVG Export Plug-In . SVG Version: 6.00 Build 0)  -->\\n<!DOCTYPE svg PUBLIC \\\"-//W3C//DTD SVG 1.1//EN\\\" \\\"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd\\\">\\n<svg version=\\\"1.1\\\" id=\\\"Layer_1\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" x=\\\"0px\\\" y=\\\"0px\\\"\\n\\t width=\\\"12px\\\" height=\\\"4px\\\" viewBox=\\\"0 0 12 4\\\" enable-background=\\\"new 0 0 12 4\\\" xml:space=\\\"preserve\\\">\\n<rect x=\\\"1\\\" y=\\\"1\\\" width=\\\"2\\\" height=\\\"2\\\"/>\\n<rect x=\\\"5\\\" y=\\\"1\\\" width=\\\"2\\\" height=\\\"2\\\"/>\\n<rect x=\\\"9\\\" y=\\\"1\\\" width=\\\"2\\\" height=\\\"2\\\"/>\\n</svg>\"; return o; }; });\n","\ndefine('troopjs-requirejs/template!school-ui-progress-report/vector/ico_flag.svg',[],function() { return function template(data) { var o = \"<?xml version=\\\"1.0\\\" encoding=\\\"utf-8\\\"?>\\n<!-- Generator: Adobe Illustrator 16.0.0, SVG Export Plug-In . SVG Version: 6.00 Build 0)  -->\\n<!DOCTYPE svg PUBLIC \\\"-//W3C//DTD SVG 1.1//EN\\\" \\\"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd\\\">\\n<svg version=\\\"1.1\\\" id=\\\"Layer_1\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" x=\\\"0px\\\" y=\\\"0px\\\"\\n\\t width=\\\"20px\\\" height=\\\"200px\\\" viewBox=\\\"0 0 20 200\\\" enable-background=\\\"new 0 0 20 200\\\" xml:space=\\\"preserve\\\">\\n<path fill=\\\"#FFFFFF\\\" fill-opacity=\\\"0.6\\\" d=\\\"M11.257,3.146C8.778,1.961,6.271,1.855,5,2.023v10.135\\n\\tc1.271-0.359,3.778-0.476,6.257,0.707C15.609,14.945,19,13.641,19,13.641V3.229C19,3.229,15.605,5.23,11.257,3.146z M1,200h2.028\\n\\tL3.038,1H1V200z\\\"/>\\n</svg>\"; return o; }; });\n","\ndefine('troopjs-requirejs/template!school-ui-progress-report/vector/ico_medal.svg',[],function() { return function template(data) { var o = \"<?xml version=\\\"1.0\\\" encoding=\\\"utf-8\\\"?>\\r\\n<!-- Generator: Adobe Illustrator 19.0.0, SVG Export Plug-In . SVG Version: 6.00 Build 0)  -->\\r\\n<svg version=\\\"1.1\\\" id=\\\"Layer_1\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" x=\\\"0px\\\" y=\\\"0px\\\" width=\\\"32px\\\" height=\\\"40px\\\"\\r\\n\\t viewBox=\\\"0 0 32 40\\\" enable-background=\\\"new 0 0 32 40\\\" xml:space=\\\"preserve\\\">\\r\\n<polygon id=\\\"XMLID_4_\\\" fill=\\\"none\\\" stroke=\\\"#C9B188\\\" stroke-width=\\\"1.5\\\" stroke-linecap=\\\"round\\\" stroke-miterlimit=\\\"10\\\" points=\\\"\\r\\n\\t26,17 29,15 26,13 28,10 24.5,9.3 25.2,5.8 21.7,6.5 21,3 18,5 16,2 14,5 11,3 10.3,6.5 6.8,5.8 7.5,9.3 4,10 6,13 3,15 6,17 4,20 \\r\\n\\t7.5,20.7 6.8,24.2 9.1,23.7 4.4,32 9.8,30.5 11.3,36 15.9,27.9 16,28 16.1,27.8 20.9,36 22.3,30.5 27.8,32 23,23.8 25.2,24.2 \\r\\n\\t24.5,20.7 28,20 \\\"/>\\r\\n<circle id=\\\"XMLID_3_\\\" fill=\\\"none\\\" stroke=\\\"#C9B188\\\" stroke-width=\\\"1.5\\\" stroke-linecap=\\\"round\\\" stroke-miterlimit=\\\"10\\\" cx=\\\"16\\\" cy=\\\"15\\\" r=\\\"5\\\"/>\\r\\n</svg>\"; return o; }; });\n","\ndefine('troopjs-requirejs/template!school-ui-progress-report/vector/ico_mobilephone.svg',[],function() { return function template(data) { var o = \"<?xml version=\\\"1.0\\\" encoding=\\\"utf-8\\\"?>\\r\\n<!-- Generator: Adobe Illustrator 19.0.0, SVG Export Plug-In . SVG Version: 6.00 Build 0)  -->\\r\\n<svg version=\\\"1.1\\\" id=\\\"Layer_1\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" x=\\\"0px\\\" y=\\\"0px\\\" width=\\\"20px\\\" height=\\\"22px\\\"\\r\\n\\t viewBox=\\\"0 0 20 22\\\" enable-background=\\\"new 0 0 20 22\\\" xml:space=\\\"preserve\\\">\\r\\n<path fill=\\\"#FFFFFF\\\" d=\\\"M6,20.5c-0.8,0-1.5-0.7-1.5-1.5V3c0-0.8,0.7-1.5,1.5-1.5h8c0.8,0,1.5,0.7,1.5,1.5v16c0,0.8-0.7,1.5-1.5,1.5\\r\\n\\tH6z\\\"/>\\r\\n<path fill=\\\"#222222\\\" d=\\\"M14,2c0.6,0,1,0.4,1,1v16c0,0.6-0.4,1-1,1H6c-0.6,0-1-0.4-1-1V3c0-0.6,0.4-1,1-1H14 M14,1H6\\r\\n\\tC4.9,1,4,1.9,4,3v16c0,1.1,0.9,2,2,2h8c1.1,0,2-0.9,2-2V3C16,1.9,15.1,1,14,1L14,1z\\\"/>\\r\\n<circle fill=\\\"#222222\\\" cx=\\\"10\\\" cy=\\\"17\\\" r=\\\"1\\\"/>\\r\\n</svg>\"; return o; }; });\n","\ndefine('troopjs-requirejs/template!school-ui-progress-report/vector/ico_pc.svg',[],function() { return function template(data) { var o = \"<?xml version=\\\"1.0\\\" encoding=\\\"utf-8\\\"?>\\r\\n<!-- Generator: Adobe Illustrator 18.1.1, SVG Export Plug-In . SVG Version: 6.00 Build 0)  -->\\r\\n<svg version=\\\"1.1\\\" id=\\\"Layer_1\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" x=\\\"0px\\\" y=\\\"0px\\\" width=\\\"44px\\\" height=\\\"29px\\\"\\r\\n\\t viewBox=\\\"0 0 44 29\\\" enable-background=\\\"new 0 0 44 29\\\" xml:space=\\\"preserve\\\">\\r\\n<path fill=\\\"#FFFFFF\\\" d=\\\"M3,23.5c-0.8,0-1.5-0.7-1.5-1.5V3c0-0.8,0.7-1.5,1.5-1.5h24c0.8,0,1.5,0.7,1.5,1.5v19\\r\\n\\tc0,0.8-0.7,1.5-1.5,1.5H3z\\\"/>\\r\\n<path fill=\\\"#222222\\\" d=\\\"M27,2c0.6,0,1,0.4,1,1v19c0,0.6-0.4,1-1,1H3c-0.6,0-1-0.4-1-1V3c0-0.6,0.4-1,1-1H27 M27,1H3\\r\\n\\tC1.9,1,1,1.9,1,3v19c0,1.1,0.9,2,2,2h24c1.1,0,2-0.9,2-2V3C29,1.9,28.1,1,27,1L27,1z\\\"/>\\r\\n<line fill=\\\"none\\\" stroke=\\\"#222222\\\" stroke-miterlimit=\\\"10\\\" x1=\\\"15\\\" y1=\\\"24\\\" x2=\\\"15\\\" y2=\\\"28\\\"/>\\r\\n<line fill=\\\"none\\\" stroke=\\\"#222222\\\" stroke-miterlimit=\\\"10\\\" x1=\\\"11\\\" y1=\\\"27.5\\\" x2=\\\"19\\\" y2=\\\"27.5\\\"/>\\r\\n<path fill=\\\"#FFFFFF\\\" d=\\\"M27,27.5c-0.8,0-1.5-0.7-1.5-1.5V15c0-0.8,0.7-1.5,1.5-1.5h14c0.8,0,1.5,0.7,1.5,1.5v11\\r\\n\\tc0,0.8-0.7,1.5-1.5,1.5H27z\\\"/>\\r\\n<path fill=\\\"#222222\\\" d=\\\"M41,14c0.6,0,1,0.4,1,1v11c0,0.6-0.4,1-1,1H27c-0.6,0-1-0.4-1-1V15c0-0.6,0.4-1,1-1H41 M41,13H27\\r\\n\\tc-1.1,0-2,0.9-2,2v11c0,1.1,0.9,2,2,2h14c1.1,0,2-0.9,2-2V15C43,13.9,42.1,13,41,13L41,13z\\\"/>\\r\\n<circle fill=\\\"#111111\\\" cx=\\\"39.4\\\" cy=\\\"20.5\\\" r=\\\"1\\\"/>\\r\\n</svg>\"; return o; }; });\n","\ndefine('troopjs-requirejs/template!school-ui-progress-report/vector/ico_point_black.svg',[],function() { return function template(data) { var o = \"<?xml version=\\\"1.0\\\" encoding=\\\"utf-8\\\"?>\\n<!-- Generator: Adobe Illustrator 16.0.0, SVG Export Plug-In . SVG Version: 6.00 Build 0)  -->\\n<!DOCTYPE svg PUBLIC \\\"-//W3C//DTD SVG 1.1//EN\\\" \\\"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd\\\">\\n<svg version=\\\"1.1\\\" id=\\\"Layer_1\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" x=\\\"0px\\\" y=\\\"0px\\\"\\n\\t width=\\\"32px\\\" height=\\\"32px\\\" viewBox=\\\"0 0 32 32\\\" enable-background=\\\"new 0 0 32 32\\\" xml:space=\\\"preserve\\\">\\n<circle fill=\\\"#000000\\\"  cx=\\\"16\\\" cy=\\\"16\\\" r=\\\"4\\\"/>\\n</svg>\"; return o; }; });\n","\ndefine('troopjs-requirejs/template!school-ui-progress-report/vector/ico_point_green.svg',[],function() { return function template(data) { var o = \"<?xml version=\\\"1.0\\\" encoding=\\\"utf-8\\\"?>\\n<!-- Generator: Adobe Illustrator 16.0.0, SVG Export Plug-In . SVG Version: 6.00 Build 0)  -->\\n<!DOCTYPE svg PUBLIC \\\"-//W3C//DTD SVG 1.1//EN\\\" \\\"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd\\\">\\n<svg version=\\\"1.1\\\" id=\\\"Layer_1\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" x=\\\"0px\\\" y=\\\"0px\\\"\\n\\t width=\\\"32px\\\" height=\\\"32px\\\" viewBox=\\\"0 0 32 32\\\" enable-background=\\\"new 0 0 32 32\\\" xml:space=\\\"preserve\\\">\\n<circle fill=\\\"#00C950\\\" cx=\\\"16\\\" cy=\\\"16\\\" r=\\\"4\\\"/>\\n</svg>\"; return o; }; });\n","\ndefine('troopjs-requirejs/template!school-ui-progress-report/vector/ico_progress_flag.svg',[],function() { return function template(data) { var o = \"<svg class=\\\"icon\\\" viewBox=\\\"0 0 1024 1024\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"200\\\" height=\\\"200\\\"><defs><style/></defs><path d=\\\"M121.522 927.927a15.088 15.088 0 0 1-15.083-15.083V83.76c0-8.326 6.757-15.083 15.083-15.083s15.083 6.757 15.083 15.083v829.083a15.049 15.049 0 0 1-15.083 15.083z\\\"/><path d=\\\"M812.445 513.386H121.522a15.088 15.088 0 0 1-15.083-15.083V83.759a15.088 15.088 0 0 1 15.083-15.083h690.893a15.079 15.079 0 0 1 13.576 8.506 15.106 15.106 0 0 1-1.752 15.928L667.557 291.03 824.24 488.949a15.042 15.042 0 0 1 1.752 15.928 15.033 15.033 0 0 1-13.546 8.506zm-675.84-30.167h644.648L636.519 300.383a15.095 15.095 0 0 1 0-18.734L781.253 98.842H136.605v384.375z\\\"/><path d=\\\"M116.439 88.413H625.68v397.346H116.439z\\\"/><path d=\\\"M611.98 90.697h168.985v34.254H611.98z\\\"/><path d=\\\"M595.994 108.965h155.284v59.374H595.994z\\\"/><path d=\\\"M559.456 127.234h123.315V239.13H559.456z\\\"/><path d=\\\"M513.784 147.787h210.091v47.955h-210.09z\\\"/><path d=\\\"M486.381 159.205H669.07v89.06H486.381z\\\"/><path d=\\\"M616.546 234.563h22.836v107.33h-22.836zm54.807-66.224h27.403v52.523h-27.403z\\\"/><path d=\\\"M607.412 184.324h45.672v139.3h-45.672zm-4.567 210.09H707.89v43.39H602.845z\\\"/><path d=\\\"M595.994 307.638h66.224v187.255h-66.224z\\\"/><path d=\\\"M646.233 417.25h107.329v82.21H646.233zm-4.567-77.641h52.523v77.642h-52.523z\\\"/><path d=\\\"M671.353 373.863h54.806v66.224h-54.806z\\\"/><path d=\\\"M673.636 424.102h31.97v4.567h-31.97zm-18.269-43.389h31.97v25.12h-31.97zM739.972 464.74a13.702 14.843 82.967 1 0 29.464-3.635 13.702 14.843 82.967 1 0-29.464 3.635z\\\"/><path d=\\\"M748.995 467.49h47.955v29.687h-47.955zm-158.71-253.48h79.926v41.106h-79.926zM720.45 106.683h38.821v50.239H720.45zm-36.538 84.493h34.254v9.134h-34.254z\\\"/><path d=\\\"M615.404 227.712h41.105v36.538h-41.105z\\\"/></svg>\"; return o; }; });\n","\ndefine('troopjs-requirejs/template!school-ui-progress-report/vector/ico_progress.svg',[],function() { return function template(data) { var o = \"<?xml version=\\\"1.0\\\" encoding=\\\"utf-8\\\"?>\\r\\n<!-- Generator: Adobe Illustrator 18.1.1, SVG Export Plug-In . SVG Version: 6.00 Build 0)  -->\\r\\n<svg version=\\\"1.1\\\" id=\\\"Layer_1\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" x=\\\"0px\\\" y=\\\"0px\\\" width=\\\"20px\\\" height=\\\"20px\\\"\\r\\n\\t viewBox=\\\"0 0 20 20\\\" enable-background=\\\"new 0 0 20 20\\\" xml:space=\\\"preserve\\\">\\r\\n<polygon fill=\\\"#4B4A48\\\" points=\\\"0.4,15.8 -0.4,15.2 6,7.8 11,12.3 17.6,4.7 18.4,5.3 11,13.7 6,9.2 \\\"/>\\r\\n<polygon fill=\\\"#4B4A48\\\" points=\\\"20,20 0,20 0,0 1,0 1,19 20,19 \\\"/>\\r\\n</svg>\"; return o; }; });\n","\ndefine('troopjs-requirejs/template!school-ui-progress-report/vector/ico_spin_next_page.svg',[],function() { return function template(data) { var o = \"<?xml version=\\\"1.0\\\" encoding=\\\"utf-8\\\"?>\\n<!DOCTYPE svg PUBLIC \\\"-//W3C//DTD SVG 1.1//EN\\\" \\\"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd\\\">\\n<svg version=\\\"1.1\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" x=\\\"0px\\\" y=\\\"0px\\\"\\n\\t width=\\\"11px\\\" height=\\\"21px\\\" viewBox=\\\"0 0 11 21\\\" xml:space=\\\"preserve\\\">\\n<path stroke=\\\"#157cfb\\\" stroke-width=\\\"1\\\" fill=\\\"none\\\" d=\\\"M0,0L11,10.5L0,21\\\"/>\\n</svg>\"; return o; }; });\n","\ndefine('troopjs-requirejs/template!school-ui-progress-report/vector/ico_spin_previous_page.svg',[],function() { return function template(data) { var o = \"<?xml version=\\\"1.0\\\" encoding=\\\"utf-8\\\"?>\\n<!DOCTYPE svg PUBLIC \\\"-//W3C//DTD SVG 1.1//EN\\\" \\\"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd\\\">\\n<svg version=\\\"1.1\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" x=\\\"0px\\\" y=\\\"0px\\\"\\n\\t width=\\\"11px\\\" height=\\\"21px\\\" viewBox=\\\"0 0 11 21\\\" xml:space=\\\"preserve\\\">\\n<path stroke=\\\"#157cfb\\\" stroke-width=\\\"1\\\" fill=\\\"none\\\" d=\\\"M11,0L0,10.5L11,21\\\"/>\\n</svg>\"; return o; }; });\n","\ndefine('troopjs-requirejs/template!school-ui-progress-report/vector/ico_survey_rating1.svg',[],function() { return function template(data) { var o = \"<?xml version=\\\"1.0\\\" encoding=\\\"UTF-8\\\" standalone=\\\"no\\\"?>\\n<svg width=\\\"30px\\\" height=\\\"30px\\\" viewBox=\\\"0 0 30 30\\\" version=\\\"1.1\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\"\\n\\t xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\">\\n\\t<g stroke=\\\"none\\\" stroke-width=\\\"1\\\" fill=\\\"none\\\" fill-rule=\\\"evenodd\\\">\\n\\t\\t<g transform=\\\"translate(-431.000000, -231.000000)\\\">\\n\\t\\t\\t<g transform=\\\"translate(364.000000, 76.000000)\\\">\\n\\t\\t\\t\\t<g transform=\\\"translate(60.000000, 150.000000)\\\">\\n\\t\\t\\t\\t\\t<g transform=\\\"translate(7.000000, 5.000000)\\\">\\n\\t\\t\\t\\t\\t\\t<circle class=\\\"ets-pr-fb-survey-icon-background\\\" cx=\\\"15\\\" cy=\\\"15\\\" r=\\\"15\\\"/>\\n\\t\\t\\t\\t\\t\\t<path class=\\\"ets-pr-fb-survey-icon-fill\\\"\\n\\t\\t\\t\\t\\t\\t\\t  d=\\\"M10.6929508,20.4193492 L9.29089089,19.2278481 L8.73417722,20.0278992 L10.1362371,21.2194003 C11.553368,22.4235126 13.2509108,23.0253165 14.9493671,23.0253165 C16.6478233,23.0253165 18.3458229,22.4235126 19.7624971,21.2194003 L21.164557,20.0278992 L20.6078433,19.2278481 L19.2062401,20.4193492 C16.6998868,22.549624 13.1997608,22.5486151 10.6929508,20.4193492 Z\\\"\\n\\t\\t\\t\\t\\t\\t\\t  transform=\\\"translate(14.949367, 21.126582) scale(-1, -1) translate(-14.949367, -21.126582) \\\"/>\\n\\t\\t\\t\\t\\t\\t<path class=\\\"ets-pr-fb-survey-icon-fill\\\"\\n\\t\\t\\t\\t\\t\\t\\t  d=\\\"M9.21518987,14.2721519 C9.21518987,13.5765528 9.78266262,13.0126582 10.478689,13.0126582 L10.5086528,13.0126582 C11.2064641,13.0126582 11.7721519,13.5717032 11.7721519,14.2721519 L11.7721519,14.2721519 C11.7721519,14.967751 11.2046792,15.5316456 10.5086528,15.5316456 L10.478689,15.5316456 C9.7808777,15.5316456 9.21518987,14.9726006 9.21518987,14.2721519 L9.21518987,14.2721519 Z\\\"\\n\\t\\t\\t\\t\\t\\t\\t  transform=\\\"translate(10.493671, 14.272152) scale(-1, -1) translate(-10.493671, -14.272152) \\\"/>\\n\\t\\t\\t\\t\\t\\t<rect class=\\\"ets-pr-fb-survey-icon-fill\\\"\\n\\t\\t\\t\\t\\t\\t\\t  x=\\\"18.2278481\\\" y=\\\"13.0126582\\\" width=\\\"2.55696203\\\" height=\\\"2.51898734\\\"\\n\\t\\t\\t\\t\\t\\t\\t  rx=\\\"1.25949367\\\"/>\\n\\t\\t\\t\\t\\t\\t<path class=\\\"ets-pr-fb-survey-icon-stroke\\\"\\n\\t\\t\\t\\t\\t\\t\\t  d=\\\"M8,9 L12.5,11.5\\\" stroke-linecap=\\\"round\\\"/>\\n\\t\\t\\t\\t\\t\\t<path class=\\\"ets-pr-fb-survey-icon-stroke\\\"\\n\\t\\t\\t\\t\\t\\t\\t  d=\\\"M18,9 L22.5,11.5\\\" stroke-linecap=\\\"round\\\"\\n\\t\\t\\t\\t\\t\\t\\t  transform=\\\"translate(20.250000, 10.250000) scale(-1, 1) translate(-20.250000, -10.250000) \\\"/>\\n\\t\\t\\t\\t\\t</g>\\n\\t\\t\\t\\t</g>\\n\\t\\t\\t</g>\\n\\t\\t</g>\\n\\t</g>\\n</svg>\"; return o; }; });\n","\ndefine('troopjs-requirejs/template!school-ui-progress-report/vector/ico_survey_rating2.svg',[],function() { return function template(data) { var o = \"<?xml version=\\\"1.0\\\" encoding=\\\"UTF-8\\\" standalone=\\\"no\\\"?>\\n<svg width=\\\"30px\\\" height=\\\"30px\\\" viewBox=\\\"0 0 30 30\\\" version=\\\"1.1\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\"\\n\\t xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\">\\n\\t<g stroke=\\\"none\\\" stroke-width=\\\"1\\\" fill=\\\"none\\\" fill-rule=\\\"evenodd\\\">\\n\\t\\t<g transform=\\\"translate(-568.000000, -231.000000)\\\">\\n\\t\\t\\t<g transform=\\\"translate(364.000000, 76.000000)\\\">\\n\\t\\t\\t\\t<g transform=\\\"translate(60.000000, 150.000000)\\\">\\n\\t\\t\\t\\t\\t<g transform=\\\"translate(144.000000, 5.000000)\\\">\\n\\t\\t\\t\\t\\t\\t<circle class=\\\"ets-pr-fb-survey-icon-background\\\" cx=\\\"15\\\" cy=\\\"15\\\" r=\\\"15\\\"/>\\n\\t\\t\\t\\t\\t\\t<path d=\\\"M19.8715667,19.4193492 C17.1150886,21.549624 13.2656628,21.5486151 10.5086824,19.4193492 L8.96670204,18.2278481 L8.35443038,19.0278992 L9.8964107,20.2194003 C11.454966,21.4235126 13.3219175,22.0253165 15.1898734,22.0253165 C17.0578294,22.0253165 18.9252831,21.4235126 20.4833361,20.2194003 L22.0253165,19.0278992 L21.4130448,18.2278481 L19.8715667,19.4193492 L19.8715667,19.4193492 Z\\\"\\n\\t\\t\\t\\t\\t\\t\\t  class=\\\"ets-pr-fb-survey-icon-fill\\\"\\n\\t\\t\\t\\t\\t\\t\\t  transform=\\\"translate(15.189873, 20.126582) scale(-1, -1) translate(-15.189873, -20.126582) \\\"/>\\n\\t\\t\\t\\t\\t\\t<rect class=\\\"ets-pr-fb-survey-icon-fill\\\"\\n\\t\\t\\t\\t\\t\\t\\t  transform=\\\"translate(9.493671, 11.772152) scale(-1, -1) translate(-9.493671, -11.772152) \\\"\\n\\t\\t\\t\\t\\t\\t\\t  x=\\\"7.21518987\\\" y=\\\"11.0126582\\\" width=\\\"4.55696203\\\" height=\\\"1.51898734\\\"\\n\\t\\t\\t\\t\\t\\t\\t  rx=\\\"0.759493671\\\"/>\\n\\t\\t\\t\\t\\t\\t<rect class=\\\"ets-pr-fb-survey-icon-fill\\\"\\n\\t\\t\\t\\t\\t\\t\\t  x=\\\"18.2278481\\\" y=\\\"11.0126582\\\" width=\\\"4.55696203\\\" height=\\\"1.51898734\\\"\\n\\t\\t\\t\\t\\t\\t\\t  rx=\\\"0.759493671\\\"/>\\n\\t\\t\\t\\t\\t</g>\\n\\t\\t\\t\\t</g>\\n\\t\\t\\t</g>\\n\\t\\t</g>\\n\\t</g>\\n</svg>\"; return o; }; });\n","\ndefine('troopjs-requirejs/template!school-ui-progress-report/vector/ico_survey_rating3.svg',[],function() { return function template(data) { var o = \"<?xml version=\\\"1.0\\\" encoding=\\\"UTF-8\\\" standalone=\\\"no\\\"?>\\n<svg width=\\\"30px\\\" height=\\\"30px\\\" viewBox=\\\"0 0 30 30\\\" version=\\\"1.1\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\"\\n\\t xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\">\\n\\t<g stroke=\\\"none\\\" stroke-width=\\\"1\\\" fill=\\\"none\\\" fill-rule=\\\"evenodd\\\">\\n\\t\\t<g transform=\\\"translate(-705.000000, -231.000000)\\\">\\n\\t\\t\\t<g transform=\\\"translate(364.000000, 76.000000)\\\">\\n\\t\\t\\t\\t<g transform=\\\"translate(60.000000, 150.000000)\\\">\\n\\t\\t\\t\\t\\t<g transform=\\\"translate(281.000000, 5.000000)\\\">\\n\\t\\t\\t\\t\\t\\t<circle class=\\\"ets-pr-fb-survey-icon-background\\\" cx=\\\"15\\\" cy=\\\"15\\\" r=\\\"15\\\"/>\\n\\t\\t\\t\\t\\t\\t<path class=\\\"ets-pr-fb-survey-icon-stroke\\\"\\n\\t\\t\\t\\t\\t\\t\\t  d=\\\"M11,20 L19,20\\\" stroke-linecap=\\\"square\\\"/>\\n\\t\\t\\t\\t\\t\\t<rect class=\\\"ets-pr-fb-survey-icon-fill\\\"\\n\\t\\t\\t\\t\\t\\t\\t  transform=\\\"translate(9.873418, 11.772152) scale(-1, -1) rotate(90.000000) translate(-9.873418, -11.772152) \\\"\\n\\t\\t\\t\\t\\t\\t\\t  x=\\\"7.59493671\\\" y=\\\"11.0126582\\\" width=\\\"4.55696203\\\" height=\\\"1.51898734\\\"\\n\\t\\t\\t\\t\\t\\t\\t  rx=\\\"0.759493671\\\"/>\\n\\t\\t\\t\\t\\t\\t<rect class=\\\"ets-pr-fb-survey-icon-fill\\\"\\n\\t\\t\\t\\t\\t\\t\\t  transform=\\\"translate(20.126582, 11.772152) rotate(90.000000) translate(-20.126582, -11.772152) \\\"\\n\\t\\t\\t\\t\\t\\t\\t  x=\\\"17.8481013\\\" y=\\\"11.0126582\\\" width=\\\"4.55696203\\\" height=\\\"1.51898734\\\"\\n\\t\\t\\t\\t\\t\\t\\t  rx=\\\"0.759493671\\\"/>\\n\\t\\t\\t\\t\\t</g>\\n\\t\\t\\t\\t</g>\\n\\t\\t\\t</g>\\n\\t\\t</g>\\n\\t</g>\\n</svg>\"; return o; }; });\n","\ndefine('troopjs-requirejs/template!school-ui-progress-report/vector/ico_survey_rating4.svg',[],function() { return function template(data) { var o = \"<?xml version=\\\"1.0\\\" encoding=\\\"UTF-8\\\" standalone=\\\"no\\\"?>\\n<svg width=\\\"30px\\\" height=\\\"30px\\\" viewBox=\\\"0 0 30 30\\\" version=\\\"1.1\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\"\\n\\t xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\">\\n\\t<g stroke=\\\"none\\\" stroke-width=\\\"1\\\" fill=\\\"none\\\" fill-rule=\\\"evenodd\\\">\\n\\t\\t<g transform=\\\"translate(-842.000000, -231.000000)\\\">\\n\\t\\t\\t<g transform=\\\"translate(364.000000, 76.000000)\\\">\\n\\t\\t\\t\\t<g transform=\\\"translate(60.000000, 150.000000)\\\">\\n\\t\\t\\t\\t\\t<g transform=\\\"translate(418.000000, 5.000000)\\\">\\n\\t\\t\\t\\t\\t\\t<circle class=\\\"ets-pr-fb-survey-icon-background\\\" cx=\\\"15\\\" cy=\\\"15\\\" r=\\\"15\\\"/>\\n\\t\\t\\t\\t\\t\\t<path class=\\\"ets-pr-fb-survey-icon-fill\\\"\\n\\t\\t\\t\\t\\t\\t\\t  d=\\\"M10.5086824,19.4193492 L8.96670204,18.2278481 L8.35443038,19.0278992 L9.8964107,20.2194003 C11.454966,21.4235126 13.3219175,22.0253165 15.1898734,22.0253165 C17.0578294,22.0253165 18.9252831,21.4235126 20.4833361,20.2194003 L22.0253165,19.0278992 L21.4130448,18.2278481 L19.8715667,19.4193492 C17.1150886,21.549624 13.2656628,21.5486151 10.5086824,19.4193492 Z\\\"/>\\n\\t\\t\\t\\t\\t\\t<rect class=\\\"ets-pr-fb-survey-icon-fill\\\"\\n\\t\\t\\t\\t\\t\\t\\t  transform=\\\"translate(9.873418, 11.772152) scale(-1, -1) rotate(90.000000) translate(-9.873418, -11.772152) \\\"\\n\\t\\t\\t\\t\\t\\t\\t  x=\\\"7.59493671\\\" y=\\\"11.0126582\\\" width=\\\"4.55696203\\\" height=\\\"1.51898734\\\"\\n\\t\\t\\t\\t\\t\\t\\t  rx=\\\"0.759493671\\\"/>\\n\\t\\t\\t\\t\\t\\t<rect class=\\\"ets-pr-fb-survey-icon-fill\\\"\\n\\t\\t\\t\\t\\t\\t\\t  transform=\\\"translate(20.126582, 11.772152) rotate(90.000000) translate(-20.126582, -11.772152) \\\"\\n\\t\\t\\t\\t\\t\\t\\t  x=\\\"17.8481013\\\" y=\\\"11.0126582\\\" width=\\\"4.55696203\\\" height=\\\"1.51898734\\\"\\n\\t\\t\\t\\t\\t\\t\\t  rx=\\\"0.759493671\\\"/>\\n\\t\\t\\t\\t\\t</g>\\n\\t\\t\\t\\t</g>\\n\\t\\t\\t</g>\\n\\t\\t</g>\\n\\t</g>\\n</svg>\"; return o; }; });\n","\ndefine('troopjs-requirejs/template!school-ui-progress-report/vector/ico_survey_rating5.svg',[],function() { return function template(data) { var o = \"<?xml version=\\\"1.0\\\" encoding=\\\"UTF-8\\\" standalone=\\\"no\\\"?>\\n<svg width=\\\"30px\\\" height=\\\"30px\\\" viewBox=\\\"0 0 30 30\\\" version=\\\"1.1\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\"\\n\\t xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\">\\n\\t<g stroke=\\\"none\\\" stroke-width=\\\"1\\\" fill=\\\"none\\\" fill-rule=\\\"evenodd\\\">\\n\\t\\t<g transform=\\\"translate(-979.000000, -231.000000)\\\">\\n\\t\\t\\t<g transform=\\\"translate(364.000000, 76.000000)\\\">\\n\\t\\t\\t\\t<g transform=\\\"translate(60.000000, 150.000000)\\\">\\n\\t\\t\\t\\t\\t<g transform=\\\"translate(555.000000, 5.000000)\\\">\\n\\t\\t\\t\\t\\t\\t<circle class=\\\"ets-pr-fb-survey-icon-background\\\" cx=\\\"15\\\" cy=\\\"15\\\" r=\\\"15\\\"/>\\n\\t\\t\\t\\t\\t\\t<path class=\\\"ets-pr-fb-survey-icon-stroke\\\"\\n\\t\\t\\t\\t\\t\\t\\t  d=\\\"M10,18 L19.5131488,18\\\" stroke-linecap=\\\"round\\\"/>\\n\\t\\t\\t\\t\\t\\t<path class=\\\"ets-pr-fb-survey-icon-stroke\\\"\\n\\t\\t\\t\\t\\t\\t\\t  d=\\\"M10,18 C10,18 10,23 15,23 C20,23 20,18 20,18\\\" stroke-linecap=\\\"round\\\"/>\\n\\t\\t\\t\\t\\t\\t<rect class=\\\"ets-pr-fb-survey-icon-fill\\\"\\n\\t\\t\\t\\t\\t\\t\\t  transform=\\\"translate(9.873418, 11.772152) scale(-1, -1) rotate(90.000000) translate(-9.873418, -11.772152) \\\"\\n\\t\\t\\t\\t\\t\\t\\t  x=\\\"7.59493671\\\" y=\\\"11.0126582\\\" width=\\\"4.55696203\\\" height=\\\"1.51898734\\\"\\n\\t\\t\\t\\t\\t\\t\\t  rx=\\\"0.759493671\\\"/>\\n\\t\\t\\t\\t\\t\\t<rect class=\\\"ets-pr-fb-survey-icon-fill\\\"\\n\\t\\t\\t\\t\\t\\t\\t  transform=\\\"translate(20.126582, 11.772152) rotate(90.000000) translate(-20.126582, -11.772152) \\\"\\n\\t\\t\\t\\t\\t\\t\\t  x=\\\"17.8481013\\\" y=\\\"11.0126582\\\" width=\\\"4.55696203\\\" height=\\\"1.51898734\\\"\\n\\t\\t\\t\\t\\t\\t\\t  rx=\\\"0.759493671\\\"/>\\n\\t\\t\\t\\t\\t</g>\\n\\t\\t\\t\\t</g>\\n\\t\\t\\t</g>\\n\\t\\t</g>\\n\\t</g>\\n</svg>\"; return o; }; });\n","\ndefine('troopjs-requirejs/template!school-ui-progress-report/vector/ico_teacher.svg',[],function() { return function template(data) { var o = \"<?xml version=\\\"1.0\\\" encoding=\\\"UTF-8\\\" standalone=\\\"no\\\"?>\\n<svg width=\\\"22px\\\" height=\\\"15px\\\" viewBox=\\\"0 0 22 15\\\" version=\\\"1.1\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\">\\n    <g stroke=\\\"none\\\" stroke-width=\\\"1\\\" fill=\\\"#cccccc\\\" fill-rule=\\\"evenodd\\\">\\n\\t\\t<path d=\\\"M5.01598762,6.12030075 C5.01598762,4.128486 6.14086762,2.52593985 7.49350909,2.52593985 C8.84584215,2.52593985 9.97045359,4.12846775 9.97045359,6.12030075 C9.97045359,8.49849539 9.06487873,9.82894737 7.49350909,9.82894737 C5.92181211,9.82894737 5.01598762,8.49844988 5.01598762,6.12030075 L5.01598762,6.12030075 Z M4.71598762,6.12030075 C4.71598762,8.64512938 5.72619522,10.1289474 7.49350909,10.1289474 C9.26051615,10.1289474 10.2704536,8.64516803 10.2704536,6.12030075 C10.2704536,3.98086927 9.03889082,2.22593985 7.49350909,2.22593985 C5.94783814,2.22593985 4.71598762,3.98088019 4.71598762,6.12030075 L4.71598762,6.12030075 Z M13.8211393,14.15 C14.0043298,14.15 14.15,13.9964483 14.15,13.8105263 C14.15,11.957019 13.3106615,11.0201763 11.7414359,10.5214775 C11.4796913,10.4382952 11.2703819,10.3843573 10.8226397,10.2781128 C10.739901,10.2582835 10.739901,10.2582835 10.6581661,10.2385631 C10.2427304,10.1379508 10.0071753,10.0695409 9.8050177,9.98252273 C9.65093787,9.9160872 9.54721502,9.79645528 9.48311303,9.60623407 C9.47346024,9.58154078 9.47346024,9.58154078 9.46657394,9.57024922 C9.46633873,9.56985188 9.46633873,9.56985188 9.4662194,9.56965029 C9.46848721,9.57321326 9.46848721,9.57321326 9.47595513,9.59135768 L9.33375497,9.63909774 L9.43761369,9.74732605 C10.216497,8.99988917 10.6310598,7.74196667 10.6310598,6.12030075 C10.6310598,3.77474139 9.23582606,1.85 7.49350909,1.85 C5.75109353,1.85 4.35538135,3.77488805 4.35538135,6.12030075 C4.35538135,7.74898352 4.77389784,9.01275215 5.55941035,9.75982028 L5.66278321,9.65112782 L5.66278321,9.50112782 C5.63256355,9.50038848 5.63256355,9.50038848 5.56325388,9.53826825 C5.52085038,9.59092217 5.52085038,9.59092217 5.51316167,9.62587431 C5.45424635,9.79428344 5.35013582,9.91288783 5.19190689,9.98323718 C4.99136734,10.0695473 4.75593507,10.1379602 4.34082091,10.2385691 C4.25914702,10.2582894 4.25914702,10.2582894 4.17613076,10.2781996 C1.83903666,10.8280512 0.85,11.5753215 0.85,13.8105263 C0.85,13.9968588 0.996087865,14.15 1.18030313,14.15 C1.3645184,14.15 1.51060626,13.9968588 1.51060626,13.8105263 C1.51060626,12.1258365 2.22764311,11.467775 3.88991893,11.04057 C4.01082315,11.0094976 4.10642747,10.9862456 4.32586061,10.9338717 C4.87503274,10.8071934 5.17030193,10.7244836 5.45057349,10.6039656 C5.73485781,10.4820295 5.95264098,10.2553359 6.08812681,9.94947278 L5.86452853,10.0113032 C6.32663408,10.3372058 6.87619096,10.5048872 7.49350909,10.5048872 C8.11492537,10.5048872 8.6680401,10.3348171 9.13317387,10.0050769 L8.90852145,9.941723 C9.04197409,10.25356 9.25667987,10.4784333 9.54821429,10.6039405 C9.82493088,10.7229299 10.095834,10.7993494 10.673039,10.9368919 C12.7654837,11.4312129 13.4905477,11.9784914 13.4905477,13.8105263 C13.4905477,13.9968715 13.6369463,14.15 13.8211393,14.15 L13.8211393,14.15 Z M13.8211393,13.85 C13.8057229,13.85 13.7905477,13.8341272 13.7905477,13.8105263 C13.7905477,11.7988545 12.95412,11.1675187 10.7422959,10.6449957 C10.1825445,10.5116119 9.92202921,10.4381227 9.66678191,10.3283653 C9.44824436,10.2342836 9.28839352,10.0668629 9.18432634,9.82369053 L9.11123296,9.65289422 L8.95967392,9.76033666 C8.54613662,10.0534994 8.05378184,10.2048872 7.49350909,10.2048872 C6.93699414,10.2048872 6.44797025,10.0556757 6.03743095,9.76614045 L5.8879266,9.66070164 L5.81383267,9.82797083 C5.70797925,10.066938 5.54427009,10.2373451 5.33218996,10.3283112 C5.0735766,10.439516 4.79041197,10.5188352 4.25732054,10.6418084 C4.03509507,10.6948444 3.93838358,10.7183657 3.81524554,10.7500122 C2.03477803,11.2075923 1.21060626,11.9639771 1.21060626,13.8105263 C1.21060626,13.8342549 1.19558635,13.85 1.18030313,13.85 C1.16501992,13.85 1.15,13.8342549 1.15,13.8105263 C1.15,11.7548908 2.02748139,11.0919065 4.2454795,10.5700734 C4.32919709,10.5499966 4.32919709,10.5499966 4.41148447,10.5301281 C4.84250435,10.4256642 5.08969678,10.353834 5.31215215,10.2580788 C5.55046923,10.1521334 5.71191809,9.96820829 5.80245777,9.70251911 C5.80110998,9.71358911 5.80110998,9.71358911 5.76000467,9.76473927 C5.69199318,9.80186716 5.69199318,9.80186716 5.66278321,9.80112782 L6.03816094,9.80112782 L5.76615608,9.54243536 C5.04804303,8.85946805 4.65538135,7.6737716 4.65538135,6.12030075 C4.65538135,3.92360243 5.94139822,2.15 7.49350909,2.15 C9.04549909,2.15 10.3310598,3.92344615 10.3310598,6.12030075 C10.3310598,7.66715974 9.94208751,8.84743197 9.22989624,9.53086944 L9.1915548,9.68683781 C9.20207446,9.71256316 9.20207446,9.71256316 9.20799006,9.72235132 C9.2082355,9.72276603 9.2082355,9.72276603 9.20836447,9.72298386 C9.20544484,9.71845922 9.20544484,9.71845922 9.1968168,9.69561657 C9.28913343,9.97003625 9.45078904,10.1564867 9.68632073,10.2580423 C9.90887004,10.353838 10.15619,10.4256647 10.587552,10.5301341 C10.6699003,10.5500025 10.6699003,10.5500025 10.7530366,10.5699265 C11.1939485,10.6745508 11.3982466,10.7271973 11.6505742,10.8073868 C13.1048719,11.2695617 13.85,12.1012497 13.85,13.8105263 C13.85,13.834195 13.8350062,13.85 13.8211393,13.85 L13.8211393,13.85 Z\\\"></path>\\n\\t\\t<path d=\\\"M9,1.3 L21,1.3 L20.7,1 L20.7,10 L21,9.7 L9.35285501,9.7 L9.35285501,10.3 L21,10.3 L21.3,10.3 L21.3,10 L21.3,1 L21.3,0.7 L21,0.7 L9,0.7 L9,1.3 L9,1.3 Z\\\"></path>\\n\\t\\t<path d=\\\"M9,1 L9,3 L9,3.3 L9.6,3.3 L9.6,3 L9.6,1 L9.6,0.7 L9,0.7 L9,1 L9,1 Z\\\"></path>\\n\\t\\t<path d=\\\"M14.2910428,14.0727607 L16.2910428,6.07276069 L16.3638034,5.78171794 L15.7817179,5.63619656 L15.7089572,5.92723931 L13.7089572,13.9272393 L13.6361966,14.2182821 L14.2182821,14.3638034 L14.2910428,14.0727607 L14.2910428,14.0727607 Z\\\"></path>\\n    </g>\\n</svg>\"; return o; }; });\n"]}