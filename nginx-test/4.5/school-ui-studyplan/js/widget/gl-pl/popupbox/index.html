<div class="popupbox-cover" style="
    z-index: <%= (data.zIndex || 1) %>;
    background-color: <%= (data.bgColor || "#000") %>;
    opacity: <%= (data.opacity || 0.8) %>;
    filter: alpha(opacity=<%= (data.opacity || 0.8) * 100 %>);
    margin-top: <%= (data.top || 0) %>px;
">
    <% if (data.keySupport) { %>
        <style>
            input.popupbox-keysupport
            {
                width: 1px;
                height: 1px;
                border-width: 0;
                overflow: hidden;
                float: right;
                background-color: transparent;
                outline: none;
                position: absolute;
                top: -1px;
            }
        </style>
        <input class="popupbox-keysupport" type="text" />
    <% } %>
</div>
<div class="popupbox" style="
    z-index: <%= (data.zIndex || 1) %>;
    margin-top: <%= (data.top || 0) %>px;
">
    <div class="popupbox-main" style="
        height: 100%;
        <% if(!data.fullSize) { %>
            text-align: center;
        <% } %>
    ">
        <% if(!data.isInnerClose) { closeButton(data.hasCloseButton); } %>
        <div class="popupbox-content popupbox-out" style="
            <% if(!data.fullSize) { %>
                text-align: left;
                display: inline-block;
                *display: inline;
                *zoom: 1;
            <% } %>
        ">
            <% if(data.isInnerClose) { closeButton(data.hasCloseButton); } %>
        </div>
    </div>
</div>

<% function closeButton(exist) { %>
    <% if (exist) { %>
        <style>
            .popupbox a.popupbox-close
            {
                width: 34px;
                height: 35px;
                overflow: hidden;
                background: url(data:image/png;base64,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) left top no-repeat;
                *background-image: url(/_imgs/evc/block/high/btn_close.png);
                position: absolute;
                right: -15px;
                top: -10px;
                cursor: pointer;
                text-indent: -5000px;
            }
        </style>
        <a class="popupbox-close" title="Close">Close</a>
    <% } %>
<% } %>
<style>
    style
    {
        display: none;
    }
    /*
    * Animation for pop effect
    */
    /* No animation */
    .popupbox-in
    {
        visibility: visible;
    }
    .popupbox-out
    {
        visibility: hidden;
    }
    /* With animation */
    .popupbox-pop {
        -webkit-transform-origin: 50% 50%;
        -moz-transform-origin: 50% 50%;
    }
    .popupbox-pop.popupbox-in {
        visibility: visible;
        opacity: 1;
        -webkit-transform: scale(1);

        -webkit-animation-name: popin;
        -moz-animation-name: popin;
        -webkit-animation-duration: 200ms;
        -moz-animation-duration: 200ms;
        -webkit-animation-timing-function: ease-out;
        -moz-animation-timing-function: ease-out;
    }
    .popupbox-pop.popupbox-out {
        visibility: visible;
        opacity: 0;
        -webkit-transform: scale(.8);

        -webkit-animation-name: popout;
        -moz-animation-name: popout;
        -webkit-animation-duration: 100ms;
        -moz-animation-duration: 100ms;
        -webkit-animation-timing-function: ease-in;
        -moz-animation-timing-function: ease-in;
    }
    @-webkit-keyframes popin {
        from {
            -webkit-transform: scale(.8);
            opacity: 0;
        }
        to {
            -webkit-transform: scale(1);
            opacity: 1;
        }
    }
    @-webkit-keyframes popout {
        from {
            -webkit-transform: scale(1);
            opacity: 1;
        }
        to {
            -webkit-transform: scale(.8);
            opacity: 0;
        }
    }
    /* evc style */
    .popupbox-cover,
    .popupbox
    {
        position: <%= (data.position || "fixed") %>;
        left: 0;
        top: 0;
        width: 100%;
        height: 100%;
        overflow: hidden;
    }
    .popupbox-main,
    .popupbox-content
    {
        position: relative;
    }
    .popupbox-main
    {
        overflow-y: auto;
        overflow-x: hidden;
    }
    .popupbox-content
    {
        -webkit-transition: margin-top .3s ease-out;
        -moz-transition: margin-top .3s ease-out;
        -o-transition: margin-top .3s ease-out;
        transition: margin-top .3s ease-out;
    }
</style>
